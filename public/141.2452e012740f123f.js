"use strict";(self.webpackChunkbase_platform=self.webpackChunkbase_platform||[]).push([[141],{5141:(it,F,r)=>{r.r(F),r.d(F,{DevToolsModule:()=>at});var c=r(177),g=r(4710),y=r(4341),t=r(4438);const R=[{path:"",component:y.N,loadChildren:()=>Promise.resolve().then(r.bind(r,214)).then(a=>a.SysLogErrorsModule)}];let b=(()=>{class a{static#t=this.\u0275fac=function(e){return new(e||a)};static#e=this.\u0275mod=t.$C({type:a});static#o=this.\u0275inj=t.G2t({imports:[g.iI.forChild(R),g.iI]})}return a})();var p=r(9969),M=r(2578),x=r(5312),f=r(6354),E=r(1626);let D=(()=>{class a{constructor(o){this.http=o,this.url_execute_reporter=`${x.c.base_url}/dev-tools/ejecutar-query`,this.url_export_reporter=`${x.c.base_url}/dev-tools/exportar-query`}ejecutarReporte(o){return this.http.get(this.url_execute_reporter,{params:o}).pipe((0,f.T)(e=>e))}exportarReporte(o){return this.http.get(this.url_export_reporter,{params:o,responseType:"blob"})}static#t=this.\u0275fac=function(e){return new(e||a)(t.KVO(E.Qq))};static#e=this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var _=r(2616),j=r(9417),T=r(8834),$=r(9213),S=r(9631),L=r(2102),G=r(5596),d=r(9159);const P=()=>["noResultsFound"],v=()=>["loadingResults"],m=()=>["executionError"],k=a=>({hide:a});function O(a,n){if(1&a){const o=t.RV6();t.j41(0,"div")(1,"mat-form-field",31)(2,"mat-label"),t.EFF(3,"Query"),t.k0s(),t.j41(4,"textarea",32),t.mxI("ngModelChange",function(i){t.eBV(o);const l=t.XpG();return t.DH7(l.execQuery,i)||(l.execQuery=i),t.Njj(i)}),t.k0s()()()}if(2&a){const o=t.XpG();t.R7$(4),t.R50("ngModel",o.execQuery)}}function h(a,n){if(1&a){const o=t.RV6();t.j41(0,"button",17),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.execQuery="")}),t.EFF(1," Limpiar Query "),t.k0s()}if(2&a){const o=t.XpG();t.Y8G("disabled",!o.execQuery),t.BMQ("aria-label","Clean Query")("aria-pressed","cleanQuery")}}function w(a,n){if(1&a){const o=t.RV6();t.j41(0,"button",33),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.hideQuery=!0)}),t.j41(1,"mat-icon"),t.EFF(2,"remove_red_eye"),t.k0s(),t.EFF(3," Ocultar Query "),t.k0s()}if(2&a){const o=t.XpG();t.Y8G("disabled",!o.execQuery),t.BMQ("aria-label","Hide Query")("aria-pressed","hideQuery")}}function Q(a,n){if(1&a){const o=t.RV6();t.j41(0,"button",34),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.hideQuery=!1)}),t.j41(1,"mat-icon"),t.EFF(2,"edit"),t.k0s(),t.EFF(3," Editar Query "),t.k0s()}if(2&a){const o=t.XpG();t.Y8G("disabled",!o.execQuery),t.BMQ("aria-label","Edit Query")("aria-pressed","editQuery")}}function N(a,n){1&a&&(t.j41(0,"mat-icon"),t.EFF(1,"archive"),t.k0s())}function I(a,n){if(1&a&&(t.j41(0,"th",38),t.EFF(1),t.k0s()),2&a){const o=t.XpG().$implicit;t.R7$(),t.SpI(" ",o," ")}}function Y(a,n){if(1&a&&(t.j41(0,"td",39),t.EFF(1),t.k0s()),2&a){const o=n.$implicit,e=t.XpG().$implicit;t.R7$(),t.SpI(" ",o[e]," ")}}function V(a,n){1&a&&(t.qex(0,35),t.DNE(1,I,2,1,"th",36)(2,Y,2,1,"td",37),t.bVm()),2&a&&t.Y8G("matColumnDef",n.$implicit)}function B(a,n){if(1&a&&(t.j41(0,"td",40)(1,"span"),t.EFF(2,"No se encontraron registros "),t.k0s()()),2&a){const o=t.XpG();t.BMQ("colspan",o.displayedColumns.length)}}function X(a,n){if(1&a&&(t.j41(0,"td",40)(1,"span"),t.EFF(2,"--| Cargando Resultados |--"),t.k0s()()),2&a){const o=t.XpG();t.BMQ("colspan",o.displayedColumns.length)}}function z(a,n){if(1&a&&(t.j41(0,"td",40)(1,"span"),t.EFF(2),t.k0s()()),2&a){const o=t.XpG();t.BMQ("colspan",o.displayedColumns.length),t.R7$(2),t.JRh(o.errorMessage)}}function H(a,n){1&a&&t.nrm(0,"tr",41)}function J(a,n){1&a&&t.nrm(0,"tr",42)}function U(a,n){if(1&a&&t.nrm(0,"tr",43),2&a){const o=t.XpG();t.Y8G("ngClass",t.eq3(1,k,!(null!=o.dataSource&&0==o.dataSource.length)||o.isLoading||o.errorMessage))}}function A(a,n){if(1&a&&t.nrm(0,"tr",43),2&a){const o=t.XpG();t.Y8G("ngClass",t.eq3(1,k,!o.isLoading))}}function q(a,n){if(1&a&&t.nrm(0,"tr",44),2&a){const o=t.XpG();t.Y8G("ngClass",t.eq3(1,k,!o.errorMessage))}}const W=[{path:"dev-tools/mysql-reportes",component:(()=>{class a{constructor(o,e){this.reporterService=o,this.sharedService=e,this.isLoadingExcel=!1,this.totalResults=0,this.totalColumns=0,this.execTime=0,this.hideQuery=!1,this.savedQueryLoaded=!1,this.limitQuery=100,this.dataSource=[],this.displayedColumns=[],this.pageSize=20,this.currentPage=0,this.resultsLength=0,this.paginarResultados=!1}ngOnInit(){this.isLoading=!1}loadResultsData(o){}clearResults(o=!1){this.errorMessage=void 0,this.dataSource=[],this.displayedColumns=[],this.totalColumns=0,this.totalResults=0,this.execTime=0,o||(this.hideQuery=!1)}executeQuery(){this.isLoading=!0,this.clearResults(this.hideQuery),this.reporterService.ejecutarReporte({query:this.execQuery,limit:this.limitQuery}).subscribe({next:o=>{console.log(o),this.displayedColumns=o.columns,this.totalColumns=o.columns.length,this.totalResults=o.data.length,this.execTime=o.exec_time,o.data.length<=500?(this.dataSource=o.data,this.hideQuery=!0):this.errorMessage="Son demasiados resultados para mostrarlos en el navegador",this.isLoading=!1},error:o=>{this.errorMessage=o.error.error,this.sharedService.showSnackBar("Status: "+o.status+": "+this.errorMessage,"Cerrar",5e3),this.isLoading=!1},complete:()=>{this.sharedService.showSnackBar("\xa1Consulta Completada!","Cerrar",3e3)}})}downloadReport(){this.isLoadingExcel=!0,this.reporterService.exportarReporte({query:this.execQuery}).subscribe({next:o=>{M.saveAs(o,"reporte"),this.isLoadingExcel=!1},error:o=>{this.errorMessage="Ocurrio un error al intentar descargar el archivo",this.isLoadingExcel=!1},complete:()=>{console.log(this.execQuery)}})}static#t=this.\u0275fac=function(e){return new(e||a)(t.rXU(D),t.rXU(_.d))};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["mysql-reporter"]],decls:53,vars:28,consts:[["reultsTable",""],[1,"flex-column","flex-gap",2,"width","100%","padding","8px"],[4,"ngIf"],[1,"flex-row","flex-gap",2,"align-items","center"],["appearance","outline",1,"small-search-input"],["matInput","","type","number","placeholder","Limit",3,"ngModelChange","ngModel"],[1,"flex-fill"],[1,"flex-row","flex-gap","action-panel"],[1,"flex-row","flex-gap"],["mat-raised-button","",3,"disabled","click",4,"ngIf"],["mat-button","",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","info",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click","disabled"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"flex-row","flex-gap","info-results"],[1,"item","flex-fill"],[1,"item"],["mat-raised-button","",3,"click","disabled"],[1,"table-card","flex-fill"],[1,"flex-column",2,"height","100%"],[1,"main-list-table","flex-fill"],["mat-table","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","noResultsFound"],["mat-footer-cell","","class","no-results-found",4,"matFooterCellDef"],["matColumnDef","loadingResults"],["matColumnDef","executionError"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","","class","not-results-found",3,"ngClass",4,"matFooterRowDef"],["mat-footer-row","","class","execution-error",3,"ngClass",4,"matFooterRowDef"],["appearance","outline",1,"dense-form-field",2,"width","100%"],["matInput","","placeholder","Query a ejecutar","rows","5",3,"ngModelChange","ngModel"],["mat-button","",3,"click","disabled"],["mat-raised-button","","color","info",3,"click","disabled"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-footer-cell","",1,"no-results-found"],["mat-header-row",""],["mat-row",""],["mat-footer-row","",1,"not-results-found",3,"ngClass"],["mat-footer-row","",1,"execution-error",3,"ngClass"]],template:function(e,i){if(1&e){const l=t.RV6();t.j41(0,"mat-card",1),t.DNE(1,O,5,1,"div",2),t.j41(2,"div",3)(3,"span"),t.EFF(4,"Limit:"),t.k0s(),t.j41(5,"div")(6,"mat-form-field",4)(7,"input",5),t.mxI("ngModelChange",function(C){return t.eBV(l),t.DH7(i.limitQuery,C)||(i.limitQuery=C),t.Njj(C)}),t.k0s()()(),t.j41(8,"span"),t.EFF(9,"*solo para resultados en el navegador"),t.k0s(),t.nrm(10,"div",6),t.k0s(),t.j41(11,"div",7)(12,"section",8),t.DNE(13,h,2,3,"button",9)(14,w,4,3,"button",10)(15,Q,4,3,"button",11),t.k0s(),t.nrm(16,"div",6),t.j41(17,"button",12),t.bIt("click",function(){return t.eBV(l),t.Njj(i.executeQuery())}),t.j41(18,"mat-icon"),t.EFF(19),t.k0s(),t.EFF(20),t.k0s(),t.j41(21,"button",13),t.bIt("click",function(){return t.eBV(l),t.Njj(i.downloadReport())}),t.DNE(22,N,2,0,"mat-icon",2),t.EFF(23),t.k0s()()(),t.j41(24,"section",14)(25,"section",15),t.EFF(26),t.k0s(),t.j41(27,"section",15),t.EFF(28),t.k0s(),t.j41(29,"section",15),t.EFF(30),t.k0s(),t.j41(31,"section",16)(32,"button",17),t.bIt("click",function(){return t.eBV(l),t.Njj(i.clearResults())}),t.j41(33,"mat-icon"),t.EFF(34,"backspace"),t.k0s(),t.EFF(35," Limpiar Resultados"),t.k0s()()(),t.j41(36,"mat-card",18)(37,"div",19)(38,"div",20)(39,"table",21,0),t.DNE(41,V,3,1,"ng-container",22),t.qex(42,23),t.DNE(43,B,3,1,"td",24),t.bVm(),t.qex(44,25),t.DNE(45,X,3,1,"td",24),t.bVm(),t.qex(46,26),t.DNE(47,z,3,2,"td",24),t.bVm(),t.DNE(48,H,1,0,"tr",27)(49,J,1,0,"tr",28)(50,U,1,3,"tr",29)(51,A,1,3,"tr",29)(52,q,1,3,"tr",30),t.k0s()()()()}2&e&&(t.R7$(),t.Y8G("ngIf",!i.hideQuery),t.R7$(6),t.R50("ngModel",i.limitQuery),t.R7$(6),t.Y8G("ngIf",!i.hideQuery),t.R7$(),t.Y8G("ngIf",!i.hideQuery&&i.dataSource.length>0),t.R7$(),t.Y8G("ngIf",i.hideQuery),t.R7$(2),t.Y8G("disabled",!i.execQuery),t.R7$(2),t.JRh(i.hideQuery?"refresh":"play_arrow"),t.R7$(),t.SpI(" ",i.hideQuery?"Recargar":"Ejecutar"," "),t.R7$(),t.AVh("button-spinner",i.isLoadingExcel),t.Y8G("disabled",!i.execQuery||i.isLoadingExcel),t.R7$(),t.Y8G("ngIf",!i.isLoadingExcel),t.R7$(),t.SpI(" ",i.isLoadingExcel?"Generando...":"Descargar"," "),t.R7$(3),t.SpI("Total Resultados: ",i.totalResults,""),t.R7$(2),t.SpI("No de Columnas: ",i.totalColumns,""),t.R7$(2),t.SpI("Tiempo de Ejecuci\xf3n: ",i.execTime,""),t.R7$(2),t.Y8G("disabled",0==i.dataSource.length&&0==i.totalColumns),t.R7$(7),t.Y8G("dataSource",i.dataSource),t.R7$(2),t.Y8G("ngForOf",i.displayedColumns),t.R7$(7),t.Y8G("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),t.R7$(),t.Y8G("matRowDefColumns",i.displayedColumns),t.R7$(),t.Y8G("matFooterRowDef",t.lJ4(25,P)),t.R7$(),t.Y8G("matFooterRowDef",t.lJ4(26,v)),t.R7$(),t.Y8G("matFooterRowDef",t.lJ4(27,m)))},dependencies:[c.YU,c.Sq,c.bT,j.me,j.Q0,j.BC,j.vS,T.$z,$.An,S.fg,L.rl,L.nJ,G.RN,d.Zl,d.tL,d.ji,d.cC,d.YV,d.iL,d.Zq,d.xW,d.KS,d.$R,d.Qo,d.YZ,d.NB,d.iF],styles:[".results-table-container[_ngcontent-%COMP%]{overflow:auto}.results-table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.results-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#000;color:#fff;padding:5px;text-align:center}.info-results[_ngcontent-%COMP%]{align-items:center}.info-results[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding:10px}.execution-error[_ngcontent-%COMP%]{text-align:center;font-style:italic}.execution-error[_ngcontent-%COMP%]   .mat-footer-cell[_ngcontent-%COMP%]{color:red!important}.not-results-found[_ngcontent-%COMP%]{text-align:center;font-style:italic}table.results-table[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin:0 auto}.loading-results[_ngcontent-%COMP%]{width:100%;top:0;left:0;right:0;background:#00000026;text-align:center;font-style:italic}.loading-results[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin:0 auto}.action-panel[_ngcontent-%COMP%]{padding-top:8px;border-top:1px solid rgba(0,0,0,.15)}"],data:{animation:[(0,p.hZ)("buttonInOut",[(0,p.kY)("void => *",[(0,p.iF)({opacity:0}),(0,p.i0)(300,(0,p.iF)({opacity:1}))]),(0,p.kY)("* => void",[(0,p.i0)(300,(0,p.iF)({opacity:0}))])])]}})}return a})(),canActivate:[r(8444).q]}];let tt=(()=>{class a{static#t=this.\u0275fac=function(e){return new(e||a)};static#e=this.\u0275mod=t.$C({type:a});static#o=this.\u0275inj=t.G2t({imports:[g.iI.forChild(W),g.iI]})}return a})();var et=r(3887);let ot=(()=>{class a{static#t=this.\u0275fac=function(e){return new(e||a)};static#e=this.\u0275mod=t.$C({type:a});static#o=this.\u0275inj=t.G2t({imports:[c.MD,et.G,tt]})}return a})();var nt=r(214);let at=(()=>{class a{static#t=this.\u0275fac=function(e){return new(e||a)};static#e=this.\u0275mod=t.$C({type:a});static#o=this.\u0275inj=t.G2t({imports:[c.MD,b,ot,nt.SysLogErrorsModule]})}return a})()},4341:(it,F,r)=>{r.d(F,{N:()=>a});var c=r(177),g=r(2805),y=r(5351),t=r(4438),R=r(5312),b=r(6354),p=r(1626);let M=(()=>{class n{constructor(e){this.http=e,this.url=`${R.c.base_url}/dev-tools/sys-log-errors`}obtenerListaRegistros(e){return this.http.get(this.url,{params:e}).pipe((0,b.T)(i=>i))}getLog(e){return this.http.get(this.url+"/"+e,{}).pipe((0,b.T)(i=>i))}static#t=this.\u0275fac=function(i){return new(i||n)(t.KVO(p.Qq))};static#e=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var x=r(8834),f=r(9213),E=r(5596),D=r(4823),_=r(7575);function j(n,o){if(1&n&&(t.j41(0,"div",8)(1,"div",9),t.EFF(2),t.k0s(),t.j41(3,"div",10),t.EFF(4),t.nI1(5,"date"),t.k0s(),t.nrm(6,"div",11),t.j41(7,"div",12),t.EFF(8),t.k0s(),t.nrm(9,"div",11),t.j41(10,"div",10),t.EFF(11),t.k0s(),t.nrm(12,"div",11),t.j41(13,"div",10),t.EFF(14),t.k0s()()),2&n){const e=t.XpG();t.R7$(2),t.SpI(" ",e.logData.id," "),t.R7$(2),t.SpI(" ",t.i5U(5,6,e.logData.created_at,"MMMM d, y - h:mm a")," "),t.R7$(3),t.Y8G("matTooltip",e.logData.usuario.name+" : "+e.logData.logged_user_id),t.R7$(),t.SpI(" ",e.logData.usuario.username," "),t.R7$(3),t.SpI(" ",e.logData.ip," "),t.R7$(3),t.SpI(" C\xf3digo: ",e.logData.code," ")}}function T(n,o){1&n&&t.nrm(0,"mat-progress-bar",13),2&n&&t.Y8G("color","primary")}function $(n,o){if(1&n&&(t.j41(0,"div",31)(1,"pre")(2,"p"),t.EFF(3),t.nI1(4,"json"),t.k0s()()()),2&n){const e=o.$implicit;t.R7$(3),t.JRh(t.bMT(4,1,e))}}function S(n,o){if(1&n&&(t.j41(0,"mat-card",32)(1,"div",27),t.EFF(2,"Parametros:"),t.k0s(),t.j41(3,"div",33)(4,"pre")(5,"p"),t.EFF(6),t.nI1(7,"json"),t.k0s()()()()),2&n){const e=t.XpG(2);t.R7$(6),t.JRh(t.bMT(7,1,e.logData.parameters))}}function L(n,o){if(1&n&&(t.j41(0,"section",14)(1,"mat-card",15)(2,"div",16)(3,"div",17)(4,"span",18),t.EFF(5,"Metodo:"),t.k0s(),t.j41(6,"span",19),t.EFF(7),t.k0s()(),t.j41(8,"div",20)(9,"span",18),t.EFF(10,"Url:"),t.k0s(),t.j41(11,"span",21),t.EFF(12),t.k0s(),t.j41(13,"span",22),t.EFF(14),t.k0s()()(),t.j41(15,"div",16)(16,"div",20)(17,"span",18),t.EFF(18,"Archivo:"),t.k0s(),t.j41(19,"span",21),t.EFF(20),t.k0s(),t.j41(21,"span",22),t.EFF(22),t.k0s()()(),t.j41(23,"div",23)(24,"div",20)(25,"span",18),t.EFF(26,"Cliente:"),t.k0s(),t.j41(27,"span",19),t.EFF(28),t.k0s()()(),t.j41(29,"div",16)(30,"div",20)(31,"span",18),t.EFF(32,"Mensaje:"),t.k0s(),t.j41(33,"span",24),t.EFF(34),t.k0s()()()(),t.j41(35,"section",25)(36,"mat-card",26)(37,"div",27),t.EFF(38,"Trace Log:"),t.k0s(),t.j41(39,"div",28),t.DNE(40,$,5,3,"div",29),t.k0s()(),t.DNE(41,S,8,3,"mat-card",30),t.k0s()()),2&n){const e=t.XpG();t.R7$(7),t.JRh(e.logData.method),t.R7$(5),t.JRh(e.logData.url),t.R7$(2),t.JRh(e.logData.url.replaceAll("/","-")),t.R7$(6),t.Lme("",e.logData.file,"\xa0(",e.logData.line,")"),t.R7$(2),t.Lme("",e.logData.file.substring(e.logData.file.lastIndexOf("\\")+1),"\xa0(",e.logData.line,")"),t.R7$(6),t.JRh(e.logData.browser_info),t.R7$(6),t.JRh(e.logData.message),t.R7$(6),t.Y8G("ngForOf",e.logData.trace),t.R7$(),t.Y8G("ngIf",e.logData.parameters)}}let G=(()=>{class n{constructor(e,i,l){this.sysLogErrorsService=e,this.dialogRef=i,this.data=l}ngOnInit(){this.isLoading=!0,this.sysLogErrorsService.getLog(this.data.id).subscribe({next:e=>{console.log(e),e.error||(this.logData=e.data),this.isLoading=!1},error:e=>{this.isLoading=!1}})}resizeDialog(){this.dialogMaxSize?(this.dialogRef.updateSize("90%","80%"),this.dialogMaxSize=!1):(this.dialogRef.updateSize("100%","100%"),this.dialogMaxSize=!0)}cerrar(){this.dialogRef.close()}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(M),t.rXU(y.CP),t.rXU(y.Vh))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-dialogo-detalles-log"]],decls:12,vars:4,consts:[[1,"flex-column",2,"height","100%","overflow","hidden","flex","1 1 0%"],[1,"dialog-toolbar"],[1,"flex-row"],["class","flex-fill flex-row label-info",4,"ngIf"],["mat-button","",1,"boton-accion",3,"click"],["mat-button","",1,"boton-accion","boton-cerrar",3,"click"],["mode","indeterminate",3,"color",4,"ngIf"],["class","flex-fill flex-column flex-gap","style","padding:8px;",4,"ngIf"],[1,"flex-fill","flex-row","label-info"],[1,"label-folio"],[1,"label-data","hide-xs"],[1,"flex-fill"],[1,"label-data","hide-xs",3,"matTooltip"],["mode","indeterminate",3,"color"],[1,"flex-fill","flex-column","flex-gap",2,"padding","8px"],[1,"flex-row","flex-wrap","flex-gap","info-panel"],[1,"flex-row",2,"width","100%"],[1,"fake-input","hide-xs"],[1,"label"],[1,"value"],[1,"flex-fill","fake-input"],[1,"value","hide-xs"],[1,"value","hide-gt-xs"],[1,"flex-row","hide-xs",2,"width","100%"],[1,"value-text"],[1,"flex-fill","flex-column","flex-gap","debug-panel"],[1,"flex-fill","flex-column","trace-panel"],[1,"title"],[1,"flex-fill","flex-column","content"],["class","item",4,"ngFor","ngForOf"],["class","flex-fill flex-column parameters-panel",4,"ngIf"],[1,"item"],[1,"flex-fill","flex-column","parameters-panel"],[1,"flex-fill","content"]],template:function(i,l){1&i&&(t.j41(0,"section",0)(1,"section",1)(2,"div",2),t.DNE(3,j,15,9,"div",3),t.j41(4,"button",4),t.bIt("click",function(){return l.resizeDialog()}),t.j41(5,"mat-icon"),t.EFF(6),t.k0s()(),t.j41(7,"button",5),t.bIt("click",function(){return l.cerrar()}),t.j41(8,"mat-icon"),t.EFF(9,"close"),t.k0s()()(),t.DNE(10,T,1,1,"mat-progress-bar",6),t.k0s(),t.DNE(11,L,42,11,"section",7),t.k0s()),2&i&&(t.R7$(3),t.Y8G("ngIf",l.logData),t.R7$(3),t.JRh(l.dialogMaxSize?"fit_screen":"fullscreen"),t.R7$(4),t.Y8G("ngIf",l.isLoading),t.R7$(),t.Y8G("ngIf",l.logData))},dependencies:[c.Sq,c.bT,x.$z,f.An,E.RN,D.oV,_.HM,c.TG,c.vh],styles:[".fondo-btn[_ngcontent-%COMP%]{background-color:#0000000a}.label-folio[_ngcontent-%COMP%]{padding:5px 10px;border-radius:4px;background-color:#ffffff80}.label-data[_ngcontent-%COMP%]{padding:5px 10px;margin:0 10px;border:1px solid gray}.debug-panel[_ngcontent-%COMP%]{overflow:hidden}.parameters-panel[_ngcontent-%COMP%]{color:#5f9ea0;background-color:#0d2526;padding:0;height:0;border:1px solid hsl(182,50%,80%)}.parameters-panel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:8px;border-bottom:1px solid hsl(182,50%,80%)}.parameters-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:8px;font-size:small;overflow:auto}.trace-panel[_ngcontent-%COMP%]{padding:0;overflow:hidden;border:1px solid darkslategray;height:0}.trace-panel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;background-color:#d3d3d3;color:#2f4f4f;padding:8px}.trace-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:small;overflow:auto}.trace-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding:5px;border-bottom:1px solid lightgrey}.trace-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{background-color:#f2f2f2;font-weight:600}.label-info[_ngcontent-%COMP%]{cursor:default;font-weight:500;display:flex;justify-content:center;align-items:center;padding-right:5px;padding-left:5px}.label-info[_ngcontent-%COMP%]   .estatus-icon[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:6px;margin-right:8px}.info-panel[_ngcontent-%COMP%]{background-color:#696969;padding:8px}.fake-input[_ngcontent-%COMP%]{border-radius:4px;padding:.5em;font-size:inherit;font-weight:400;line-height:1.125;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:normal;color:#ffffffde;cursor:default}.fake-input[_ngcontent-%COMP%]:hover{background-color:#ffffff26}.fake-input[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;font-size:small;color:#ffffff8a;white-space:nowrap}.fake-input[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{display:block;border-bottom:1px solid rgba(255,255,255,.42);white-space:nowrap;padding:0 5px}.fake-input[_ngcontent-%COMP%]   .value-text[_ngcontent-%COMP%]{display:block;border-bottom:1px solid rgba(255,255,255,.42);padding:0 5px}"]})}return n})();var d=r(9417),P=r(9631),v=r(2102),m=r(9159),k=r(6695),O=r(2042),h=r(5084);const w=()=>["noResultsFound"],Q=()=>["loadingResults"],N=()=>[20,50,100],I=n=>({hide:n});function Y(n,o){if(1&n){const e=t.RV6();t.j41(0,"span",43)(1,"button",44),t.bIt("click",function(){t.eBV(e);const l=t.XpG();return t.Njj(l.limpiarCampoFechas())}),t.j41(2,"mat-icon"),t.EFF(3,"clear"),t.k0s()()()}}function V(n,o){if(1&n){const e=t.RV6();t.j41(0,"button",45),t.bIt("click",function(){t.eBV(e);const l=t.XpG();return t.Njj(l.filtro.query="")}),t.j41(1,"mat-icon"),t.EFF(2,"close"),t.k0s()()}2&n&&t.BMQ("aria-label","Clean Query")("aria-pressed","cleanQuery")}function B(n,o){1&n&&(t.j41(0,"th",46),t.EFF(1," Folio "),t.k0s())}function X(n,o){if(1&n&&(t.j41(0,"td",47),t.EFF(1),t.nI1(2,"number"),t.k0s()),2&n){const e=o.$implicit;t.R7$(),t.JRh(t.i5U(2,1,e.id,"3.0"))}}function z(n,o){1&n&&(t.j41(0,"th",48),t.EFF(1," Archivo (linea) "),t.k0s())}function H(n,o){if(1&n&&(t.j41(0,"td",49)(1,"span",50)(2,"span",51),t.EFF(3),t.k0s(),t.EFF(4),t.k0s(),t.nrm(5,"br"),t.j41(6,"span",52),t.EFF(7),t.j41(8,"span",53),t.EFF(9),t.k0s()()()),2&n){const e=o.$implicit;t.R7$(3),t.JRh(e.method),t.R7$(),t.SpI("\xa0",e.url,""),t.R7$(3),t.SpI("",e.file,"\xa0"),t.R7$(2),t.SpI("(",e.line,")")}}function J(n,o){1&n&&(t.j41(0,"th",54),t.EFF(1," Mensaje "),t.k0s())}function U(n,o){if(1&n&&(t.j41(0,"td",55),t.EFF(1),t.j41(2,"span",56),t.EFF(3),t.j41(4,"span",53),t.EFF(5),t.k0s()()()),2&n){const e=o.$implicit;t.R7$(),t.SpI(" ",e.message," "),t.R7$(2),t.SpI("",e.file.substring(e.file.lastIndexOf("\\")+1),"\xa0"),t.R7$(2),t.SpI("(",e.line,")")}}function A(n,o){1&n&&(t.j41(0,"th",48),t.EFF(1," Usuario "),t.k0s())}function q(n,o){if(1&n&&(t.j41(0,"td",57),t.EFF(1),t.k0s()),2&n){const e=o.$implicit;t.R7$(),t.SpI(" ",e.usuario.username," ")}}function Z(n,o){1&n&&(t.j41(0,"th",46),t.EFF(1," Fecha "),t.k0s())}function K(n,o){if(1&n&&(t.j41(0,"td",58)(1,"span"),t.EFF(2),t.nI1(3,"date"),t.k0s(),t.nrm(4,"br"),t.j41(5,"span"),t.EFF(6),t.nI1(7,"date"),t.k0s()()),2&n){const e=o.$implicit;t.R7$(2),t.JRh(t.i5U(3,2,e.created_at,"d/M/y")),t.R7$(4),t.JRh(t.i5U(7,5,e.created_at,"h:mm a"))}}function W(n,o){if(1&n&&(t.j41(0,"td",59),t.EFF(1," --| Cargando Registros |-- "),t.nrm(2,"mat-progress-bar",60),t.k0s()),2&n){const e=t.XpG();t.BMQ("colspan",e.displayedColumns.length)}}function tt(n,o){if(1&n&&(t.j41(0,"td",59),t.EFF(1," No se encontraron registros "),t.k0s()),2&n){const e=t.XpG();t.BMQ("colspan",e.displayedColumns.length)}}function et(n,o){1&n&&t.nrm(0,"tr",61)}function ot(n,o){if(1&n){const e=t.RV6();t.j41(0,"tr",62),t.bIt("click",function(){const l=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.mostrarDetalles(l.id))}),t.k0s()}}function nt(n,o){if(1&n&&t.nrm(0,"tr",63),2&n){const e=t.XpG();t.Y8G("ngClass",t.eq3(1,I,!(null!=e.listadoResultados&&0==e.listadoResultados.length&&!e.isLoading)))}}function at(n,o){if(1&n&&t.nrm(0,"tr",63),2&n){const e=t.XpG();t.Y8G("ngClass",t.eq3(1,I,!e.isLoading))}}let a=(()=>{class n{constructor(e,i,l){this.sysLogErrorsService=e,this.dialog=i,this.datePipe=l,this.resultsLength=0,this.currentPage=0,this.pageSize=20,this.listadoResultados=[],this.displayedColumns=["id","archivo","mensaje","usuario","fecha"]}ngOnInit(){this.isLoading=!0,this.filtro={rango_fechas:{inicio:"",fin:""},query:""},this.loadResultados()}loadResultados(e){this.isLoading=!0;let i={};return this.filtro.query&&(i.query=this.filtro.query),this.filtro.rango_fechas.inicio&&(i.fecha_inicio=this.datePipe.transform(this.filtro.rango_fechas.inicio,"yyyy-MM-dd"),i.fecha_fin=this.datePipe.transform(this.filtro.rango_fechas.fin,"yyyy-MM-dd")),e?(i.page=e.pageIndex+1,i.per_page=e.pageSize):(i.page=1,i.per_page=this.pageSize),this.resultsLength=0,this.listadoResultados=[],this.sysLogErrorsService.obtenerListaRegistros(i).subscribe({next:l=>{l.error||l.total>0&&(this.listadoResultados=l.data,this.resultsLength=l.total),this.isLoading=!1},error:l=>{var s="Ocurri\xf3 un error.";409==l.status&&(s=l.error.message),this.alertPanel.showError(s),this.isLoading=!1}}),e}mostrarDetalles(e){this.dialog.open(G,{width:"90%",height:"80%",maxWidth:"100%",data:{id:e},panelClass:"no-padding-dialog"})}checarFechasFiltro(){this.filtro.rango_fechas.inicio&&!this.filtro.rango_fechas.fin&&(this.filtro.rango_fechas.fin=this.filtro.rango_fechas.inicio)}limpiarCampoFechas(){this.filtro.rango_fechas={inicio:"",fin:""}}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(M),t.rXU(y.bZ),t.rXU(c.vh))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-lista"]],viewQuery:function(i,l){if(1&i&&t.GBs(g.m,5),2&i){let s;t.mGM(s=t.lsd())&&(l.alertPanel=s.first)}},features:[t.Jv_([c.vh])],decls:59,vars:20,consts:[["rangePicker",""],["dataTable",""],["paginator",""],[1,"flex-row","flex-xs-column","flex-gap","module-search-bar","xs-unlock-height"],[1,"flex-xs-fill"],["appearance","fill",2,"width","100%"],["matPrefix","",4,"ngIf"],[3,"rangePicker"],["matStartDate","","placeholder","Inicio","readonly","",3,"ngModelChange","ngModel"],["matEndDate","","placeholder","Fin","readonly","",3,"ngModelChange","ngModel"],["matSuffix","",3,"for"],["disabled","false"],["mat-button","","matDateRangePickerCancel",""],["mat-raised-button","","color","primary","matDateRangePickerApply","",3,"click"],[1,"flex-fill","flex-row"],["matInput","","type","text","placeholder","Buscar Folio","autocomplete","off",3,"ngModelChange","keyup.enter","ngModel"],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[1,"table-card","flex-fill"],[1,"flex-column",2,"height","100%"],[1,"main-list-table","left-click-open","flex-fill"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","width","1",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center;",4,"matCellDef"],["matColumnDef","archivo"],["mat-header-cell","","class","hide-xs","width","1",4,"matHeaderCellDef"],["mat-cell","","class","hide-xs","style","text-align: left;",4,"matCellDef"],["matColumnDef","mensaje"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","usuario"],["mat-header-cell","","width","1","class","hide-xs",4,"matHeaderCellDef"],["mat-cell","","class","hide-xs","style","text-align: center; white-space: nowrap;",4,"matCellDef"],["matColumnDef","fecha"],["mat-cell","","style","white-space: nowrap; text-align: center;",4,"matCellDef"],["matColumnDef","loadingResults"],["mat-footer-cell","","class","no-results-found",4,"matFooterCellDef"],["matColumnDef","noResultsFound"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",3,"ngClass",4,"matFooterRowDef"],["showFirstLastButtons","",3,"page","pageSize","pageIndex","length","pageSizeOptions"],["matPrefix",""],["mat-icon-button","",3,"click"],["matSuffix","","mat-icon-button","",3,"click"],["mat-header-cell","","width","1"],["mat-cell","",2,"text-align","center"],["mat-header-cell","","width","1",1,"hide-xs"],["mat-cell","",1,"hide-xs",2,"text-align","left"],[1,"url"],[1,"method"],[1,"file"],[1,"line"],["mat-header-cell",""],["mat-cell",""],[1,"file","hide-gt-xs"],["mat-cell","",1,"hide-xs",2,"text-align","center","white-space","nowrap"],["mat-cell","",2,"white-space","nowrap","text-align","center"],["mat-footer-cell","",1,"no-results-found"],["mode","query"],["mat-header-row",""],["mat-row","",3,"click"],["mat-footer-row","",3,"ngClass"]],template:function(i,l){if(1&i){const s=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"mat-form-field",5)(3,"mat-label"),t.EFF(4,"Rango de Fechas:"),t.k0s(),t.DNE(5,Y,4,0,"span",6),t.j41(6,"mat-date-range-input",7)(7,"input",8),t.mxI("ngModelChange",function(u){return t.eBV(s),t.DH7(l.filtro.rango_fechas.inicio,u)||(l.filtro.rango_fechas.inicio=u),t.Njj(u)}),t.k0s(),t.j41(8,"input",9),t.mxI("ngModelChange",function(u){return t.eBV(s),t.DH7(l.filtro.rango_fechas.fin,u)||(l.filtro.rango_fechas.fin=u),t.Njj(u)}),t.k0s()(),t.nrm(9,"mat-datepicker-toggle",10),t.j41(10,"mat-date-range-picker",11,0)(12,"mat-date-range-picker-actions")(13,"button",12),t.EFF(14,"Cancelar"),t.k0s(),t.j41(15,"button",13),t.bIt("click",function(){return t.eBV(s),t.Njj(l.checarFechasFiltro())}),t.EFF(16,"Aplicar"),t.k0s()()()()(),t.j41(17,"div",14)(18,"mat-form-field",5)(19,"mat-label"),t.EFF(20,"Folio:"),t.k0s(),t.j41(21,"input",15),t.mxI("ngModelChange",function(u){return t.eBV(s),t.DH7(l.filtro.query,u)||(l.filtro.query=u),t.Njj(u)}),t.bIt("keyup.enter",function(){return t.eBV(s),t.Njj(l.loadResultados())}),t.k0s(),t.DNE(22,V,3,2,"button",16),t.k0s()(),t.j41(23,"button",17),t.bIt("click",function(){return t.eBV(s),t.Njj(l.loadResultados())}),t.j41(24,"mat-icon"),t.EFF(25,"search"),t.k0s(),t.EFF(26,"\xa0Buscar"),t.k0s()(),t.nrm(27,"alert-panel"),t.j41(28,"mat-card",18)(29,"div",19)(30,"div",20)(31,"table",21,1),t.qex(33,22),t.DNE(34,B,2,0,"th",23)(35,X,3,4,"td",24),t.bVm(),t.qex(36,25),t.DNE(37,z,2,0,"th",26)(38,H,10,4,"td",27),t.bVm(),t.qex(39,28),t.DNE(40,J,2,0,"th",29)(41,U,6,3,"td",30),t.bVm(),t.qex(42,31),t.DNE(43,A,2,0,"th",32)(44,q,2,1,"td",33),t.bVm(),t.qex(45,34),t.DNE(46,Z,2,0,"th",23)(47,K,8,8,"td",35),t.bVm(),t.qex(48,36),t.DNE(49,W,3,1,"td",37),t.bVm(),t.qex(50,38),t.DNE(51,tt,2,1,"td",37),t.bVm(),t.DNE(52,et,1,0,"tr",39)(53,ot,1,0,"tr",40)(54,nt,1,3,"tr",41)(55,at,1,3,"tr",41),t.k0s()(),t.j41(56,"div")(57,"mat-paginator",42,2),t.bIt("page",function(u){return t.eBV(s),t.Njj(l.pageEvent=l.loadResultados(u))}),t.k0s()()()()}if(2&i){const s=t.sdS(11);t.R7$(5),t.Y8G("ngIf",l.filtro.rango_fechas.inicio),t.R7$(),t.Y8G("rangePicker",s),t.R7$(),t.R50("ngModel",l.filtro.rango_fechas.inicio),t.R7$(),t.R50("ngModel",l.filtro.rango_fechas.fin),t.R7$(),t.Y8G("for",s),t.R7$(12),t.R50("ngModel",l.filtro.query),t.R7$(),t.Y8G("ngIf",l.filtro.query),t.R7$(9),t.Y8G("dataSource",l.listadoResultados),t.R7$(21),t.Y8G("matHeaderRowDef",l.displayedColumns)("matHeaderRowDefSticky",!0),t.R7$(),t.Y8G("matRowDefColumns",l.displayedColumns),t.R7$(),t.Y8G("matFooterRowDef",t.lJ4(17,w)),t.R7$(),t.Y8G("matFooterRowDef",t.lJ4(18,Q)),t.R7$(2),t.Y8G("pageSize",l.pageSize)("pageIndex",l.currentPage)("length",l.resultsLength)("pageSizeOptions",t.lJ4(19,N))}},dependencies:[c.YU,c.bT,d.me,d.BC,d.vS,x.$z,x.iY,f.An,P.fg,v.rl,v.nJ,v.JW,v.yw,E.RN,m.Zl,m.tL,m.ji,m.cC,m.YV,m.iL,m.Zq,m.xW,m.KS,m.$R,m.Qo,m.YZ,m.NB,m.iF,k.iy,_.HM,O.B4,h.bU,h.el,h.xR,h.IG,h.SG,h.Cz,h.jj,h.T7,g.m,c.QX,c.vh],styles:["@media (max-width: 599.98px){.file[_ngcontent-%COMP%]{font-weight:300!important}}.method[_ngcontent-%COMP%]{background-color:#20b2aa;border-radius:3px;text-align:center;padding:2px 5px;font-size:small;font-weight:500;color:#f5f5f5}.url[_ngcontent-%COMP%]{font-weight:500}.file[_ngcontent-%COMP%]{font-size:small;font-weight:400}.line[_ngcontent-%COMP%]{color:#a9a9a9}"]})}return n})()},214:(it,F,r)=>{r.r(F),r.d(F,{SysLogErrorsModule:()=>x});var c=r(177),g=r(4710),y=r(8444),t=r(4341),R=r(4438);const b=[{path:"dev-tools/sys-log-errors",component:t.N,canActivate:[y.q]}];let p=(()=>{class f{static#t=this.\u0275fac=function(_){return new(_||f)};static#e=this.\u0275mod=R.$C({type:f});static#o=this.\u0275inj=R.G2t({imports:[g.iI.forChild(b),g.iI]})}return f})();var M=r(3887);let x=(()=>{class f{static#t=this.\u0275fac=function(_){return new(_||f)};static#e=this.\u0275mod=R.$C({type:f});static#o=this.\u0275inj=R.G2t({imports:[c.MD,M.G,p]})}return f})()}}]);