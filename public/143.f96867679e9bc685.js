"use strict";(self.webpackChunkbase_platform=self.webpackChunkbase_platform||[]).push([[143],{143:(Fa,Y,d)=>{d.r(Y),d.d(Y,{IndiceModule:()=>Sa});var f=d(177),y=d(4710),j=d(6695),D=d(2042),b=d(2805),w=d(2913),s=d(9417),g=d(5351),m=d(9327),G=d(1413),B=d(6977),e=d(4438),V=d(9667),h=d(8834),E=d(9213),F=d(9631),u=d(2102),R=d(5596),N=d(2798),$=d(6600),I=d(4823),x=d(7575);function K(a,r){1&a&&(e.j41(0,"div",23)(1,"mat-icon"),e.EFF(2,"phone_iphone"),e.k0s()())}function W(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",24),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.resizeDialog())}),e.j41(1,"mat-icon"),e.EFF(2),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("matTooltip",t.dialogMaxSize?"Restaurar":"Maximizar")("matTooltipPosition","left"),e.R7$(2),e.JRh(t.dialogMaxSize?"fit_screen":"fullscreen")}}function ee(a,r){if(1&a&&e.nrm(0,"mat-progress-bar",25),2&a){const t=e.XpG();e.Y8G("mode",t.isSaving||t.isSendingEmail?"indeterminate":"query")("color",t.isSaving||t.isSendingEmail?"accent":"primary")}}function te(a,r){1&a&&(e.j41(0,"mat-error"),e.EFF(1,"Este campo es obligatorio"),e.k0s())}function ae(a,r){1&a&&(e.j41(0,"mat-error"),e.EFF(1,"El Nombre de Usuario es obligatorio"),e.k0s())}function ie(a,r){1&a&&(e.j41(0,"mat-error"),e.EFF(1,"El Nombre de Usuario es obligatorio"),e.k0s())}function ne(a,r){1&a&&(e.j41(0,"mat-error"),e.EFF(1,"El Correo Electr\xf3nico es obligatorio"),e.k0s())}let oe=(()=>{class a{constructor(t,i,n,o,l,p){this.dialogRef=t,this.inData=i,this.formBuilder=n,this.temaService=o,this.breakpointObserver=l,this.dialog=p,this.destroyed=new G.B,this.displayNameMap=new Map([[m.Rp.XSmall,"xs"],[m.Rp.Small,"sm"],[m.Rp.Medium,"md"],[m.Rp.Large,"lg"],[m.Rp.XLarge,"xl"]]),l.observe([m.Rp.XSmall,m.Rp.Small,m.Rp.Medium,m.Rp.Large,m.Rp.XLarge]).pipe((0,B.Q)(this.destroyed)).subscribe(C=>{for(const T of Object.keys(C.breakpoints))C.breakpoints[T]&&(this.currentScreenSize=this.displayNameMap.get(T)??"Unknown")})}ngOnInit(){this.savedData=!1,this.isLoading=!1,this.form=this.formBuilder.group({id:[""],columna_id:[1,s.k0.required],descripcion:["",[s.k0.required]],orden:["",[s.k0.required]],estatus_id:[1,[s.k0.required]]}),console.log(this.inData),this.inData.columna_id&&this.form.patchValue({id:this.inData.id,columna_id:this.inData.columna_id,descripcion:this.inData.descripcion,orden:this.inData.orden,estatus_id:this.inData.estatus_id})}ngAfterViewInit(){("sm"==this.currentScreenSize||"xs"==this.currentScreenSize)&&(this.resizeDialog(),this.avatarRowCount="xs"==this.currentScreenSize?4:8)}guardar(){this.alertPanel.closePanel(),(this.form.valid||status)&&(this.isSaving=!0,this.temaService.guardarTema(this.form.value).subscribe({next:i=>{this.isSaving=!1,this.inData.id=i.data.id,this.alertPanel.showSuccess("Datos guardados con \xe9xito",3),this.savedData=!0},error:i=>{if("form_validation"==i.error.error_type){for(const n in i.error.data)if(Object.prototype.hasOwnProperty.call(i.error.data,n)){let l={};l[i.error.data[n]]=!0,this.form.get(n).setErrors(l)}this.alertPanel.showError(i.error.message)}else this.alertPanel.showError(i.error.message);this.isSaving=!1}}))}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}resizeDialog(){this.dialogMaxSize?(this.dialogRef.updateSize("80%","60%"),this.dialogMaxSize=!1):(this.dialogRef.updateSize("100%","100%"),this.dialogMaxSize=!0)}cancelarAccion(){this.cerrar()}cerrar(){this.dialogRef.close(this.savedData)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(g.CP),e.rXU(g.Vh),e.rXU(s.ok),e.rXU(V.K),e.rXU(m.QP),e.rXU(g.bZ))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-tema-dialog"]],viewQuery:function(i,n){if(1&i&&e.GBs(b.m,5),2&i){let o;e.mGM(o=e.lsd())&&(n.alertPanel=o.first)}},decls:59,vars:16,consts:[[1,"flex-column",2,"height","100%","overflow","hidden","flex","1 1 0%",3,"keydown.escape"],[1,"dialog-toolbar"],[1,"flex-row"],[1,"label-info","status-label"],[1,"hide-xs"],["mat-button","",3,"click","disabled"],[1,"flex-fill"],["class","label-info screen-size-icon",4,"ngIf"],["mat-button","","class","boton-accion","tabindex","-1",3,"matTooltip","matTooltipPosition","click",4,"ngIf"],["mat-button","","tabindex","-1",1,"boton-accion","boton-cerrar",3,"click"],[3,"mode","color",4,"ngIf"],[1,"flex-fill","flex-column",2,"padding","8px","overflow","auto"],[1,"flex-fill","flex-column","flex-gap"],[1,"flex-column","flex-gap","xs-max-height-user-form",2,"padding","8px",3,"formGroup"],[1,"flex-row","flex-xs-column","flex-fill","flex-gap"],["appearance","fill"],["formControlName","columna_id"],[3,"value"],[4,"ngIf"],["type","text","matInput","","autocomplete","off","formControlName","orden","placeholder","Orden","required",""],["appearance","fill",1,"flex-fill"],["formControlName","estatus_id"],["type","text","matInput","","autocomplete","off","formControlName","descripcion","placeholder","Tema","required",""],[1,"label-info","screen-size-icon"],["mat-button","","tabindex","-1",1,"boton-accion",3,"click","matTooltip","matTooltipPosition"],[3,"mode","color"]],template:function(i,n){1&i&&(e.j41(0,"section",0),e.bIt("keydown.escape",function(){return n.cancelarAccion()},!1,e.EBC),e.j41(1,"section",1)(2,"div",2)(3,"div",3)(4,"mat-icon"),e.EFF(5,"star"),e.k0s(),e.j41(6,"span",4),e.EFF(7,"\xa0Tema"),e.k0s()(),e.j41(8,"button",5),e.bIt("click",function(){return n.guardar()}),e.j41(9,"mat-icon"),e.EFF(10),e.k0s(),e.j41(11,"span",4),e.EFF(12,"\xa0Guardar"),e.k0s()(),e.nrm(13,"div",6),e.DNE(14,K,3,0,"div",7)(15,W,3,3,"button",8),e.j41(16,"button",9),e.bIt("click",function(){return n.cerrar()}),e.j41(17,"mat-icon"),e.EFF(18,"close"),e.k0s()()()(),e.DNE(19,ee,1,2,"mat-progress-bar",10),e.j41(20,"section"),e.nrm(21,"alert-panel"),e.k0s(),e.j41(22,"section",11)(23,"div",12)(24,"mat-card",13)(25,"div",14)(26,"mat-form-field",15)(27,"mat-label"),e.EFF(28,"COLUMNA: "),e.k0s(),e.j41(29,"mat-select",16)(30,"mat-option",17),e.EFF(31,"COLUMNA 1"),e.k0s(),e.j41(32,"mat-option",17),e.EFF(33,"COLUMNA 2"),e.k0s(),e.j41(34,"mat-option",17),e.EFF(35,"COLUMNA 3"),e.k0s(),e.j41(36,"mat-option",17),e.EFF(37,"COLUMNA 4"),e.k0s()(),e.DNE(38,te,2,0,"mat-error",18),e.k0s(),e.j41(39,"mat-form-field",15)(40,"mat-label"),e.EFF(41,"ORDEN: "),e.k0s(),e.nrm(42,"input",19),e.DNE(43,ae,2,0,"mat-error",18),e.k0s(),e.j41(44,"mat-form-field",20)(45,"mat-label"),e.EFF(46,"ESTATUS: "),e.k0s(),e.j41(47,"mat-select",21)(48,"mat-option",17),e.EFF(49,"ACTIVO"),e.k0s(),e.j41(50,"mat-option",17),e.EFF(51,"INACTIVO"),e.k0s()(),e.DNE(52,ie,2,0,"mat-error",18),e.k0s()(),e.j41(53,"div",14)(54,"mat-form-field",20)(55,"mat-label"),e.EFF(56,"TEMA: "),e.k0s(),e.nrm(57,"input",22),e.DNE(58,ne,2,0,"mat-error",18),e.k0s()()()()()()),2&i&&(e.R7$(8),e.Y8G("disabled",n.isLoading||n.isSaving||!n.form.valid),e.R7$(2),e.JRh(n.changesDetected?"save_as":"save"),e.R7$(4),e.Y8G("ngIf","xs"==n.currentScreenSize||"sm"==n.currentScreenSize),e.R7$(),e.Y8G("ngIf","xs"!=n.currentScreenSize&&"sm"!=n.currentScreenSize),e.R7$(4),e.Y8G("ngIf",n.isLoading||n.isSaving||n.isSendingEmail),e.R7$(5),e.Y8G("formGroup",n.form),e.R7$(6),e.Y8G("value",1),e.R7$(2),e.Y8G("value",2),e.R7$(2),e.Y8G("value",3),e.R7$(2),e.Y8G("value",4),e.R7$(2),e.Y8G("ngIf",n.form.get("columna_id").hasError("required")),e.R7$(5),e.Y8G("ngIf",n.form.get("orden").hasError("required")),e.R7$(5),e.Y8G("value",1),e.R7$(2),e.Y8G("value",2),e.R7$(2),e.Y8G("ngIf",n.form.get("estatus_id").hasError("required")),e.R7$(6),e.Y8G("ngIf",n.form.get("descripcion").hasError("required")))},dependencies:[f.bT,s.me,s.BC,s.cb,s.YS,h.$z,E.An,F.fg,u.rl,u.nJ,u.TL,R.RN,N.VO,$.wT,I.oV,x.HM,s.j4,s.JD,b.m]})}return a})();var S=d(5312),_=d(6354),k=d(1626);let re=(()=>{class a{constructor(t){this.http=t,this.url_subtema=`${S.c.base_url}/subtema`}obtenerSubTemas(t){return this.http.get(this.url_subtema,{params:t}).pipe((0,_.T)(i=>i))}guardarSubTema(t){return this.http.post(this.url_subtema,{params:t}).pipe((0,_.T)(i=>i))}eliminarSubTema(t){return this.http.delete(this.url_subtema+"/"+t).pipe((0,_.T)(i=>i))}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(k.Qq))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var c=d(9159),v=d(8067);const se=()=>["loadingResults"],le=()=>["noResultsFound"],ce=a=>({row:a}),O=a=>({hide:a});function me(a,r){1&a&&(e.j41(0,"div",40)(1,"mat-icon"),e.EFF(2,"phone_iphone"),e.k0s()())}function de(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",41),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.resizeDialog())}),e.j41(1,"mat-icon"),e.EFF(2),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("matTooltip",t.dialogMaxSize?"Restaurar":"Maximizar")("matTooltipPosition","left"),e.R7$(2),e.JRh(t.dialogMaxSize?"fit_screen":"fullscreen")}}function pe(a,r){if(1&a&&e.nrm(0,"mat-progress-bar",42),2&a){const t=e.XpG();e.Y8G("mode",t.isSaving?"indeterminate":"query")("color",t.isSaving?"accent":"primary")}}function ue(a,r){1&a&&(e.j41(0,"mat-error"),e.EFF(1,"La descripcion de Usuario es obligatorio"),e.k0s())}function fe(a,r){1&a&&(e.j41(0,"mat-error"),e.EFF(1,"La descripcion de Usuario es obligatorio"),e.k0s())}function ge(a,r){1&a&&(e.j41(0,"mat-error"),e.EFF(1,"El Orden de Usuario es obligatorio"),e.k0s())}function _e(a,r){1&a&&(e.j41(0,"mat-error"),e.EFF(1,"El Nombre de Usuario es obligatorio"),e.k0s())}function he(a,r){1&a&&(e.j41(0,"mat-error"),e.EFF(1,"La descripcion de Usuario es obligatorio"),e.k0s())}function be(a,r){if(1&a&&(e.j41(0,"mat-form-field",17)(1,"mat-label"),e.EFF(2,"ENLACE: "),e.k0s(),e.nrm(3,"input",43),e.DNE(4,he,2,0,"mat-error",19),e.k0s()),2&a){const t=e.XpG();e.R7$(4),e.Y8G("ngIf",t.form.get("enlace").hasError("required"))}}function Ce(a,r){1&a&&(e.j41(0,"th",44),e.EFF(1,"TEMA / SUBTEMA"),e.k0s())}function ke(a,r){if(1&a&&(e.j41(0,"td",45)(1,"div"),e.EFF(2),e.k0s(),e.j41(3,"div"),e.EFF(4),e.k0s()()),2&a){const t=r.$implicit;e.R7$(2),e.Lme("",t.orden," - ",t.descripcion,""),e.R7$(2),e.JRh(t.enlace)}}function ve(a,r){1&a&&(e.j41(0,"th",44),e.EFF(1,"ESTATUS"),e.k0s())}function Ee(a,r){1&a&&(e.j41(0,"div")(1,"button",46)(2,"mat-icon"),e.EFF(3,"check"),e.k0s()()())}function Se(a,r){1&a&&(e.j41(0,"div")(1,"button",47)(2,"mat-icon"),e.EFF(3,"check"),e.k0s()()()),2&a&&(e.R7$(),e.Y8G("disabled",!0))}function Fe(a,r){if(1&a&&(e.j41(0,"td",45),e.DNE(1,Ee,4,0,"div",19)(2,Se,4,1,"div",19),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.Y8G("ngIf",1==t.estatus_id),e.R7$(),e.Y8G("ngIf",2==t.estatus_id)}}function Re(a,r){if(1&a&&(e.j41(0,"td",48),e.EFF(1," --| Cargando Registros |-- "),e.nrm(2,"mat-progress-bar",49),e.k0s()),2&a){const t=e.XpG();e.BMQ("colspan",t.displayedColumns.length)}}function xe(a,r){if(1&a&&(e.j41(0,"td",48),e.EFF(1," No se encontraron registros "),e.k0s()),2&a){const t=e.XpG();e.BMQ("colspan",t.displayedColumns.length)}}function Te(a,r){1&a&&e.nrm(0,"tr",50)}function De(a,r){if(1&a&&e.nrm(0,"tr",51),2&a){const t=r.$implicit;e.XpG();const i=e.sdS(75);e.Y8G("cdkContextMenuTriggerFor",i)("cdkContextMenuTriggerData",e.eq3(2,ce,t))}}function je(a,r){if(1&a&&e.nrm(0,"tr",52),2&a){const t=e.XpG();e.Y8G("ngClass",e.eq3(1,O,!t.isLoadingResults))}}function Ie(a,r){if(1&a&&e.nrm(0,"tr",52),2&a){const t=e.XpG();e.Y8G("ngClass",e.eq3(1,O,!(null!=t.data&&0==t.data.length&&!t.isLoadingResults)))}}function ye(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",53)(1,"button",54),e.bIt("click",function(){const n=e.eBV(t).row,o=e.XpG();return e.Njj(o.edit(n))}),e.j41(2,"mat-icon"),e.EFF(3,"edit"),e.k0s(),e.EFF(4,"\xa0EDITAR"),e.k0s(),e.j41(5,"button",55),e.bIt("click",function(){const n=e.eBV(t).row,o=e.XpG();return e.Njj(o.eliminar(n))}),e.j41(6,"mat-icon"),e.EFF(7,"delete"),e.k0s(),e.EFF(8,"\xa0ELIMINAR"),e.k0s()()}}let we=(()=>{class a{constructor(t,i,n,o,l,p){this.dialogRef=t,this.inData=i,this.formBuilder=n,this.subtemaService=o,this.breakpointObserver=l,this.dialog=p,this.destroyed=new G.B,this.displayNameMap=new Map([[m.Rp.XSmall,"xs"],[m.Rp.Small,"sm"],[m.Rp.Medium,"md"],[m.Rp.Large,"lg"],[m.Rp.XLarge,"xl"]]),this.data=[],this.displayedColumns=["subtema","estatus"],l.observe([m.Rp.XSmall,m.Rp.Small,m.Rp.Medium,m.Rp.Large,m.Rp.XLarge]).pipe((0,B.Q)(this.destroyed)).subscribe(C=>{for(const T of Object.keys(C.breakpoints))C.breakpoints[T]&&(this.currentScreenSize=this.displayNameMap.get(T)??"Unknown")})}ngOnInit(){this.savedData=!1,this.isLoading=!1,this.form=this.formBuilder.group({id:[""],catalogo_tema_id:["",s.k0.required],descripcion:["",s.k0.required],tipoSubtitulo:["",[s.k0.required]],enlace:["",[s.k0.required]],orden:[1,[s.k0.required]],estatus_id:[1,[s.k0.required]]}),this.data=this.inData.subtema,this.form.patchValue({catalogo_tema_id:this.inData.id}),console.log("--\x3e",this.form)}ngAfterViewInit(){("sm"==this.currentScreenSize||"xs"==this.currentScreenSize)&&this.resizeDialog()}guardar(){this.alertPanel.closePanel(),this.form.valid&&(this.isSaving=!0,this.subtemaService.guardarSubTema(this.form.value).subscribe({next:i=>{this.isSaving=!1,this.alertPanel.showSuccess("Datos guardados con \xe9xito",3),this.savedData=!0,this.form.patchValue({id:0,enlace:"",descripcion:"",orden:1,estatus_id:1}),this.obtenerDatos()},error:i=>{if("form_validation"==i.error.error_type){for(const n in i.error.data)if(Object.prototype.hasOwnProperty.call(i.error.data,n)){let l={};l[i.error.data[n]]=!0,this.form.get(n).setErrors(l)}this.alertPanel.showError(i.error.message)}else this.alertPanel.showError(i.error.message);this.isSaving=!1}}))}obtenerDatos(){this.subtemaService.obtenerSubTemas({catalogo_tema_id:this.inData.id}).subscribe({next:t=>{this.isSaving=!1,this.savedData=!0,this.data=t.data},error:t=>{if("form_validation"==t.error.error_type){for(const i in t.error.data)if(Object.prototype.hasOwnProperty.call(t.error.data,i)){let o={};o[t.error.data[i]]=!0,this.form.get(i).setErrors(o)}this.alertPanel.showError(t.error.message)}else this.alertPanel.showError(t.error.message);this.isSaving=!1}})}eliminarRegistro(t){this.subtemaService.eliminarSubTema(t).subscribe({next:i=>{this.isSaving=!1,this.savedData=!0,this.obtenerDatos()},error:i=>{if("form_validation"==i.error.error_type){for(const n in i.error.data)if(Object.prototype.hasOwnProperty.call(i.error.data,n)){let l={};l[i.error.data[n]]=!0,this.form.get(n).setErrors(l)}this.alertPanel.showError(i.error.message)}else this.alertPanel.showError(i.error.message);this.isSaving=!1}})}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}verificarEstatus(t){2==t&&this.form.patchValue({enlace:""})}verificaContenido(t){let i=t.toLowerCase();i=i.replace(/\s/g,"-"),i=i.replace(/\\/g,""),this.form.patchValue({enlace:i}),console.log("v->",this.form.value)}edit(t){this.form.patchValue(t)}eliminar(t){let i=t.id;this.dialog.open(w.e,{width:"500px",data:{title:"Eliminar Registros",message:"Esta seguro de eliminar este registro?",hasOKBtn:!0,btnColor:"warn",btnText:"Eliminar",btnIcon:"delete"}}).afterClosed().subscribe(o=>{o&&this.eliminarRegistro(i)})}resizeDialog(){this.dialogMaxSize?(this.dialogRef.updateSize("80%","80%"),this.dialogMaxSize=!1):(this.dialogRef.updateSize("100%","100%"),this.dialogMaxSize=!0)}cancelarAccion(){this.cerrar()}cerrar(){this.dialogRef.close(this.savedData)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(g.CP),e.rXU(g.Vh),e.rXU(s.ok),e.rXU(re),e.rXU(m.QP),e.rXU(g.bZ))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-subtema-dialog"]],viewQuery:function(i,n){if(1&i&&e.GBs(b.m,5),2&i){let o;e.mGM(o=e.lsd())&&(n.alertPanel=o.first)}},decls:76,vars:22,consts:[["descripcion",""],["tipo",""],["rowMenu",""],[1,"flex-column",2,"height","100%","overflow","hidden","flex","1 1 0%",3,"keydown.escape"],[1,"dialog-toolbar"],[1,"flex-row"],[1,"label-info","status-label"],[1,"hide-xs"],[1,"flex-fill"],["class","label-info screen-size-icon",4,"ngIf"],["mat-button","","class","boton-accion","tabindex","-1",3,"matTooltip","matTooltipPosition","click",4,"ngIf"],["mat-button","","tabindex","-1",1,"boton-accion","boton-cerrar",3,"click"],[3,"mode","color",4,"ngIf"],[1,"flex-fill","flex-column",2,"padding","8px","overflow","auto"],[1,"flex-fill","flex-column","flex-gap"],[1,"flex-column","flex-gap","xs-max-height-user-form",2,"padding","8px",3,"formGroup"],[1,"flex-row","flex-xs-column","flex-fill","flex-gap"],["appearance","fill",1,"flex-fill"],["type","text","matInput","","autocomplete","off","formControlName","descripcion","required","",3,"blur"],[4,"ngIf"],["appearance","fill"],["formControlName","tipoSubtitulo",3,"selectionChange"],[3,"value"],["type","number","matInput","","autocomplete","off","formControlName","orden","placeholder","Orden","required",""],["formControlName","estatus_id"],["appearance","fill","class","flex-fill",4,"ngIf"],["mat-raised-button","","color","primary",1,"flex-fill",2,"padding","28px",3,"click","disabled"],[1,"flex-column",2,"height","100%"],[1,"main-list-table","left-click-open","flex-fill",2,"height","100%"],["mat-table","","matSort","","matSortActive","updated_at","matSortDirection","desc",3,"dataSource"],["matColumnDef","subtema"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","estatus"],["matColumnDef","loadingResults"],["mat-footer-cell","","class","no-results-found",4,"matFooterCellDef"],["matColumnDef","noResultsFound"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"cdkContextMenuTriggerFor","cdkContextMenuTriggerData",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",3,"ngClass",4,"matFooterRowDef"],[1,"label-info","screen-size-icon"],["mat-button","","tabindex","-1",1,"boton-accion",3,"click","matTooltip","matTooltipPosition"],[3,"mode","color"],["type","text","matInput","","autocomplete","off","formControlName","enlace","required",""],["mat-header-cell",""],["mat-cell",""],["mat-mini-fab",""],["mat-mini-fab","",3,"disabled"],["mat-footer-cell","",1,"no-results-found"],["mode","query"],["mat-header-row",""],["mat-row","",3,"cdkContextMenuTriggerFor","cdkContextMenuTriggerData"],["mat-footer-row","",3,"ngClass"],["cdkMenu","",1,"context-menu","mat-elevation-z2"],["cdkMenuItem","",1,"context-menu-item",3,"click"],["cdkMenuItem","",1,"context-menu-item",2,"color","red",3,"click"]],template:function(i,n){if(1&i){const o=e.RV6();e.j41(0,"section",3),e.bIt("keydown.escape",function(){return e.eBV(o),e.Njj(n.cancelarAccion())},!1,e.EBC),e.j41(1,"section",4)(2,"div",5)(3,"div",6)(4,"mat-icon"),e.EFF(5,"star"),e.k0s(),e.j41(6,"span",7),e.EFF(7,"\xa0Tema"),e.k0s()(),e.nrm(8,"div",8),e.DNE(9,me,3,0,"div",9)(10,de,3,3,"button",10),e.j41(11,"button",11),e.bIt("click",function(){return e.eBV(o),e.Njj(n.cerrar())}),e.j41(12,"mat-icon"),e.EFF(13,"close"),e.k0s()()()(),e.DNE(14,pe,1,2,"mat-progress-bar",12),e.j41(15,"section"),e.nrm(16,"alert-panel"),e.k0s(),e.j41(17,"section",13)(18,"div",14)(19,"mat-card",15)(20,"div",16)(21,"mat-form-field",17)(22,"mat-label"),e.EFF(23,"DESCRIPCI\xd3N: "),e.k0s(),e.j41(24,"input",18,0),e.bIt("blur",function(){e.eBV(o);const p=e.sdS(25);return e.Njj(n.verificaContenido(p.value))}),e.k0s(),e.DNE(26,ue,2,0,"mat-error",19),e.k0s(),e.j41(27,"mat-form-field",20)(28,"mat-label"),e.EFF(29,"TIPO ENLACE: "),e.k0s(),e.j41(30,"mat-select",21,1),e.bIt("selectionChange",function(){e.eBV(o);const p=e.sdS(31);return e.Njj(n.verificarEstatus(p.value))}),e.j41(32,"mat-option",22),e.EFF(33,"INTERNO"),e.k0s(),e.j41(34,"mat-option",22),e.EFF(35,"EXTERNO"),e.k0s()(),e.DNE(36,fe,2,0,"mat-error",19),e.k0s(),e.j41(37,"mat-form-field",20)(38,"mat-label"),e.EFF(39,"ORDEN: "),e.k0s(),e.nrm(40,"input",23),e.DNE(41,ge,2,0,"mat-error",19),e.k0s(),e.j41(42,"mat-form-field",17)(43,"mat-label"),e.EFF(44,"ESTATUS: "),e.k0s(),e.j41(45,"mat-select",24)(46,"mat-option",22),e.EFF(47,"ACTIVO"),e.k0s(),e.j41(48,"mat-option",22),e.EFF(49,"INACTIVO"),e.k0s()(),e.DNE(50,_e,2,0,"mat-error",19),e.k0s()(),e.j41(51,"div",16),e.DNE(52,be,5,1,"mat-form-field",25),e.j41(53,"button",26),e.bIt("click",function(){return e.eBV(o),e.Njj(n.guardar())}),e.j41(54,"mat-icon"),e.EFF(55,"save"),e.k0s(),e.EFF(56,"GUARDAR"),e.k0s()()()(),e.j41(57,"div",27)(58,"div",28)(59,"table",29),e.qex(60,30),e.DNE(61,Ce,2,0,"th",31)(62,ke,5,3,"td",32),e.bVm(),e.qex(63,33),e.DNE(64,ve,2,0,"th",31)(65,Fe,3,2,"td",32),e.bVm(),e.qex(66,34),e.DNE(67,Re,3,1,"td",35),e.bVm(),e.qex(68,36),e.DNE(69,xe,2,1,"td",35),e.bVm(),e.DNE(70,Te,1,0,"tr",37)(71,De,1,4,"tr",38)(72,je,1,3,"tr",39)(73,Ie,1,3,"tr",39),e.k0s()()()()(),e.DNE(74,ye,9,0,"ng-template",null,2,e.C5r)}if(2&i){const o=e.sdS(31);e.R7$(9),e.Y8G("ngIf","xs"==n.currentScreenSize||"sm"==n.currentScreenSize),e.R7$(),e.Y8G("ngIf","xs"!=n.currentScreenSize&&"sm"!=n.currentScreenSize),e.R7$(4),e.Y8G("ngIf",n.isLoading||n.isSaving),e.R7$(5),e.Y8G("formGroup",n.form),e.R7$(7),e.Y8G("ngIf",n.form.get("descripcion").hasError("required")),e.R7$(6),e.Y8G("value",1),e.R7$(2),e.Y8G("value",2),e.R7$(2),e.Y8G("ngIf",n.form.get("tipoSubtitulo").hasError("required")),e.R7$(5),e.Y8G("ngIf",n.form.get("orden").hasError("required")),e.R7$(5),e.Y8G("value",1),e.R7$(2),e.Y8G("value",2),e.R7$(2),e.Y8G("ngIf",n.form.get("estatus_id").hasError("required")),e.R7$(2),e.Y8G("ngIf",2==o.value),e.R7$(),e.Y8G("disabled",!n.form.valid),e.R7$(6),e.Y8G("dataSource",n.data),e.R7$(11),e.Y8G("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(),e.Y8G("matFooterRowDef",e.lJ4(20,se)),e.R7$(),e.Y8G("matFooterRowDef",e.lJ4(21,le))}},dependencies:[f.YU,f.bT,s.me,s.Q0,s.BC,s.cb,s.YS,h.$z,h.$0,E.An,F.fg,u.rl,u.nJ,u.TL,R.RN,N.VO,$.wT,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.Zq,c.xW,c.KS,c.$R,c.Qo,c.YZ,c.NB,c.iF,I.oV,v.CS,v.p$,v.v2,x.HM,D.B4,s.j4,s.JD,b.m]})}return a})();var z=d(6471);const Ge=()=>["loadingResults"],Be=()=>["noResultsFound"],Ne=()=>[25,50,100],$e=a=>({row:a}),X=a=>({hide:a});function Me(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",23),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cleanSearch())}),e.j41(1,"mat-icon"),e.EFF(2,"close"),e.k0s()()}2&a&&e.BMQ("aria-label","Clean Query")("aria-pressed","cleanQuery")}function Pe(a,r){1&a&&e.nrm(0,"mat-progress-bar",24)}function Ye(a,r){1&a&&(e.j41(0,"th",25),e.EFF(1,"TEMA / SUBTEMA"),e.k0s())}function Ve(a,r){if(1&a&&(e.j41(0,"mat-chip",30),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.JRh(t.descripcion)}}function Oe(a,r){if(1&a&&(e.j41(0,"td",26)(1,"div",27)(2,"div",28),e.EFF(3),e.k0s()(),e.j41(4,"mat-chip-set",29),e.Z7z(5,Ve,2,1,"mat-chip",30,e.fX1),e.k0s()()),2&a){const t=r.$implicit;e.R7$(3),e.E5c("[C ",t.columna_id,"] - [O ",t.orden,"] - ",t.descripcion,""),e.R7$(2),e.Dyx(t.subtema)}}function ze(a,r){1&a&&(e.j41(0,"th",25),e.EFF(1,"ESTATUS"),e.k0s())}function Xe(a,r){1&a&&(e.j41(0,"div")(1,"button",32)(2,"mat-icon"),e.EFF(3,"check"),e.k0s()()())}function Le(a,r){1&a&&(e.j41(0,"div")(1,"button",33)(2,"mat-icon"),e.EFF(3,"check"),e.k0s()()()),2&a&&(e.R7$(),e.Y8G("disabled",!0))}function Ae(a,r){if(1&a&&(e.j41(0,"td",26),e.DNE(1,Xe,4,0,"div",31)(2,Le,4,1,"div",31),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.Y8G("ngIf",1==t.estatus_id),e.R7$(),e.Y8G("ngIf",2==t.estatus_id)}}function Ue(a,r){if(1&a&&(e.j41(0,"td",34),e.EFF(1," --| Cargando Registros |-- "),e.nrm(2,"mat-progress-bar",24),e.k0s()),2&a){const t=e.XpG();e.BMQ("colspan",t.displayedColumns.length)}}function qe(a,r){if(1&a&&(e.j41(0,"td",34),e.EFF(1," No se encontraron registros "),e.k0s()),2&a){const t=e.XpG();e.BMQ("colspan",t.displayedColumns.length)}}function Qe(a,r){1&a&&e.nrm(0,"tr",35)}function Je(a,r){if(1&a){const t=e.RV6();e.j41(0,"tr",36),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.openDialogTema(n))}),e.k0s()}if(2&a){const t=r.$implicit;e.XpG();const i=e.sdS(36);e.Y8G("cdkContextMenuTriggerFor",i)("cdkContextMenuTriggerData",e.eq3(2,$e,t))}}function He(a,r){if(1&a&&e.nrm(0,"tr",37),2&a){const t=e.XpG();e.Y8G("ngClass",e.eq3(1,X,!t.isLoadingResults))}}function Ze(a,r){if(1&a&&e.nrm(0,"tr",37),2&a){const t=e.XpG();e.Y8G("ngClass",e.eq3(1,X,!(null!=t.data&&0==t.data.length&&!t.isLoadingResults)))}}function Ke(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",38)(1,"button",39),e.bIt("click",function(){const n=e.eBV(t).row,o=e.XpG();return e.Njj(o.openDialogTema(n))}),e.j41(2,"mat-icon"),e.EFF(3,"edit"),e.k0s(),e.EFF(4,"\xa0EDITAR"),e.k0s(),e.j41(5,"button",39),e.bIt("click",function(){const n=e.eBV(t).row,o=e.XpG();return e.Njj(o.eliminarTema(n))}),e.j41(6,"mat-icon"),e.EFF(7,"delete"),e.k0s(),e.EFF(8,"\xa0ELIMINAR"),e.k0s(),e.j41(9,"button",39),e.bIt("click",function(){const n=e.eBV(t).row,o=e.XpG();return e.Njj(o.openDialogSubTema(n))}),e.nrm(10,"i",40),e.EFF(11,"\xa0SUB TEMAS"),e.k0s()()}}let L=(()=>{class a{constructor(t,i){this.temaService=t,this.dialog=i,this.pageSize=50,this.displayedColumns=["tema","estatus"],this.resultsLength=0}ngOnInit(){this.data=[],this.searchQuery="",setTimeout(()=>{this.applySearch()},10)}applySearch(){this.isLoadingResults=!0;let t={sort:this.sort.active,direction:this.sort.direction,page:this.paginator.pageIndex+1,per_page:this.paginator.pageSize,query:this.searchQuery};return this.data=[],this.temaService.obtenerTemas(t).subscribe({next:i=>{this.isLoadingResults=!1,this.resultsLength=i.data.total,this.data=i.data.data},error:i=>{this.alertPanel.showError(i.error.message),this.isLoadingResults=!1}})}cleanSearch(){this.searchQuery=""}openDialogTema(t){let i={maxWidth:"100%",width:"80%",height:"250px",disableClose:!0,data:{}};t&&(i.data.id=t.id,i.data.columna_id=t.columna_id,i.data.orden=t.orden,i.data.estatus_id=t.estatus_id,i.data.descripcion=t.descripcion),this.dialog.open(oe,i).afterClosed().subscribe(o=>{this.applySearch()})}openDialogSubTema(t){let i={maxWidth:"100%",width:"80%",height:"80%",disableClose:!0,data:{}};console.log("--\x3e",t),t&&(i.data.id=t.id,i.data.descripcion=t.descripcion,i.data.estatus_id=t.estatus_id,i.data.orden=t.orden,i.data.subtema=t.subtema),this.dialog.open(we,i).afterClosed().subscribe(o=>{this.applySearch()})}eliminarRegistro(t){this.temaService.eliminarTema(t).subscribe({next:i=>{this.applySearch()},error:i=>{if("form_validation"==i.error.error_type){for(const n in i.error.data)Object.prototype.hasOwnProperty.call(i.error.data,n);this.alertPanel.showError(i.error.message)}else this.alertPanel.showError(i.error.message)}})}eliminarTema(t){this.dialog.open(w.e,{width:"500px",data:{title:"Eliminar Registro",message:"Esta seguro de eliminar este registro?",hasOKBtn:!0,btnColor:"warn",btnText:"Eliminar",btnIcon:"delete"}}).afterClosed().subscribe(o=>{o&&this.eliminarRegistro(t.id)})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(V.K),e.rXU(g.bZ))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-tema-subtema"]],viewQuery:function(i,n){if(1&i&&(e.GBs(j.iy,5),e.GBs(D.B4,5),e.GBs(b.m,5)),2&i){let o;e.mGM(o=e.lsd())&&(n.paginator=o.first),e.mGM(o=e.lsd())&&(n.sort=o.first),e.mGM(o=e.lsd())&&(n.alertPanel=o.first)}},decls:37,vars:16,consts:[["rowMenu",""],[1,"flex-row","flex-gap","module-search-bar"],["appearance","fill",1,"flex-fill"],["matInput","","placeholder","Buscar tema","autocomplete","off",3,"ngModelChange","keyup.escape","keyup.enter","ngModel"],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","primary",3,"click","matTooltip"],["mode","query",4,"ngIf"],[1,"table-card","flex-fill"],[1,"flex-column",2,"height","100%"],[1,"main-list-table","left-click-open","flex-fill"],["mat-table","","matSort","","matSortActive","updated_at","matSortDirection","desc",3,"dataSource"],["matColumnDef","tema"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","estatus"],["matColumnDef","loadingResults"],["mat-footer-cell","","class","no-results-found",4,"matFooterCellDef"],["matColumnDef","noResultsFound"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"cdkContextMenuTriggerFor","cdkContextMenuTriggerData","click",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",3,"ngClass",4,"matFooterRowDef"],["showFirstLastButtons","","aria-label","Selecciona una p\xe1gina",3,"length","pageSize","pageSizeOptions"],["matSuffix","","mat-icon-button","",3,"click"],["mode","query"],["mat-header-cell",""],["mat-cell",""],[2,"padding","5px"],[2,"font-weight","bold","font-size","12pt"],["cdkDropListOrientation","horizontal",1,"example-chip"],["cdkDrag","",1,"example-box"],[4,"ngIf"],["mat-mini-fab",""],["mat-mini-fab","",3,"disabled"],["mat-footer-cell","",1,"no-results-found"],["mat-header-row",""],["mat-row","",3,"click","cdkContextMenuTriggerFor","cdkContextMenuTriggerData"],["mat-footer-row","",3,"ngClass"],["cdkMenu","",1,"context-menu","mat-elevation-z2"],["cdkMenuItem","",1,"context-menu-item",3,"click"],[1,"uil","uil-subject",2,"font-size","17pt"]],template:function(i,n){if(1&i){const o=e.RV6();e.j41(0,"div",1)(1,"mat-form-field",2)(2,"mat-label"),e.EFF(3,"Buscar"),e.k0s(),e.j41(4,"input",3),e.mxI("ngModelChange",function(p){return e.eBV(o),e.DH7(n.searchQuery,p)||(n.searchQuery=p),e.Njj(p)}),e.bIt("keyup.escape",function(){return e.eBV(o),e.Njj(n.cleanSearch())})("keyup.enter",function(){return e.eBV(o),e.Njj(n.applySearch())}),e.k0s(),e.DNE(5,Me,3,2,"button",4),e.j41(6,"button",5),e.bIt("click",function(){return e.eBV(o),e.Njj(n.applySearch())}),e.j41(7,"mat-icon"),e.EFF(8,"search"),e.k0s()()(),e.j41(9,"button",6),e.bIt("click",function(){return e.eBV(o),e.Njj(n.openDialogTema())}),e.j41(10,"mat-icon"),e.EFF(11,"add"),e.k0s()()(),e.j41(12,"div"),e.nrm(13,"alert-panel"),e.DNE(14,Pe,1,0,"mat-progress-bar",7),e.k0s(),e.j41(15,"mat-card",8)(16,"div",9)(17,"div",10)(18,"table",11),e.qex(19,12),e.DNE(20,Ye,2,0,"th",13)(21,Oe,7,3,"td",14),e.bVm(),e.qex(22,15),e.DNE(23,ze,2,0,"th",13)(24,Ae,3,2,"td",14),e.bVm(),e.qex(25,16),e.DNE(26,Ue,3,1,"td",17),e.bVm(),e.qex(27,18),e.DNE(28,qe,2,1,"td",17),e.bVm(),e.DNE(29,Qe,1,0,"tr",19)(30,Je,1,4,"tr",20)(31,He,1,3,"tr",21)(32,Ze,1,3,"tr",21),e.k0s()(),e.j41(33,"div"),e.nrm(34,"mat-paginator",22),e.k0s()()(),e.DNE(35,Ke,12,0,"ng-template",null,0,e.C5r)}2&i&&(e.R7$(4),e.R50("ngModel",n.searchQuery),e.R7$(),e.Y8G("ngIf",n.searchQuery),e.R7$(4),e.Y8G("matTooltip","Nuevo Tema"),e.R7$(5),e.Y8G("ngIf",n.isLoadingPDF),e.R7$(4),e.Y8G("dataSource",n.data),e.R7$(11),e.Y8G("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(),e.Y8G("matFooterRowDef",e.lJ4(13,Ge)),e.R7$(),e.Y8G("matFooterRowDef",e.lJ4(14,Be)),e.R7$(2),e.Y8G("length",n.resultsLength)("pageSize",n.pageSize)("pageSizeOptions",e.lJ4(15,Ne)))},dependencies:[f.YU,f.bT,s.me,s.BC,s.vS,h.$z,h.iY,h.$0,E.An,F.fg,u.rl,u.nJ,u.yw,R.RN,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.Zq,c.xW,c.KS,c.$R,c.Qo,c.YZ,c.NB,c.iF,j.iy,z.Jl,z.Jo,I.oV,v.CS,v.p$,v.v2,x.HM,D.B4,b.m],styles:[".example-box.cdk-drag-animating[_ngcontent-%COMP%], .example-chip[_ngcontent-%COMP%]   .cdk-drop-list-dragging[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}"]})}return a})(),M=(()=>{class a{constructor(t,i){this.http=t,this.url_pagina=`${S.c.base_url}/pagina`,this.url_botones=`${S.c.base_url}/botones`,this.url_botones_hijos=`${S.c.base_url}/botones-hijos`,this.url_importar=`${S.c.base_url}/importar-cabecera`,this.url_del_imagen=`${S.c.base_url}/del-cabecera`,this.url_pagina_iframe=`${S.c.base_url}/iframe`,this.httpFile=new k.Qq(i)}obtenerPaginas(t){return this.http.get(this.url_pagina,{params:t}).pipe((0,_.T)(i=>i))}getPagina(t,i){return this.http.get(this.url_pagina+"/"+t,{params:i}).pipe((0,_.T)(n=>n))}getButtons(t){return this.http.get(this.url_botones,{params:t}).pipe((0,_.T)(i=>i))}getButtonsHijos(t){return this.http.get(this.url_botones_hijos,{params:t}).pipe((0,_.T)(i=>i))}guardarPagina(t){return this.http.post(this.url_pagina,{params:t}).pipe((0,_.T)(i=>i))}guardarFrame(t){return this.http.post(this.url_pagina_iframe,{params:t}).pipe((0,_.T)(i=>i))}eliminarImage(t){return this.http.delete(this.url_del_imagen+"/"+t,{}).pipe((0,_.T)(i=>i))}ImportarFile(t,i){const n=new FormData;n.append("archivo",t,t.name),n.append("id",i),localStorage.getItem("token");let l=(new k.Lr).set("Authorization","Bearer "+localStorage.getItem("token"));return l.append("Content-Type","application/x-www-form-urlencoded;charset=UTF-8"),l.append("Access-Control-Allow-Origin","*"),this.httpFile.post(this.url_importar,n,{headers:l})}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(k.Qq),e.KVO(k.JV))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const We=()=>["loadingResults"],et=()=>["noResultsFound"],tt=()=>[25,50,100],at=a=>({row:a}),A=a=>({hide:a});function it(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",23),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cleanSearch())}),e.j41(1,"mat-icon"),e.EFF(2,"close"),e.k0s()()}2&a&&e.BMQ("aria-label","Clean Query")("aria-pressed","cleanQuery")}function nt(a,r){1&a&&e.nrm(0,"mat-progress-bar",24)}function ot(a,r){1&a&&(e.j41(0,"th",25),e.EFF(1,"DESCRIPCION"),e.k0s())}function rt(a,r){if(1&a&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&a){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.subtema.enlace)}}function st(a,r){if(1&a&&(e.j41(0,"td",26)(1,"div",27)(2,"div"),e.EFF(3),e.k0s(),e.DNE(4,rt,2,1,"div",28),e.k0s()()),2&a){const t=r.$implicit;e.R7$(3),e.JRh(t.descripcion),e.R7$(),e.Y8G("ngIf",t.subtema)}}function lt(a,r){1&a&&(e.j41(0,"th",25),e.EFF(1,"IMAGEN"),e.k0s())}function ct(a,r){1&a&&(e.j41(0,"div"),e.EFF(1," SI "),e.k0s())}function mt(a,r){1&a&&(e.j41(0,"div"),e.EFF(1," NO "),e.k0s())}function dt(a,r){if(1&a&&(e.j41(0,"td",26),e.DNE(1,ct,2,0,"div",28)(2,mt,2,0,"div",28),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.Y8G("ngIf",1==t.imagen),e.R7$(),e.Y8G("ngIf",1!=t.imagen)}}function pt(a,r){1&a&&(e.j41(0,"th",25),e.EFF(1,"IFRAME"),e.k0s())}function ut(a,r){if(1&a&&(e.j41(0,"div")(1,"div"),e.EFF(2,"SI"),e.k0s(),e.j41(3,"div"),e.EFF(4),e.k0s()()),2&a){const t=e.XpG().$implicit;e.R7$(4),e.JRh(t.iframe)}}function ft(a,r){1&a&&(e.j41(0,"div"),e.EFF(1," NO "),e.k0s())}function gt(a,r){if(1&a&&(e.j41(0,"td",26),e.DNE(1,ut,5,1,"div",28)(2,ft,2,0,"div",28),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.Y8G("ngIf",1==t.iframe_booleand),e.R7$(),e.Y8G("ngIf",1!=t.iframe_booleand)}}function _t(a,r){if(1&a&&(e.j41(0,"td",29),e.EFF(1," --| Cargando Registros |-- "),e.nrm(2,"mat-progress-bar",24),e.k0s()),2&a){const t=e.XpG();e.BMQ("colspan",t.displayedColumns.length)}}function ht(a,r){if(1&a&&(e.j41(0,"td",29),e.EFF(1," No se encontraron registros "),e.k0s()),2&a){const t=e.XpG();e.BMQ("colspan",t.displayedColumns.length)}}function bt(a,r){1&a&&e.nrm(0,"tr",30)}function Ct(a,r){if(1&a){const t=e.RV6();e.j41(0,"tr",31),e.bIt("click",function(){const n=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.openDialog(n))}),e.k0s()}if(2&a){const t=r.$implicit;e.XpG();const i=e.sdS(36);e.Y8G("cdkContextMenuTriggerFor",i)("cdkContextMenuTriggerData",e.eq3(2,at,t))}}function kt(a,r){if(1&a&&e.nrm(0,"tr",32),2&a){const t=e.XpG();e.Y8G("ngClass",e.eq3(1,A,!t.isLoadingResults))}}function vt(a,r){if(1&a&&e.nrm(0,"tr",32),2&a){const t=e.XpG();e.Y8G("ngClass",e.eq3(1,A,!(null!=t.data&&0==t.data.length&&!t.isLoadingResults)))}}function Et(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",33)(1,"button",34),e.bIt("click",function(){const n=e.eBV(t).row,o=e.XpG();return e.Njj(o.edicion(n))}),e.j41(2,"mat-icon"),e.EFF(3,"edit"),e.k0s(),e.EFF(4,"\xa0EDITAR"),e.k0s()()}}let St=(()=>{class a{constructor(t,i,n){this.paginaService=t,this.dialog=i,this.router=n,this.pageSize=50,this.displayedColumns=["pagina","imagen","iframe"],this.resultsLength=0}ngOnInit(){this.data=[],this.searchQuery="",setTimeout(()=>{this.applySearch()},10)}applySearch(){this.isLoadingResults=!0;let t={sort:this.sort.active,direction:this.sort.direction,page:this.paginator.pageIndex+1,per_page:this.paginator.pageSize,query:this.searchQuery};return this.data=[],this.paginaService.obtenerPaginas(t).subscribe({next:i=>{this.isLoadingResults=!1,this.resultsLength=i.data.total,this.data=i.data.data},error:i=>{this.alertPanel.showError(i.error.message),this.isLoadingResults=!1}})}edicion(t){console.log(this.router.url),this.router.navigate([this.router.url,t.id])}cleanSearch(){this.searchQuery=""}openDialog(t){}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(M),e.rXU(g.bZ),e.rXU(y.Ix))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-pagina"]],viewQuery:function(i,n){if(1&i&&(e.GBs(j.iy,5),e.GBs(D.B4,5),e.GBs(b.m,5)),2&i){let o;e.mGM(o=e.lsd())&&(n.paginator=o.first),e.mGM(o=e.lsd())&&(n.sort=o.first),e.mGM(o=e.lsd())&&(n.alertPanel=o.first)}},decls:37,vars:15,consts:[["rowMenu",""],[1,"flex-row","flex-gap","module-search-bar"],["appearance","fill",1,"flex-fill"],["matInput","","placeholder","Buscar tema","autocomplete","off",3,"ngModelChange","keyup.escape","keyup.enter","ngModel"],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","","matSuffix","",3,"click"],["mode","query",4,"ngIf"],[1,"table-card","flex-fill"],[1,"flex-column",2,"height","100%"],[1,"main-list-table","left-click-open","flex-fill"],["mat-table","","matSort","","matSortActive","updated_at","matSortDirection","desc",3,"dataSource"],["matColumnDef","pagina"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","imagen"],["matColumnDef","iframe"],["matColumnDef","loadingResults"],["mat-footer-cell","","class","no-results-found",4,"matFooterCellDef"],["matColumnDef","noResultsFound"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"cdkContextMenuTriggerFor","cdkContextMenuTriggerData","click",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",3,"ngClass",4,"matFooterRowDef"],["showFirstLastButtons","","aria-label","Selecciona una p\xe1gina",3,"length","pageSize","pageSizeOptions"],["matSuffix","","mat-icon-button","",3,"click"],["mode","query"],["mat-header-cell",""],["mat-cell",""],[2,"padding","5px"],[4,"ngIf"],["mat-footer-cell","",1,"no-results-found"],["mat-header-row",""],["mat-row","",3,"click","cdkContextMenuTriggerFor","cdkContextMenuTriggerData"],["mat-footer-row","",3,"ngClass"],["cdkMenu","",1,"context-menu","mat-elevation-z2"],["cdkMenuItem","",1,"context-menu-item",3,"click"]],template:function(i,n){if(1&i){const o=e.RV6();e.j41(0,"div",1)(1,"mat-form-field",2)(2,"mat-label"),e.EFF(3,"Buscar"),e.k0s(),e.j41(4,"input",3),e.mxI("ngModelChange",function(p){return e.eBV(o),e.DH7(n.searchQuery,p)||(n.searchQuery=p),e.Njj(p)}),e.bIt("keyup.escape",function(){return e.eBV(o),e.Njj(n.cleanSearch())})("keyup.enter",function(){return e.eBV(o),e.Njj(n.applySearch())}),e.k0s(),e.DNE(5,it,3,2,"button",4),e.j41(6,"button",5),e.bIt("click",function(){return e.eBV(o),e.Njj(n.applySearch())}),e.j41(7,"mat-icon"),e.EFF(8,"search"),e.k0s()()()(),e.j41(9,"div"),e.nrm(10,"alert-panel"),e.DNE(11,nt,1,0,"mat-progress-bar",6),e.k0s(),e.j41(12,"mat-card",7)(13,"div",8)(14,"div",9)(15,"table",10),e.qex(16,11),e.DNE(17,ot,2,0,"th",12)(18,st,5,2,"td",13),e.bVm(),e.qex(19,14),e.DNE(20,lt,2,0,"th",12)(21,dt,3,2,"td",13),e.bVm(),e.qex(22,15),e.DNE(23,pt,2,0,"th",12)(24,gt,3,2,"td",13),e.bVm(),e.qex(25,16),e.DNE(26,_t,3,1,"td",17),e.bVm(),e.qex(27,18),e.DNE(28,ht,2,1,"td",17),e.bVm(),e.DNE(29,bt,1,0,"tr",19)(30,Ct,1,4,"tr",20)(31,kt,1,3,"tr",21)(32,vt,1,3,"tr",21),e.k0s()(),e.j41(33,"div"),e.nrm(34,"mat-paginator",22),e.k0s()()(),e.DNE(35,Et,5,0,"ng-template",null,0,e.C5r)}2&i&&(e.R7$(4),e.R50("ngModel",n.searchQuery),e.R7$(),e.Y8G("ngIf",n.searchQuery),e.R7$(6),e.Y8G("ngIf",n.isLoadingPDF),e.R7$(4),e.Y8G("dataSource",n.data),e.R7$(14),e.Y8G("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(),e.Y8G("matFooterRowDef",e.lJ4(12,We)),e.R7$(),e.Y8G("matFooterRowDef",e.lJ4(13,et)),e.R7$(2),e.Y8G("length",n.resultsLength)("pageSize",n.pageSize)("pageSizeOptions",e.lJ4(14,tt)))},dependencies:[f.YU,f.bT,s.me,s.BC,s.vS,h.iY,E.An,F.fg,u.rl,u.nJ,u.yw,R.RN,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.Zq,c.xW,c.KS,c.$R,c.Qo,c.YZ,c.NB,c.iF,j.iy,v.CS,v.p$,v.v2,x.HM,D.B4,b.m]})}return a})();var U=d(4412);let P=(()=>{class a{constructor(t,i){this.http=t,this.change$=new U.t(null),this.url_pagina_boton=`${S.c.base_url}/pagina-boton`,this.httpFile=new k.Qq(i)}obtenerPaginasBotones(t){return this.http.get(this.url_pagina_boton,{params:t}).pipe((0,_.T)(i=>i))}guardarPaginaBoton(t){return this.http.post(this.url_pagina_boton,{params:t}).pipe((0,_.T)(i=>i))}eliminarPaginaBoton(t){return this.http.delete(this.url_pagina_boton+"/"+t,{}).pipe((0,_.T)(i=>i))}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(k.Qq),e.KVO(k.JV))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var q=d(2092);function Ft(a,r){1&a&&(e.j41(0,"div",21)(1,"mat-icon"),e.EFF(2,"phone_iphone"),e.k0s()())}function Rt(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.resizeDialog())}),e.j41(1,"mat-icon"),e.EFF(2),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("matTooltip",t.dialogMaxSize?"Restaurar":"Maximizar")("matTooltipPosition","left"),e.R7$(2),e.JRh(t.dialogMaxSize?"fit_screen":"fullscreen")}}function xt(a,r){if(1&a&&e.nrm(0,"mat-progress-bar",23),2&a){const t=e.XpG();e.Y8G("mode",t.isSaving?"indeterminate":"query")("color",t.isSaving?"accent":"primary")}}function Tt(a,r){1&a&&(e.j41(0,"mat-form-field",16)(1,"mat-label"),e.EFF(2,"ICON: "),e.k0s(),e.nrm(3,"input",24),e.k0s())}function Dt(a,r){1&a&&(e.j41(0,"mat-error"),e.EFF(1,"El Texto es obligatorio"),e.k0s())}function jt(a,r){1&a&&(e.j41(0,"mat-error"),e.EFF(1,"La Descripcion es obligatorio"),e.k0s())}let It=(()=>{class a{constructor(t,i,n,o,l){this.dialogRef=t,this.formBuilder=i,this.breakpointObserver=n,this.inData=o,this.paginaBotonService=l,this.visible=!1,this.destroyed=new G.B,this.displayNameMap=new Map([[m.Rp.XSmall,"xs"],[m.Rp.Small,"sm"],[m.Rp.Medium,"md"],[m.Rp.Large,"lg"],[m.Rp.XLarge,"xl"]]),n.observe([m.Rp.XSmall,m.Rp.Small,m.Rp.Medium,m.Rp.Large,m.Rp.XLarge]).pipe((0,B.Q)(this.destroyed)).subscribe(p=>{for(const C of Object.keys(p.breakpoints))p.breakpoints[C]&&(this.currentScreenSize=this.displayNameMap.get(C)??"Unknown")})}ngOnInit(){this.form=this.formBuilder.group({id:[""],page:[""],tipo:[""],icon_imagen:[""],texto_boton:["",s.k0.required],descripcion:[""],enlace:["",s.k0.required],pagina_boton_padre:[""]}),this.inData.id&&this.form.patchValue(this.inData),this.inData.pagina_boton_padre&&this.form.patchValue({pagina_boton_padre:this.inData.pagina_boton_padre}),this.verificarVisibilidad()}verificarVisibilidad(){4==this.inData.tipo_boton&&(this.visible=!1)}ngAfterViewInit(){("sm"==this.currentScreenSize||"xs"==this.currentScreenSize)&&this.resizeDialog()}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}guardar(){this.form.patchValue({page:this.inData.page,tipo:this.inData.tipo_boton}),this.paginaBotonService.guardarPaginaBoton(this.form.value).subscribe({next:t=>{this.cerrar()},error:t=>{if("form_validation"==t.error.error_type){for(const i in t.error.data)Object.prototype.hasOwnProperty.call(t.error.data,i);this.alertPanel.showError(t.error.message)}else this.alertPanel.showError(t.error.message);this.isSaving=!1}})}cancelarAccion(){this.cerrar()}cerrar(){this.dialogRef.close(this.savedData)}resizeDialog(){this.dialogMaxSize?(this.dialogRef.updateSize("80%","60%"),this.dialogMaxSize=!1):(this.dialogRef.updateSize("100%","100%"),this.dialogMaxSize=!0)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(g.CP),e.rXU(s.ok),e.rXU(m.QP),e.rXU(g.Vh),e.rXU(P))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-botones-edit"]],viewQuery:function(i,n){if(1&i&&e.GBs(b.m,5),2&i){let o;e.mGM(o=e.lsd())&&(n.alertPanel=o.first)}},standalone:!0,features:[e.aNF],decls:39,vars:9,consts:[[1,"flex-column",2,"height","100%","overflow","hidden","flex","1 1 0%",3,"keydown.escape"],[1,"dialog-toolbar"],[1,"flex-row"],[1,"label-info"],["mat-button","",3,"click","disabled"],[1,"hide-xs"],[1,"flex-fill"],["class","label-info screen-size-icon",4,"ngIf"],["mat-button","","class","boton-accion","tabindex","-1",3,"matTooltip","matTooltipPosition","click",4,"ngIf"],["mat-button","","tabindex","-1",1,"boton-accion","boton-cerrar",3,"click"],[3,"mode","color",4,"ngIf"],[1,"flex-fill","flex-column",2,"padding","8px","overflow","auto",3,"formGroup"],[1,"flex-fill","flex-column","flex-gap"],[1,"flex-column","flex-gap","xs-max-height-user-form",2,"padding","8px"],[1,"flex-row","flex-xs-column","flex-fill","flex-gap"],["appearance","fill","class","flex-fill",4,"ngIf"],["appearance","fill",1,"flex-fill"],["type","text","matInput","","autocomplete","off","formControlName","texto_boton","placeholder","TEXTO","required",""],[4,"ngIf"],["type","text","matInput","","autocomplete","off","formControlName","descripcion","placeholder","TEXTO","required",""],["type","text","matInput","","autocomplete","off","formControlName","enlace","placeholder","ENLACE","required",""],[1,"label-info","screen-size-icon"],["mat-button","","tabindex","-1",1,"boton-accion",3,"click","matTooltip","matTooltipPosition"],[3,"mode","color"],["type","text","matInput","","autocomplete","off","formControlName","icon_imagen","placeholder","ICON","required","","cdkFocusInitial",""]],template:function(i,n){1&i&&(e.j41(0,"section",0),e.bIt("keydown.escape",function(){return n.cancelarAccion()},!1,e.EBC),e.j41(1,"section",1)(2,"div",2)(3,"div",3)(4,"mat-icon"),e.EFF(5,"radio_button_checked"),e.k0s(),e.EFF(6," BOTONES "),e.k0s(),e.j41(7,"button",4),e.bIt("click",function(){return n.guardar()}),e.j41(8,"mat-icon"),e.EFF(9),e.k0s(),e.j41(10,"span",5),e.EFF(11,"\xa0Guardar"),e.k0s()(),e.nrm(12,"div",6),e.DNE(13,Ft,3,0,"div",7)(14,Rt,3,3,"button",8),e.j41(15,"button",9),e.bIt("click",function(){return n.cerrar()}),e.j41(16,"mat-icon"),e.EFF(17,"close"),e.k0s()()()(),e.DNE(18,xt,1,2,"mat-progress-bar",10),e.j41(19,"section",11)(20,"div",12)(21,"mat-card",13)(22,"div",14),e.DNE(23,Tt,4,0,"mat-form-field",15),e.j41(24,"mat-form-field",16)(25,"mat-label"),e.EFF(26,"TEXTO: "),e.k0s(),e.nrm(27,"input",17),e.DNE(28,Dt,2,0,"mat-error",18),e.k0s(),e.j41(29,"mat-form-field",16)(30,"mat-label"),e.EFF(31,"DESCRIPCI\xd2N: "),e.k0s(),e.nrm(32,"input",19),e.DNE(33,jt,2,0,"mat-error",18),e.k0s()(),e.j41(34,"div",14)(35,"mat-form-field",16)(36,"mat-label"),e.EFF(37,"ENLACE: "),e.k0s(),e.nrm(38,"input",20),e.k0s()()()()()()),2&i&&(e.R7$(7),e.Y8G("disabled",n.isLoading||n.isSaving||!n.form.valid),e.R7$(2),e.JRh(n.changesDetected?"save_as":"save"),e.R7$(4),e.Y8G("ngIf","xs"==n.currentScreenSize||"sm"==n.currentScreenSize),e.R7$(),e.Y8G("ngIf","xs"!=n.currentScreenSize&&"sm"!=n.currentScreenSize),e.R7$(4),e.Y8G("ngIf",n.isLoading||n.isSaving),e.R7$(),e.Y8G("formGroup",n.form),e.R7$(4),e.Y8G("ngIf",n.visible),e.R7$(5),e.Y8G("ngIf",n.form.get("texto_boton").hasError("required")),e.R7$(5),e.Y8G("ngIf",n.form.get("descripcion").hasError("required")))},dependencies:[f.MD,f.bT,q.G,h.$z,E.An,F.fg,u.rl,u.nJ,u.TL,R.RN,I.oV,x.HM,s.X1,s.me,s.BC,s.cb,s.YS,s.j4,s.JD]})}return a})();var Q=d(3902);function yt(a,r){if(1&a&&(e.j41(0,"mat-list-option",10),e.nrm(1,"i"),e.EFF(2),e.k0s()),2&a){const t=r.$implicit;e.Y8G("value",t),e.R7$(),e.ZvI("'uil uil-",t.icon_imagen,""),e.R7$(),e.SpI(" ",t.texto_boton," ")}}function wt(a,r){1&a&&(e.j41(0,"div",12)(1,"div"),e.EFF(2,"-- SIN DATOS -- "),e.k0s()())}function Gt(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",8)(1,"div")(2,"mat-selection-list",9,0),e.bIt("selectionChange",function(){e.eBV(t);const n=e.sdS(3),o=e.XpG();return e.Njj(o.verificarId(n.selectedOptions.selected[0].value))}),e.Z7z(4,yt,3,5,"mat-list-option",10,e.fX1),e.k0s(),e.DNE(6,wt,3,0,"div",11),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(2),e.Y8G("multiple",!1),e.R7$(2),e.Dyx(t.arreglo),e.R7$(2),e.Y8G("ngIf",0==t.arreglo.length)}}function Bt(a,r){1&a&&(e.j41(0,"div"),e.nrm(1,"mat-progress-bar",13),e.k0s())}let J=(()=>{class a{constructor(t,i,n){this.dialog=t,this.paginaBotonService=i,this.paginaService=n,this.padre_id=0,this.messageEvent=new e.bkB,this.arreglo=[],this.loading=!1}ngOnInit(){this.obtenerDatos(),this.subscription=this.paginaBotonService.change$.subscribe(t=>this.obtenerPadre(t))}ngOnDestroy(){this.subscription.unsubscribe()}obtenerPadre(t){3==this.tipo_boton&&t?(this.padre_id=t,this.paginaService.getButtonsHijos({id:t}).subscribe({next:i=>{this.arreglo=i.data},error:i=>{}})):3==this.tipo_boton&&(this.arreglo=[],this.padre_id=0)}verificarId(t){this.obj_seleccionado=t,this.sendId()}sendId(){this.messageEvent.emit(this.obj_seleccionado?this.obj_seleccionado.id:0)}obtenerDatos(){this.loading=!0,this.paginaService.getButtons({id:this.page}).subscribe({next:t=>{1==this.tipo_boton?this.arreglo=t.data:2==this.tipo_boton?this.arreglo=t.data_primario:4==this.tipo_boton&&(this.arreglo=t.data_externos),this.loading=!1},error:t=>{this.loading=!1}})}addBoton(t){let i={maxWidth:"100%",width:"80%",height:"250px",disableClose:!0,data:{}};i.data.page=this.page,i.data.tipo_boton=this.tipo_boton,2==t&&(i.data.tipo=this.obj_seleccionado.tipo,i.data.id=this.obj_seleccionado.id,i.data.icon_imagen=this.obj_seleccionado.icon_imagen,i.data.texto_boton=this.obj_seleccionado.texto_boton,i.data.descripcion=this.obj_seleccionado.descripcion,i.data.enlace=this.obj_seleccionado.enlace,i.data.pagina_boton_padre=this.padre_id),this.padre_id&&(i.data.pagina_boton_padre=this.padre_id),this.dialog.open(It,i).afterClosed().subscribe(o=>{this.obtenerDatos(),2==this.tipo_boton&&(this.padre_id=0,this.obj_seleccionado={},this.messageEvent.emit(0)),this.obtenerPadre(this.padre_id)})}delBoton(){this.dialog.open(w.e,{width:"500px",data:{title:"Eliminar Registro",message:"Esta seguro de eliminar este registro?",hasOKBtn:!0,btnColor:"warn",btnText:"Eliminar",btnIcon:"delete"}}).afterClosed().subscribe(i=>{i&&this.paginaBotonService.eliminarPaginaBoton(this.obj_seleccionado.id).subscribe({next:n=>{this.obtenerDatos(),this.obtenerPadre(this.padre_id)},error:n=>{}})})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(g.bZ),e.rXU(P),e.rXU(M))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-botones"]],inputs:{botones:"botones",tipo_boton:"tipo_boton",page:"page",padre_id:"padre_id",texto_cabecera:"texto_cabecera"},outputs:{messageEvent:"messageEvent"},standalone:!0,features:[e.aNF],decls:16,vars:6,consts:[["btn",""],[1,"caja"],[1,"texto_cabecera"],[1,"botones-configuracion"],["mat-fab","","color","primary",3,"click","disabled"],["mat-fab","","color","accent",3,"click","disabled"],["class","columna",4,"ngIf"],[4,"ngIf"],[1,"columna"],[3,"selectionChange","multiple"],[1,"lista",3,"value"],["class","sin_datos",4,"ngIf"],[1,"sin_datos"],["mode","indeterminate"]],template:function(i,n){1&i&&(e.j41(0,"div")(1,"div",1)(2,"div",2),e.EFF(3),e.k0s(),e.j41(4,"div",3)(5,"button",4),e.bIt("click",function(){return n.addBoton(1)}),e.j41(6,"mat-icon"),e.EFF(7,"add"),e.k0s()(),e.j41(8,"button",4),e.bIt("click",function(){return n.addBoton(2)}),e.j41(9,"mat-icon"),e.EFF(10,"edit"),e.k0s()(),e.j41(11,"button",5),e.bIt("click",function(){return n.delBoton()}),e.j41(12,"mat-icon"),e.EFF(13,"delete"),e.k0s()()(),e.DNE(14,Gt,7,2,"div",6)(15,Bt,2,0,"div",7),e.k0s()()),2&i&&(e.R7$(3),e.SpI(" ",n.texto_cabecera," "),e.R7$(2),e.Y8G("disabled",3==n.tipo_boton&&0==n.padre_id),e.R7$(3),e.Y8G("disabled",!n.obj_seleccionado),e.R7$(3),e.Y8G("disabled",!n.obj_seleccionado),e.R7$(3),e.Y8G("ngIf",!n.loading),e.R7$(),e.Y8G("ngIf",n.loading))},dependencies:[f.MD,f.bT,q.G,h.Sr,E.An,Q.p6,Q.oh,x.HM],styles:[".caja[_ngcontent-%COMP%]{border:1px dotted #CCCCCC;min-height:300px;font-size:10pt}.botones-configuracion[_ngcontent-%COMP%]{display:flex;justify-content:end;margin:10px}.botones-configuracion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 2px}.texto_cabecera[_ngcontent-%COMP%]{padding:10pt;background-color:#c8c8c880;color:#000;font-weight:700}.lista[_ngcontent-%COMP%]{text-align:left}.sin_datos[_ngcontent-%COMP%]{background-color:#cfcfcf;font-weight:700;text-align:center;padding:15px}"]})}return a})();function Nt(a,r){1&a&&(e.j41(0,"div"),e.EFF(1,"IMAGEN"),e.k0s())}function $t(a,r){if(1&a&&e.nrm(0,"img",24),2&a){const t=e.XpG();e.FS9("src",t.url_imagen,e.B4B)}}function Mt(a,r){1&a&&(e.j41(0,"mat-error"),e.EFF(1,"Este campo es obligatorio"),e.k0s())}let Pt=(()=>{class a{constructor(t,i,n,o,l){this.formBuilder=t,this.paginaService=i,this.route=n,this.paginaBotonService=o,this.dialog=l,this.fileChangedEvent="",this.archivo=null,this.url_imagen=""}ngOnInit(){this.form=this.formBuilder.group({id:["",s.k0.required],descripcion:[""]}),this.route.paramMap.subscribe(t=>{t.get("id")&&(this.id_pagina=t.get("id"),this.form.patchValue({id:this.id_pagina}),this.cargarData())})}cargarData(){this.paginaService.getPagina(this.id_pagina,{}).subscribe({next:t=>{console.log(t);let{data:i}=t,{imagen:n}=t;this.form.patchValue({descripcion:i.descripcion}),1==i.imagen&&(this.url_imagen="data:image/jpeg;base64,"+n)},error:t=>{}})}receiveId(t){this.sendIdPadre(t)}sendIdPadre(t){this.paginaBotonService.change$.next(t)}onFileSelected(t){if(this.fileChangedEvent=t,this.fileChangedEvent.target||this.fileChangedEvent.target.files.length||this.fileChangedEvent.target.files[0]){let i=this.fileChangedEvent.target.files[0];if(this.url_imagen=this.fileChangedEvent.target.srcResult,"image/png"==i.type||"image/gif"==i.type||"image/jpeg"==i.type){this.archivo=t.target.files[0];const o=new FileReader;o.onload=l=>this.url_imagen=o.result,o.readAsDataURL(i)}}}GuardarArchivo(){this.paginaService.ImportarFile(this.archivo,this.id_pagina).subscribe({next:t=>{},error:t=>{}})}EliminarArchivo(){this.dialog.open(w.e,{width:"500px",data:{title:"Eliminar Registro",message:"Esta seguro de eliminar este registro?",hasOKBtn:!0,btnColor:"warn",btnText:"Eliminar",btnIcon:"delete"}}).afterClosed().subscribe(i=>{i&&this.paginaService.eliminarImage(this.id_pagina).subscribe({next:n=>{this.url_imagen=""},error:n=>{}})})}guardaFrame(){this.paginaService.guardarFrame(this.form.value).subscribe({next:t=>{},error:t=>{}})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(s.ok),e.rXU(M),e.rXU(y.nX),e.rXU(P),e.rXU(g.bZ))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-pagina-edit"]],decls:49,vars:23,consts:[["fileInput",""],[1,"principal"],[1,"bloque-central-informacion"],[1,"informacion_default","separacion"],[1,"texto_cabecera"],[1,"img_demo"],[4,"ngIf"],["height","200px",3,"src",4,"ngIf"],[2,"margin","10px"],["type","button","mat-raised-button","",2,"margin-right","10px",3,"click"],["hidden","","type","file","id","file","accept","image/png, image/gif, image/jpeg",3,"change"],["mat-stroked-button","","color","warn",2,"margin-right","10px",3,"click","disabled"],["mat-stroked-button","","color","primary",3,"click","disabled"],[1,"contenedor"],[3,"botones","tipo_boton","page","texto_cabecera"],[3,"messageEvent","botones","tipo_boton","page","texto_cabecera"],[1,"informacion_default",3,"formGroup"],[1,"flex-fill","flex-column",2,"padding","8px","overflow","auto","width","100%"],[1,"flex-fill","flex-column","flex-gap"],[1,"flex-column","flex-gap","xs-max-height-user-form"],[1,"flex-row","flex-xs-column","flex-fill","flex-gap"],["appearance","fill",1,"flex-fill"],["type","text","matInput","","autocomplete","off","formControlName","descripcion","placeholder","DESCRIPCION","cdkFocusInitial",""],["mat-stroked-button","","color","primary",2,"padding","30px",3,"click","disabled"],["height","200px",3,"src"]],template:function(i,n){if(1&i){const o=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),e.EFF(4," IMAGEN DE CABECERA "),e.k0s(),e.j41(5,"div",5),e.DNE(6,Nt,2,0,"div",6)(7,$t,1,1,"img",7),e.k0s(),e.j41(8,"div",8)(9,"button",9),e.bIt("click",function(){e.eBV(o);const p=e.sdS(12);return e.Njj(p.click())}),e.EFF(10,"ELEGIR IMAGEN"),e.k0s(),e.j41(11,"input",10,0),e.bIt("change",function(p){return e.eBV(o),e.Njj(n.onFileSelected(p))}),e.k0s(),e.j41(13,"button",11),e.bIt("click",function(){return e.eBV(o),e.Njj(n.EliminarArchivo())}),e.j41(14,"mat-icon"),e.EFF(15,"delete"),e.k0s(),e.j41(16,"div"),e.EFF(17,"ELIMINAR"),e.k0s()(),e.j41(18,"button",12),e.bIt("click",function(){return e.eBV(o),e.Njj(n.GuardarArchivo())}),e.j41(19,"mat-icon"),e.EFF(20,"save"),e.k0s(),e.j41(21,"div"),e.EFF(22,"GUARDAR"),e.k0s()()()(),e.j41(23,"div",13)(24,"div"),e.nrm(25,"app-botones",14),e.k0s(),e.j41(26,"div")(27,"app-botones",15),e.bIt("messageEvent",function(p){return e.eBV(o),e.Njj(n.receiveId(p))}),e.k0s()(),e.j41(28,"div"),e.nrm(29,"app-botones",14),e.k0s()(),e.j41(30,"div",13)(31,"div"),e.nrm(32,"app-botones",14),e.k0s()(),e.j41(33,"div",16)(34,"section",17)(35,"div",18)(36,"mat-card",19)(37,"div",20)(38,"mat-form-field",21)(39,"mat-label"),e.EFF(40,"DESCRIPCION: "),e.k0s(),e.nrm(41,"input",22),e.DNE(42,Mt,2,0,"mat-error",6),e.k0s()(),e.j41(43,"div",20)(44,"button",23),e.bIt("click",function(){return e.eBV(o),e.Njj(n.guardaFrame())}),e.j41(45,"mat-icon"),e.EFF(46,"save"),e.k0s(),e.j41(47,"div"),e.EFF(48,"GUARDAR"),e.k0s()()()()()()()()()}2&i&&(e.R7$(6),e.Y8G("ngIf",""==n.url_imagen),e.R7$(),e.Y8G("ngIf",""!=n.url_imagen),e.R7$(6),e.Y8G("disabled",""==n.url_imagen),e.R7$(5),e.Y8G("disabled",!n.archivo||""!=n.url_imagen),e.R7$(7),e.Y8G("botones",n.botonesInicial)("tipo_boton",1)("page",n.id_pagina)("texto_cabecera","BOTONES INICIALES"),e.R7$(2),e.Y8G("botones",n.botonesPrimarios)("tipo_boton",2)("page",n.id_pagina)("texto_cabecera","BOTONES PRIMARIOS"),e.R7$(2),e.Y8G("botones",n.botonesSecundarios)("tipo_boton",3)("page",n.id_pagina)("texto_cabecera","BOTONES SECUNDARIOS"),e.R7$(3),e.Y8G("botones",n.botonesInicial)("tipo_boton",4)("page",n.id_pagina)("texto_cabecera","LINKS EXTERNOS"),e.R7$(),e.Y8G("formGroup",n.form),e.R7$(9),e.Y8G("ngIf",n.form.get("descripcion").hasError("required")),e.R7$(2),e.Y8G("disabled",!n.form.valid))},dependencies:[f.bT,s.me,s.BC,s.cb,h.$z,E.An,F.fg,u.rl,u.nJ,u.TL,R.RN,s.j4,s.JD,J],styles:[".principal[_ngcontent-%COMP%]{width:100vw;display:flex;justify-content:center;flex-direction:column;align-items:center;align-content:center}.informacion_default[_ngcontent-%COMP%]{width:100%;text-align:center}.img_demo[_ngcontent-%COMP%]{width:100%;border:3px dotted #CCCCCC;height:200px;text-align:center;color:#ccc;display:flex;justify-content:center;flex-direction:column;align-content:center}.botones[_ngcontent-%COMP%]{column-count:3}.texto_cabecera[_ngcontent-%COMP%]{padding:10pt;background-color:#c8c8c880;color:#000;font-weight:700}.separacion[_ngcontent-%COMP%]{margin-bottom:30px}.contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;width:100%}.contenedor[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:33%}@media screen and (max-width: 500px){.contenedor[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}}"]})}return a})(),H=(()=>{class a{constructor(t,i){this.http=t,this.change$=new U.t(null),this.url=`${S.c.base_url}/banner`,this.httpFile=new k.Qq(i)}listar(t){return this.http.get(this.url,{params:t}).pipe((0,_.T)(i=>i))}guardar(t,i){const n=new FormData;i&&n.append("archivo",i,i.name),n.append("descripcion",t.descripcion),n.append("estatus_id",t.estatus_id),n.append("orden",t.orden),n.append("extension",t.extension),n.append("nombre",t.archivo),n.append("id",t.id);let o=(new k.Lr).set("Authorization","Bearer "+localStorage.getItem("token"));return o.append("Content-Type","application/x-www-form-urlencoded;charset=UTF-8"),o.append("Access-Control-Allow-Origin","*"),this.httpFile.post(this.url,n,{headers:o})}eliminar(t){return this.http.delete(this.url+"/"+t,{}).pipe((0,_.T)(i=>i))}cargarImage(t){return this.http.get(this.url+"/"+t,{}).pipe((0,_.T)(i=>i))}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(k.Qq),e.KVO(k.JV))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var Yt=d(9183);function Vt(a,r){1&a&&(e.j41(0,"div",27)(1,"mat-icon"),e.EFF(2,"phone_iphone"),e.k0s()())}function Ot(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.resizeDialog())}),e.j41(1,"mat-icon"),e.EFF(2),e.k0s()()}if(2&a){const t=e.XpG();e.Y8G("matTooltip",t.dialogMaxSize?"Restaurar":"Maximizar")("matTooltipPosition","left"),e.R7$(2),e.JRh(t.dialogMaxSize?"fit_screen":"fullscreen")}}function zt(a,r){if(1&a&&e.nrm(0,"mat-progress-bar",29),2&a){const t=e.XpG();e.Y8G("mode",t.isSaving?"indeterminate":"query")("color",t.isSaving?"accent":"primary")}}function Xt(a,r){1&a&&(e.j41(0,"mat-error"),e.EFF(1,"La descripcion de Usuario es obligatorio"),e.k0s())}function Lt(a,r){1&a&&(e.j41(0,"mat-error"),e.EFF(1,"El Orden de Usuario es obligatorio"),e.k0s())}function At(a,r){1&a&&(e.j41(0,"mat-error"),e.EFF(1,"El Nombre de Usuario es obligatorio"),e.k0s())}function Ut(a,r){1&a&&(e.j41(0,"mat-error"),e.EFF(1,"El Archivo es obligatorio"),e.k0s())}function qt(a,r){if(1&a&&(e.j41(0,"div"),e.nrm(1,"img",30),e.k0s()),2&a){const t=e.XpG(2);e.R7$(),e.Y8G("src",t.dataImage,e.B4B)}}function Qt(a,r){1&a&&(e.j41(0,"div"),e.nrm(1,"mat-spinner"),e.k0s())}function Jt(a,r){if(1&a&&(e.j41(0,"div",15),e.DNE(1,qt,2,1,"div",18)(2,Qt,2,0,"div",18),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.isLoadingImage),e.R7$(),e.Y8G("ngIf",!t.isLoadingImage)}}let Ht=(()=>{class a{constructor(t,i,n,o,l,p){this.dialogRef=t,this.inData=i,this.formBuilder=n,this.bannersService=o,this.breakpointObserver=l,this.dialog=p,this.destroyed=new G.B,this.displayNameMap=new Map([[m.Rp.XSmall,"xs"],[m.Rp.Small,"sm"],[m.Rp.Medium,"md"],[m.Rp.Large,"lg"],[m.Rp.XLarge,"xl"]]),this.isLoadingImage=!1,this.dataImage="",this.cargandoImage=!1,this.data=[],this.resumen={},l.observe([m.Rp.XSmall,m.Rp.Small,m.Rp.Medium,m.Rp.Large,m.Rp.XLarge]).pipe((0,B.Q)(this.destroyed)).subscribe(C=>{for(const T of Object.keys(C.breakpoints))C.breakpoints[T]&&(this.currentScreenSize=this.displayNameMap.get(T)??"Unknown")})}ngOnInit(){this.savedData=!1,this.isLoading=!1,this.form=this.formBuilder.group({id:[""],descripcion:["",s.k0.required],archivo:["",[s.k0.required]],orden:[1,[s.k0.required]],extension:[1,[s.k0.required]],estatus_id:[1,[s.k0.required]]}),this.form.patchValue({id:this.inData.id,archivo:this.inData.nombre,descripcion:this.inData.descripcion,orden:this.inData.orden,estatus_id:this.inData.estatus_id}),this.inData.id&&(this.cargarImage(),this.cargandoImage=!0)}ngAfterViewInit(){("sm"==this.currentScreenSize||"xs"==this.currentScreenSize)&&this.resizeDialog()}handleFileInputChange(t,i){const n=t[0];console.log(n),("image/png"==n.type||"image/jpeg"==n.type||"image/jpg"==n.type)&&(this.file_store=n,this.form.patchValue({archivo:n.name,nombre:n.name,extension:n.name.split(".").pop()}))}cargarImage(){this.isLoadingImage=!1,this.bannersService.cargarImage(this.inData.id).subscribe({next:t=>{this.dataImage="data:image/png;base64, "+t.imagen,this.isLoadingImage=!0},error:t=>{if(this.isLoadingImage=!1,"form_validation"==t.error.error_type){for(const i in t.error.data)if(Object.prototype.hasOwnProperty.call(t.error.data,i)){let o={};o[t.error.data[i]]=!0,this.form.get(i).setErrors(o)}this.alertPanel.showError(t.error.message)}else this.alertPanel.showError(t.error.message);this.isSaving=!1}})}guardar(){this.alertPanel.closePanel(),this.form.valid&&(this.isSaving=!0,this.bannersService.guardar(this.form.value,this.file_store).subscribe({next:i=>{this.cerrar(),this.isSaving=!1,this.alertPanel.showSuccess("Datos guardados con \xe9xito",3),this.savedData=!0,this.form.patchValue({id:0,descripcion:"",orden:1,estatus_id:1,archivo:"",extension:""})},error:i=>{if("form_validation"==i.error.error_type){for(const n in i.error.data)if(Object.prototype.hasOwnProperty.call(i.error.data,n)){let l={};l[i.error.data[n]]=!0,this.form.get(n).setErrors(l)}this.alertPanel.showError(i.error.message)}else this.alertPanel.showError(i.error.message);this.isSaving=!1}}))}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}edit(t){this.form.patchValue(t)}resizeDialog(){this.dialogMaxSize?(this.dialogRef.updateSize("80%","80%"),this.dialogMaxSize=!1):(this.dialogRef.updateSize("100%","100%"),this.dialogMaxSize=!0)}cancelarAccion(){this.cerrar()}cerrar(){this.dialogRef.close(this.savedData)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(g.CP),e.rXU(g.Vh),e.rXU(s.ok),e.rXU(H),e.rXU(m.QP),e.rXU(g.bZ))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-banners-dialog"]],viewQuery:function(i,n){if(1&i&&e.GBs(b.m,5),2&i){let o;e.mGM(o=e.lsd())&&(n.alertPanel=o.first)}},decls:59,vars:13,consts:[["f_input",""],[1,"flex-column",2,"height","100%","overflow","hidden","flex","1 1 0%",3,"keydown.escape"],[1,"dialog-toolbar"],[1,"flex-row"],[1,"label-info","status-label"],[1,"hide-xs"],["mat-button","",3,"click","disabled"],[1,"flex-fill"],["class","label-info screen-size-icon",4,"ngIf"],["mat-button","","class","boton-accion","tabindex","-1",3,"matTooltip","matTooltipPosition","click",4,"ngIf"],["mat-button","","tabindex","-1",1,"boton-accion","boton-cerrar",3,"click"],[3,"mode","color",4,"ngIf"],[1,"flex-fill","flex-column",2,"padding","8px","overflow","auto"],[1,"flex-fill","flex-column","flex-gap"],[1,"flex-column","flex-gap","xs-max-height-user-form",2,"padding","8px",3,"formGroup"],[1,"flex-row","flex-xs-column","flex-fill","flex-gap"],["appearance","fill",1,"flex-fill"],["type","text","matInput","","autocomplete","off","formControlName","descripcion","required",""],[4,"ngIf"],["appearance","fill"],["type","number","matInput","","autocomplete","off","formControlName","orden","placeholder","Orden","required",""],["formControlName","estatus_id"],[3,"value"],["mat-icon-button","","matPrefix","",3,"click"],["type","text","readonly","","matInput","","placeholder","","formControlName","archivo","required","required"],["type","file","hidden","",3,"change"],["class","flex-row flex-xs-column flex-fill flex-gap",4,"ngIf"],[1,"label-info","screen-size-icon"],["mat-button","","tabindex","-1",1,"boton-accion",3,"click","matTooltip","matTooltipPosition"],[3,"mode","color"],["width","450px",3,"src"]],template:function(i,n){if(1&i){const o=e.RV6();e.j41(0,"section",1),e.bIt("keydown.escape",function(){return e.eBV(o),e.Njj(n.cancelarAccion())},!1,e.EBC),e.j41(1,"section",2)(2,"div",3)(3,"div",4)(4,"mat-icon"),e.EFF(5,"image"),e.k0s(),e.j41(6,"span",5),e.EFF(7,"\xa0Banner"),e.k0s()(),e.j41(8,"button",6),e.bIt("click",function(){return e.eBV(o),e.Njj(n.guardar())}),e.j41(9,"mat-icon"),e.EFF(10),e.k0s(),e.j41(11,"span",5),e.EFF(12,"\xa0Guardar"),e.k0s()(),e.nrm(13,"div",7),e.DNE(14,Vt,3,0,"div",8)(15,Ot,3,3,"button",9),e.j41(16,"button",10),e.bIt("click",function(){return e.eBV(o),e.Njj(n.cerrar())}),e.j41(17,"mat-icon"),e.EFF(18,"close"),e.k0s()()()(),e.DNE(19,zt,1,2,"mat-progress-bar",11),e.j41(20,"section"),e.nrm(21,"alert-panel"),e.k0s(),e.j41(22,"section",12)(23,"div",13)(24,"mat-card",14)(25,"div",15)(26,"mat-form-field",16)(27,"mat-label"),e.EFF(28,"DESCRIPCI\xd3N: "),e.k0s(),e.nrm(29,"input",17),e.DNE(30,Xt,2,0,"mat-error",18),e.k0s(),e.j41(31,"mat-form-field",19)(32,"mat-label"),e.EFF(33,"ORDEN: "),e.k0s(),e.nrm(34,"input",20),e.DNE(35,Lt,2,0,"mat-error",18),e.k0s(),e.j41(36,"mat-form-field",16)(37,"mat-label"),e.EFF(38,"ESTATUS: "),e.k0s(),e.j41(39,"mat-select",21)(40,"mat-option",22),e.EFF(41,"ACTIVO"),e.k0s(),e.j41(42,"mat-option",22),e.EFF(43,"INACTIVO"),e.k0s()(),e.DNE(44,At,2,0,"mat-error",18),e.k0s()(),e.j41(45,"div",15)(46,"mat-form-field",16)(47,"mat-label"),e.EFF(48,"ARCHIVO: "),e.k0s(),e.j41(49,"button",23),e.bIt("click",function(){e.eBV(o);const p=e.sdS(54);return e.Njj(p.click())}),e.j41(50,"mat-icon"),e.EFF(51,"attach_file"),e.k0s()(),e.nrm(52,"input",24),e.j41(53,"input",25,0),e.bIt("change",function(p){e.eBV(o);const C=e.sdS(54);return e.Njj(n.handleFileInputChange(C.files,p))}),e.k0s(),e.DNE(55,Ut,2,0,"mat-error",18),e.k0s()(),e.j41(56,"div",15),e.EFF(57," Las imagenes deberan de tener unas dimensiones de 1200 x 400 px "),e.k0s(),e.DNE(58,Jt,3,2,"div",26),e.k0s()()()()}2&i&&(e.R7$(8),e.Y8G("disabled",n.isLoading||n.isSaving||!n.form.valid),e.R7$(2),e.JRh(n.changesDetected?"save_as":"save"),e.R7$(4),e.Y8G("ngIf","xs"==n.currentScreenSize||"sm"==n.currentScreenSize),e.R7$(),e.Y8G("ngIf","xs"!=n.currentScreenSize&&"sm"!=n.currentScreenSize),e.R7$(4),e.Y8G("ngIf",n.isLoading||n.isSaving),e.R7$(5),e.Y8G("formGroup",n.form),e.R7$(6),e.Y8G("ngIf",n.form.get("descripcion").hasError("required")),e.R7$(5),e.Y8G("ngIf",n.form.get("orden").hasError("required")),e.R7$(5),e.Y8G("value",1),e.R7$(2),e.Y8G("value",2),e.R7$(2),e.Y8G("ngIf",n.form.get("estatus_id").hasError("required")),e.R7$(11),e.Y8G("ngIf",n.form.get("archivo").hasError("required")),e.R7$(3),e.Y8G("ngIf",n.cargandoImage))},dependencies:[f.bT,s.me,s.Q0,s.BC,s.cb,s.YS,h.$z,h.iY,E.An,F.fg,u.rl,u.nJ,u.TL,u.JW,R.RN,N.VO,$.wT,Yt.LG,I.oV,x.HM,s.j4,s.JD,b.m]})}return a})();const Zt=()=>["loadingResults"],Kt=()=>["noResultsFound"],Wt=()=>[25,50,100],ea=a=>({row:a}),Z=a=>({hide:a});function ta(a,r){if(1&a){const t=e.RV6();e.j41(0,"button",25),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cleanSearch())}),e.j41(1,"mat-icon"),e.EFF(2,"close"),e.k0s()()}2&a&&e.BMQ("aria-label","Clean Query")("aria-pressed","cleanQuery")}function aa(a,r){1&a&&e.nrm(0,"mat-progress-bar",26)}function ia(a,r){1&a&&(e.j41(0,"th",27),e.EFF(1,"DESCRIPCI\xd3N"),e.k0s())}function na(a,r){1&a&&(e.j41(0,"div")(1,"mat-icon",30),e.EFF(2,"check_circle"),e.k0s()())}function oa(a,r){1&a&&(e.j41(0,"div")(1,"mat-icon",31),e.EFF(2,"block"),e.k0s()())}function ra(a,r){if(1&a&&(e.j41(0,"td",28),e.DNE(1,na,3,0,"div",29)(2,oa,3,0,"div",29),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.Y8G("ngIf",1==t.estatus_id),e.R7$(),e.Y8G("ngIf",2==t.estatus_id)}}function sa(a,r){1&a&&(e.j41(0,"th",27),e.EFF(1,"DESCRIPCI\xd3N"),e.k0s())}function la(a,r){if(1&a&&(e.j41(0,"td",28)(1,"div",32)(2,"div",33),e.EFF(3),e.j41(4,"div",34),e.EFF(5),e.k0s()()()()),2&a){const t=r.$implicit;e.R7$(3),e.SpI(" ",t.nombre," "),e.R7$(2),e.JRh(t.descripcion)}}function ca(a,r){1&a&&(e.j41(0,"th",27),e.EFF(1,"POSICI\xd3N"),e.k0s())}function ma(a,r){if(1&a&&(e.j41(0,"td",28),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.extension," ")}}function da(a,r){1&a&&(e.j41(0,"th",27),e.EFF(1,"POSICI\xd3N"),e.k0s())}function pa(a,r){if(1&a&&(e.j41(0,"td",28),e.EFF(1),e.k0s()),2&a){const t=r.$implicit;e.R7$(),e.SpI(" ",t.orden," ")}}function ua(a,r){if(1&a&&(e.j41(0,"td",35),e.EFF(1," --| Cargando Registros |-- "),e.nrm(2,"mat-progress-bar",26),e.k0s()),2&a){const t=e.XpG();e.BMQ("colspan",t.displayedColumns.length)}}function fa(a,r){if(1&a&&(e.j41(0,"td",35),e.EFF(1," No se encontraron registros "),e.k0s()),2&a){const t=e.XpG();e.BMQ("colspan",t.displayedColumns.length)}}function ga(a,r){1&a&&e.nrm(0,"tr",36)}function _a(a,r){if(1&a&&e.nrm(0,"tr",37),2&a){const t=r.$implicit;e.XpG();const i=e.sdS(42);e.Y8G("cdkContextMenuTriggerFor",i)("cdkContextMenuTriggerData",e.eq3(2,ea,t))}}function ha(a,r){if(1&a&&e.nrm(0,"tr",38),2&a){const t=e.XpG();e.Y8G("ngClass",e.eq3(1,Z,!t.isLoadingResults))}}function ba(a,r){if(1&a&&e.nrm(0,"tr",38),2&a){const t=e.XpG();e.Y8G("ngClass",e.eq3(1,Z,!(null!=t.data&&0==t.data.length&&!t.isLoadingResults)))}}function Ca(a,r){if(1&a){const t=e.RV6();e.j41(0,"div",39)(1,"button",40),e.bIt("click",function(){const n=e.eBV(t).row,o=e.XpG();return e.Njj(o.openDialog(n))}),e.j41(2,"mat-icon"),e.EFF(3,"edit"),e.k0s(),e.EFF(4,"\xa0EDITAR"),e.k0s(),e.j41(5,"button",40),e.bIt("click",function(){const n=e.eBV(t).row,o=e.XpG();return e.Njj(o.eliminar(n))}),e.j41(6,"mat-icon"),e.EFF(7,"delete"),e.k0s(),e.EFF(8,"\xa0ELIMINAR"),e.k0s()()}}const ka=[{path:"",component:L},{path:"banners",component:(()=>{class a{constructor(t,i){this.bannersService=t,this.dialog=i,this.pageSize=50,this.displayedColumns=["estatus","descripcion","extension","posicion"],this.resultsLength=0}ngOnInit(){this.data=[],this.searchQuery="",setTimeout(()=>{this.applySearch()},10)}applySearch(){this.isLoadingResults=!0;let t={sort:this.sort.active,direction:this.sort.direction,page:this.paginator.pageIndex+1,per_page:this.paginator.pageSize,query:this.searchQuery};return this.data=[],this.bannersService.listar(t).subscribe({next:i=>{this.isLoadingResults=!1,this.resultsLength=i.data.total,this.data=i.data.data},error:i=>{this.alertPanel.showError(i.error.message),this.isLoadingResults=!1}})}cleanSearch(){this.searchQuery=""}openDialog(t){let i={maxWidth:"100%",width:"80%",height:"260px",disableClose:!0,data:{}};t&&(i.data.id=t.id,i.data.columna_id=t.columna_id,i.data.orden=t.orden,i.data.estatus_id=t.estatus_id,i.data.descripcion=t.descripcion,i.data.extension=t.extension,i.data.nombre=t.nombre,i.height="500px"),this.dialog.open(Ht,i).afterClosed().subscribe(o=>{this.applySearch()})}eliminarRegistro(t){this.bannersService.eliminar(t).subscribe({next:i=>{this.applySearch()},error:i=>{if("form_validation"==i.error.error_type){for(const n in i.error.data)Object.prototype.hasOwnProperty.call(i.error.data,n);this.alertPanel.showError(i.error.message)}else this.alertPanel.showError(i.error.message)}})}eliminar(t){this.dialog.open(w.e,{width:"500px",data:{title:"Eliminar Registro",message:"Esta seguro de eliminar este registro?",hasOKBtn:!0,btnColor:"warn",btnText:"Eliminar",btnIcon:"delete"}}).afterClosed().subscribe(o=>{o&&this.eliminarRegistro(t.id)})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(H),e.rXU(g.bZ))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-banners"]],viewQuery:function(i,n){if(1&i&&(e.GBs(j.iy,5),e.GBs(D.B4,5),e.GBs(b.m,5)),2&i){let o;e.mGM(o=e.lsd())&&(n.paginator=o.first),e.mGM(o=e.lsd())&&(n.sort=o.first),e.mGM(o=e.lsd())&&(n.alertPanel=o.first)}},decls:43,vars:16,consts:[["rowMenu",""],[1,"flex-row","flex-gap","module-search-bar"],["appearance","fill",1,"flex-fill"],["matInput","","placeholder","Buscar tema","autocomplete","off",3,"ngModelChange","keyup.escape","keyup.enter","ngModel"],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","primary",3,"click","matTooltip"],["mode","query",4,"ngIf"],[1,"table-card","flex-fill"],[1,"flex-column",2,"height","100%"],[1,"main-list-table","left-click-open","flex-fill"],["mat-table","","matSort","","matSortActive","updated_at","matSortDirection","desc",3,"dataSource"],["matColumnDef","estatus"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","descripcion"],["matColumnDef","extension"],["matColumnDef","posicion"],["matColumnDef","loadingResults"],["mat-footer-cell","","class","no-results-found",4,"matFooterCellDef"],["matColumnDef","noResultsFound"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"cdkContextMenuTriggerFor","cdkContextMenuTriggerData",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",3,"ngClass",4,"matFooterRowDef"],["showFirstLastButtons","","aria-label","Selecciona una p\xe1gina",3,"length","pageSize","pageSizeOptions"],["matSuffix","","mat-icon-button","",3,"click"],["mode","query"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],[2,"color","green"],[2,"color","red"],[2,"padding","5px"],[2,"font-weight","bold","font-size","12pt"],[2,"font-size","10pt"],["mat-footer-cell","",1,"no-results-found"],["mat-header-row",""],["mat-row","",3,"cdkContextMenuTriggerFor","cdkContextMenuTriggerData"],["mat-footer-row","",3,"ngClass"],["cdkMenu","",1,"context-menu","mat-elevation-z2"],["cdkMenuItem","",1,"context-menu-item",3,"click"]],template:function(i,n){if(1&i){const o=e.RV6();e.j41(0,"div",1)(1,"mat-form-field",2)(2,"mat-label"),e.EFF(3,"Buscar"),e.k0s(),e.j41(4,"input",3),e.mxI("ngModelChange",function(p){return e.eBV(o),e.DH7(n.searchQuery,p)||(n.searchQuery=p),e.Njj(p)}),e.bIt("keyup.escape",function(){return e.eBV(o),e.Njj(n.cleanSearch())})("keyup.enter",function(){return e.eBV(o),e.Njj(n.applySearch())}),e.k0s(),e.DNE(5,ta,3,2,"button",4),e.j41(6,"button",5),e.bIt("click",function(){return e.eBV(o),e.Njj(n.applySearch())}),e.j41(7,"mat-icon"),e.EFF(8,"search"),e.k0s()()(),e.j41(9,"button",6),e.bIt("click",function(){return e.eBV(o),e.Njj(n.openDialog())}),e.j41(10,"mat-icon"),e.EFF(11,"add"),e.k0s()()(),e.j41(12,"div"),e.nrm(13,"alert-panel"),e.DNE(14,aa,1,0,"mat-progress-bar",7),e.k0s(),e.j41(15,"mat-card",8)(16,"div",9)(17,"div",10)(18,"table",11),e.qex(19,12),e.DNE(20,ia,2,0,"th",13)(21,ra,3,2,"td",14),e.bVm(),e.qex(22,15),e.DNE(23,sa,2,0,"th",13)(24,la,6,2,"td",14),e.bVm(),e.qex(25,16),e.DNE(26,ca,2,0,"th",13)(27,ma,2,1,"td",14),e.bVm(),e.qex(28,17),e.DNE(29,da,2,0,"th",13)(30,pa,2,1,"td",14),e.bVm(),e.qex(31,18),e.DNE(32,ua,3,1,"td",19),e.bVm(),e.qex(33,20),e.DNE(34,fa,2,1,"td",19),e.bVm(),e.DNE(35,ga,1,0,"tr",21)(36,_a,1,4,"tr",22)(37,ha,1,3,"tr",23)(38,ba,1,3,"tr",23),e.k0s()(),e.j41(39,"div"),e.nrm(40,"mat-paginator",24),e.k0s()()(),e.DNE(41,Ca,9,0,"ng-template",null,0,e.C5r)}2&i&&(e.R7$(4),e.R50("ngModel",n.searchQuery),e.R7$(),e.Y8G("ngIf",n.searchQuery),e.R7$(4),e.Y8G("matTooltip","Nuevo Tema"),e.R7$(5),e.Y8G("ngIf",n.isLoadingPDF),e.R7$(4),e.Y8G("dataSource",n.data),e.R7$(17),e.Y8G("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.R7$(),e.Y8G("matRowDefColumns",n.displayedColumns),e.R7$(),e.Y8G("matFooterRowDef",e.lJ4(13,Zt)),e.R7$(),e.Y8G("matFooterRowDef",e.lJ4(14,Kt)),e.R7$(2),e.Y8G("length",n.resultsLength)("pageSize",n.pageSize)("pageSizeOptions",e.lJ4(15,Wt)))},dependencies:[f.YU,f.bT,s.me,s.BC,s.vS,h.$z,h.iY,E.An,F.fg,u.rl,u.nJ,u.yw,R.RN,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.Zq,c.xW,c.KS,c.$R,c.Qo,c.YZ,c.NB,c.iF,j.iy,I.oV,v.CS,v.p$,v.v2,x.HM,D.B4,b.m]})}return a})()},{path:"temas",component:L},{path:"paginas",component:St},{path:"paginas/:id",component:Pt},{path:"**",redirectTo:""}];let va=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.$C({type:a});static#a=this.\u0275inj=e.G2t({imports:[y.iI.forChild(ka),y.iI]})}return a})();var Ea=d(3887);let Sa=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.$C({type:a});static#a=this.\u0275inj=e.G2t({imports:[f.MD,Ea.G,y.iI,J,va]})}return a})()}}]);