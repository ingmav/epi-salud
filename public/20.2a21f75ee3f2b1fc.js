"use strict";(self.webpackChunkbase_platform=self.webpackChunkbase_platform||[]).push([[20],{7020:(Pt,Q,m)=>{m.r(Q),m.d(Q,{IndiceModule:()=>Rt});var g=m(6814),D=m(1896),U=m(1476),y=m(3566),b=m(5499),k=m(9107),l=m(6223),_=m(7700),u=m(1088),N=m(8645),E=m(9773),e=m(9212),R=m(7425),h=m(2296),v=m(617),S=m(2032),d=m(9157),A=m(5195),P=m(8525),O=m(3680),I=m(2596),w=m(6007);function K(o,r){1&o&&(e.TgZ(0,"div",23)(1,"mat-icon"),e._uU(2,"phone_iphone"),e.qZA()())}function X(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.resizeDialog())}),e.TgZ(1,"mat-icon"),e._uU(2),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("matTooltip",t.dialogMaxSize?"Restaurar":"Maximizar")("matTooltipPosition","left"),e.xp6(2),e.Oqu(t.dialogMaxSize?"fit_screen":"fullscreen")}}function $(o,r){if(1&o&&e._UZ(0,"mat-progress-bar",25),2&o){const t=e.oxw();e.Q6J("mode",t.isSaving||t.isSendingEmail?"indeterminate":"query")("color",t.isSaving||t.isSendingEmail?"accent":"primary")}}function V(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es obligatorio"),e.qZA())}function W(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"El Nombre de Usuario es obligatorio"),e.qZA())}function ee(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"El Nombre de Usuario es obligatorio"),e.qZA())}function te(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"El Correo Electr\xf3nico es obligatorio"),e.qZA())}let oe=(()=>{class o{constructor(t,a,i,n,s,p){this.dialogRef=t,this.inData=a,this.formBuilder=i,this.temaService=n,this.breakpointObserver=s,this.dialog=p,this.destroyed=new N.x,this.displayNameMap=new Map([[u.u3.XSmall,"xs"],[u.u3.Small,"sm"],[u.u3.Medium,"md"],[u.u3.Large,"lg"],[u.u3.XLarge,"xl"]]),s.observe([u.u3.XSmall,u.u3.Small,u.u3.Medium,u.u3.Large,u.u3.XLarge]).pipe((0,E.R)(this.destroyed)).subscribe(Z=>{for(const q of Object.keys(Z.breakpoints))Z.breakpoints[q]&&(this.currentScreenSize=this.displayNameMap.get(q)??"Unknown")})}ngOnInit(){this.savedData=!1,this.isLoading=!1,this.form=this.formBuilder.group({id:[""],columna_id:[1,l.kI.required],descripcion:["",[l.kI.required]],orden:["",[l.kI.required]],estatus_id:[1,[l.kI.required]]}),console.log(this.inData),this.inData.columna_id&&this.form.patchValue({id:this.inData.id,columna_id:this.inData.columna_id,descripcion:this.inData.descripcion,orden:this.inData.orden,estatus_id:this.inData.estatus_id})}ngAfterViewInit(){("sm"==this.currentScreenSize||"xs"==this.currentScreenSize)&&(this.resizeDialog(),this.avatarRowCount="xs"==this.currentScreenSize?4:8)}guardar(){this.alertPanel.closePanel(),(this.form.valid||status)&&(this.isSaving=!0,this.temaService.guardarTema(this.form.value).subscribe({next:a=>{this.isSaving=!1,this.inData.id=a.data.id,this.alertPanel.showSuccess("Datos guardados con \xe9xito",3),this.savedData=!0},error:a=>{if("form_validation"==a.error.error_type){for(const i in a.error.data)if(Object.prototype.hasOwnProperty.call(a.error.data,i)){let s={};s[a.error.data[i]]=!0,this.form.get(i).setErrors(s)}this.alertPanel.showError(a.error.message)}else this.alertPanel.showError(a.error.message);this.isSaving=!1}}))}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}resizeDialog(){this.dialogMaxSize?(this.dialogRef.updateSize("80%","60%"),this.dialogMaxSize=!1):(this.dialogRef.updateSize("100%","100%"),this.dialogMaxSize=!0)}cancelarAccion(){this.cerrar()}cerrar(){this.dialogRef.close(this.savedData)}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(_.so),e.Y36(_.WI),e.Y36(l.qu),e.Y36(R.$),e.Y36(u.Yg),e.Y36(_.uw))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-tema-dialog"]],viewQuery:function(a,i){if(1&a&&e.Gf(b.G,5),2&a){let n;e.iGM(n=e.CRH())&&(i.alertPanel=n.first)}},decls:59,vars:16,consts:[[1,"flex-column",2,"height","100%","overflow","hidden","flex","1 1 0%",3,"keydown.escape"],[1,"dialog-toolbar"],[1,"flex-row"],[1,"label-info","status-label"],[1,"hide-xs"],["mat-button","",3,"disabled","click"],[1,"flex-fill"],["class","label-info screen-size-icon",4,"ngIf"],["mat-button","","class","boton-accion","tabindex","-1",3,"matTooltip","matTooltipPosition","click",4,"ngIf"],["mat-button","","tabindex","-1",1,"boton-accion","boton-cerrar",3,"click"],[3,"mode","color",4,"ngIf"],[1,"flex-fill","flex-column",2,"padding","8px","overflow","auto"],[1,"flex-fill","flex-column","flex-gap"],[1,"flex-column","flex-gap","xs-max-height-user-form",2,"padding","8px",3,"formGroup"],[1,"flex-row","flex-xs-column","flex-fill","flex-gap"],["appearance","fill"],["formControlName","columna_id"],[3,"value"],[4,"ngIf"],["type","text","matInput","","autocomplete","off","formControlName","orden","placeholder","Orden","required",""],["appearance","fill",1,"flex-fill"],["formControlName","estatus_id"],["type","text","matInput","","autocomplete","off","formControlName","descripcion","placeholder","Tema","required",""],[1,"label-info","screen-size-icon"],["mat-button","","tabindex","-1",1,"boton-accion",3,"matTooltip","matTooltipPosition","click"],[3,"mode","color"]],template:function(a,i){1&a&&(e.TgZ(0,"section",0),e.NdJ("keydown.escape",function(){return i.cancelarAccion()},!1,e.evT),e.TgZ(1,"section",1)(2,"div",2)(3,"div",3)(4,"mat-icon"),e._uU(5,"star"),e.qZA(),e.TgZ(6,"span",4),e._uU(7,"\xa0Tema"),e.qZA()(),e.TgZ(8,"button",5),e.NdJ("click",function(){return i.guardar()}),e.TgZ(9,"mat-icon"),e._uU(10),e.qZA(),e.TgZ(11,"span",4),e._uU(12,"\xa0Guardar"),e.qZA()(),e._UZ(13,"div",6),e.YNc(14,K,3,0,"div",7)(15,X,3,3,"button",8),e.TgZ(16,"button",9),e.NdJ("click",function(){return i.cerrar()}),e.TgZ(17,"mat-icon"),e._uU(18,"close"),e.qZA()()()(),e.YNc(19,$,1,2,"mat-progress-bar",10),e.TgZ(20,"section"),e._UZ(21,"alert-panel"),e.qZA(),e.TgZ(22,"section",11)(23,"div",12)(24,"mat-card",13)(25,"div",14)(26,"mat-form-field",15)(27,"mat-label"),e._uU(28,"COLUMNA: "),e.qZA(),e.TgZ(29,"mat-select",16)(30,"mat-option",17),e._uU(31,"COLUMNA 1"),e.qZA(),e.TgZ(32,"mat-option",17),e._uU(33,"COLUMNA 2"),e.qZA(),e.TgZ(34,"mat-option",17),e._uU(35,"COLUMNA 3"),e.qZA(),e.TgZ(36,"mat-option",17),e._uU(37,"COLUMNA 4"),e.qZA()(),e.YNc(38,V,2,0,"mat-error",18),e.qZA(),e.TgZ(39,"mat-form-field",15)(40,"mat-label"),e._uU(41,"ORDEN: "),e.qZA(),e._UZ(42,"input",19),e.YNc(43,W,2,0,"mat-error",18),e.qZA(),e.TgZ(44,"mat-form-field",20)(45,"mat-label"),e._uU(46,"ESTATUS: "),e.qZA(),e.TgZ(47,"mat-select",21)(48,"mat-option",17),e._uU(49,"ACTIVO"),e.qZA(),e.TgZ(50,"mat-option",17),e._uU(51,"INACTIVO"),e.qZA()(),e.YNc(52,ee,2,0,"mat-error",18),e.qZA()(),e.TgZ(53,"div",14)(54,"mat-form-field",20)(55,"mat-label"),e._uU(56,"TEMA: "),e.qZA(),e._UZ(57,"input",22),e.YNc(58,te,2,0,"mat-error",18),e.qZA()()()()()()),2&a&&(e.xp6(8),e.Q6J("disabled",i.isLoading||i.isSaving||!i.form.valid),e.xp6(2),e.Oqu(i.changesDetected?"save_as":"save"),e.xp6(4),e.Q6J("ngIf","xs"==i.currentScreenSize||"sm"==i.currentScreenSize),e.xp6(1),e.Q6J("ngIf","xs"!=i.currentScreenSize&&"sm"!=i.currentScreenSize),e.xp6(4),e.Q6J("ngIf",i.isLoading||i.isSaving||i.isSendingEmail),e.xp6(5),e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("value",1),e.xp6(2),e.Q6J("value",2),e.xp6(2),e.Q6J("value",3),e.xp6(2),e.Q6J("value",4),e.xp6(2),e.Q6J("ngIf",i.form.get("columna_id").hasError("required")),e.xp6(5),e.Q6J("ngIf",i.form.get("orden").hasError("required")),e.xp6(5),e.Q6J("value",1),e.xp6(2),e.Q6J("value",2),e.xp6(2),e.Q6J("ngIf",i.form.get("estatus_id").hasError("required")),e.xp6(6),e.Q6J("ngIf",i.form.get("descripcion").hasError("required")))},dependencies:[g.O5,l.Fj,l.JJ,l.JL,l.Q7,h.lW,v.Hw,S.Nt,d.KE,d.hX,d.TO,A.a8,P.gD,O.ey,I.gM,w.pW,l.sg,l.u,b.G]})}return o})();var x=m(553),f=m(7398),C=m(1474);let ae=(()=>{class o{constructor(t){this.http=t,this.url_subtema=`${x.N.base_url}/subtema`}obtenerSubTemas(t){return this.http.get(this.url_subtema,{params:t}).pipe((0,f.U)(a=>a))}guardarSubTema(t){return this.http.post(this.url_subtema,{params:t}).pipe((0,f.U)(a=>a))}eliminarSubTema(t){return this.http.delete(this.url_subtema+"/"+t).pipe((0,f.U)(a=>a))}static#e=this.\u0275fac=function(a){return new(a||o)(e.LFG(C.eN))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var c=m(5313),T=m(1346);function ie(o,r){1&o&&(e.TgZ(0,"div",40)(1,"mat-icon"),e._uU(2,"phone_iphone"),e.qZA()())}function ne(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.resizeDialog())}),e.TgZ(1,"mat-icon"),e._uU(2),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("matTooltip",t.dialogMaxSize?"Restaurar":"Maximizar")("matTooltipPosition","left"),e.xp6(2),e.Oqu(t.dialogMaxSize?"fit_screen":"fullscreen")}}function re(o,r){if(1&o&&e._UZ(0,"mat-progress-bar",42),2&o){const t=e.oxw();e.Q6J("mode",t.isSaving?"indeterminate":"query")("color",t.isSaving?"accent":"primary")}}function se(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"La descripcion de Usuario es obligatorio"),e.qZA())}function le(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"La descripcion de Usuario es obligatorio"),e.qZA())}function ce(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"El Orden de Usuario es obligatorio"),e.qZA())}function me(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"El Nombre de Usuario es obligatorio"),e.qZA())}function ue(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"La descripcion de Usuario es obligatorio"),e.qZA())}function de(o,r){if(1&o&&(e.TgZ(0,"mat-form-field",14)(1,"mat-label"),e._uU(2,"ENLACE: "),e.qZA(),e._UZ(3,"input",43),e.YNc(4,ue,2,0,"mat-error",17),e.qZA()),2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.form.get("enlace").hasError("required"))}}function pe(o,r){1&o&&(e.TgZ(0,"th",44),e._uU(1,"TEMA / SUBTEMA"),e.qZA())}function ge(o,r){if(1&o&&(e.TgZ(0,"td",45)(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.qZA()()),2&o){const t=r.$implicit;e.xp6(2),e.AsE("",t.orden," - ",t.descripcion,""),e.xp6(2),e.Oqu(t.enlace)}}function fe(o,r){1&o&&(e.TgZ(0,"th",44),e._uU(1,"ESTATUS"),e.qZA())}function _e(o,r){1&o&&(e.TgZ(0,"div")(1,"button",46)(2,"mat-icon"),e._uU(3,"check"),e.qZA()()())}function he(o,r){1&o&&(e.TgZ(0,"div")(1,"button",47)(2,"mat-icon"),e._uU(3,"check"),e.qZA()()()),2&o&&(e.xp6(1),e.Q6J("disabled",!0))}function be(o,r){if(1&o&&(e.TgZ(0,"td",45),e.YNc(1,_e,4,0,"div",17)(2,he,4,1,"div",17),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",1==t.estatus_id),e.xp6(1),e.Q6J("ngIf",2==t.estatus_id)}}function Te(o,r){if(1&o&&(e.TgZ(0,"td",48),e._uU(1," --| Cargando Registros |-- "),e._UZ(2,"mat-progress-bar",49),e.qZA()),2&o){const t=e.oxw();e.uIk("colspan",t.displayedColumns.length)}}function xe(o,r){if(1&o&&(e.TgZ(0,"td",48),e._uU(1," No se encontraron registros "),e.qZA()),2&o){const t=e.oxw();e.uIk("colspan",t.displayedColumns.length)}}function Ce(o,r){1&o&&e._UZ(0,"tr",50)}const Ze=o=>({row:o});function ve(o,r){if(1&o&&e._UZ(0,"tr",51),2&o){const t=r.$implicit;e.oxw();const a=e.MAs(75);e.Q6J("cdkContextMenuTriggerFor",a)("cdkContextMenuTriggerData",e.VKq(2,Ze,t))}}const z=o=>({hide:o});function Se(o,r){if(1&o&&e._UZ(0,"tr",52),2&o){const t=e.oxw();e.Q6J("ngClass",e.VKq(1,z,!t.isLoadingResults))}}function Ae(o,r){if(1&o&&e._UZ(0,"tr",52),2&o){const t=e.oxw();e.Q6J("ngClass",e.VKq(1,z,!(null!=t.data&&0==t.data.length&&!t.isLoadingResults)))}}function we(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",53)(1,"button",54),e.NdJ("click",function(){const n=e.CHM(t).row,s=e.oxw();return e.KtG(s.edit(n))}),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA(),e._uU(4,"\xa0EDITAR"),e.qZA(),e.TgZ(5,"button",55),e.NdJ("click",function(){const n=e.CHM(t).row,s=e.oxw();return e.KtG(s.eliminar(n))}),e.TgZ(6,"mat-icon"),e._uU(7,"delete"),e.qZA(),e._uU(8,"\xa0ELIMINAR"),e.qZA()()}}const De=()=>["loadingResults"],ye=()=>["noResultsFound"];let qe=(()=>{class o{constructor(t,a,i,n,s,p){this.dialogRef=t,this.inData=a,this.formBuilder=i,this.subtemaService=n,this.breakpointObserver=s,this.dialog=p,this.destroyed=new N.x,this.displayNameMap=new Map([[u.u3.XSmall,"xs"],[u.u3.Small,"sm"],[u.u3.Medium,"md"],[u.u3.Large,"lg"],[u.u3.XLarge,"xl"]]),this.data=[],this.displayedColumns=["subtema","estatus"],s.observe([u.u3.XSmall,u.u3.Small,u.u3.Medium,u.u3.Large,u.u3.XLarge]).pipe((0,E.R)(this.destroyed)).subscribe(Z=>{for(const q of Object.keys(Z.breakpoints))Z.breakpoints[q]&&(this.currentScreenSize=this.displayNameMap.get(q)??"Unknown")})}ngOnInit(){this.savedData=!1,this.isLoading=!1,this.form=this.formBuilder.group({id:[""],catalogo_tema_id:["",l.kI.required],descripcion:["",l.kI.required],tipoSubtitulo:["",[l.kI.required]],enlace:["",[l.kI.required]],orden:[1,[l.kI.required]],estatus_id:[1,[l.kI.required]]}),this.data=this.inData.subtema,this.form.patchValue({catalogo_tema_id:this.inData.id}),console.log("--\x3e",this.form)}ngAfterViewInit(){("sm"==this.currentScreenSize||"xs"==this.currentScreenSize)&&this.resizeDialog()}guardar(){this.alertPanel.closePanel(),this.form.valid&&(this.isSaving=!0,this.subtemaService.guardarSubTema(this.form.value).subscribe({next:a=>{this.isSaving=!1,this.alertPanel.showSuccess("Datos guardados con \xe9xito",3),this.savedData=!0,this.form.patchValue({id:0,enlace:"",descripcion:"",orden:1,estatus_id:1}),this.obtenerDatos()},error:a=>{if("form_validation"==a.error.error_type){for(const i in a.error.data)if(Object.prototype.hasOwnProperty.call(a.error.data,i)){let s={};s[a.error.data[i]]=!0,this.form.get(i).setErrors(s)}this.alertPanel.showError(a.error.message)}else this.alertPanel.showError(a.error.message);this.isSaving=!1}}))}obtenerDatos(){this.subtemaService.obtenerSubTemas({catalogo_tema_id:this.inData.id}).subscribe({next:t=>{this.isSaving=!1,this.savedData=!0,this.data=t.data},error:t=>{if("form_validation"==t.error.error_type){for(const a in t.error.data)if(Object.prototype.hasOwnProperty.call(t.error.data,a)){let n={};n[t.error.data[a]]=!0,this.form.get(a).setErrors(n)}this.alertPanel.showError(t.error.message)}else this.alertPanel.showError(t.error.message);this.isSaving=!1}})}eliminarRegistro(t){this.subtemaService.eliminarSubTema(t).subscribe({next:a=>{this.isSaving=!1,this.savedData=!0,this.obtenerDatos()},error:a=>{if("form_validation"==a.error.error_type){for(const i in a.error.data)if(Object.prototype.hasOwnProperty.call(a.error.data,i)){let s={};s[a.error.data[i]]=!0,this.form.get(i).setErrors(s)}this.alertPanel.showError(a.error.message)}else this.alertPanel.showError(a.error.message);this.isSaving=!1}})}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}verificarEstatus(t){2==t&&this.form.patchValue({enlace:""})}verificaContenido(t){let a=t.toLowerCase();a=a.replace(/\s/g,"-"),a=a.replace(/\\/g,""),this.form.patchValue({enlace:a}),console.log("v->",this.form.value)}edit(t){this.form.patchValue(t)}eliminar(t){let a=t.id;this.dialog.open(k.N,{width:"500px",data:{title:"Eliminar Registros",message:"Esta seguro de eliminar este registro?",hasOKBtn:!0,btnColor:"warn",btnText:"Eliminar",btnIcon:"delete"}}).afterClosed().subscribe(n=>{n&&this.eliminarRegistro(a)})}resizeDialog(){this.dialogMaxSize?(this.dialogRef.updateSize("80%","80%"),this.dialogMaxSize=!1):(this.dialogRef.updateSize("100%","100%"),this.dialogMaxSize=!0)}cancelarAccion(){this.cerrar()}cerrar(){this.dialogRef.close(this.savedData)}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(_.so),e.Y36(_.WI),e.Y36(l.qu),e.Y36(ae),e.Y36(u.Yg),e.Y36(_.uw))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-subtema-dialog"]],viewQuery:function(a,i){if(1&a&&e.Gf(b.G,5),2&a){let n;e.iGM(n=e.CRH())&&(i.alertPanel=n.first)}},decls:76,vars:22,consts:[[1,"flex-column",2,"height","100%","overflow","hidden","flex","1 1 0%",3,"keydown.escape"],[1,"dialog-toolbar"],[1,"flex-row"],[1,"label-info","status-label"],[1,"hide-xs"],[1,"flex-fill"],["class","label-info screen-size-icon",4,"ngIf"],["mat-button","","class","boton-accion","tabindex","-1",3,"matTooltip","matTooltipPosition","click",4,"ngIf"],["mat-button","","tabindex","-1",1,"boton-accion","boton-cerrar",3,"click"],[3,"mode","color",4,"ngIf"],[1,"flex-fill","flex-column",2,"padding","8px","overflow","auto"],[1,"flex-fill","flex-column","flex-gap"],[1,"flex-column","flex-gap","xs-max-height-user-form",2,"padding","8px",3,"formGroup"],[1,"flex-row","flex-xs-column","flex-fill","flex-gap"],["appearance","fill",1,"flex-fill"],["type","text","matInput","","autocomplete","off","formControlName","descripcion","required","",3,"blur"],["descripcion",""],[4,"ngIf"],["appearance","fill"],["formControlName","tipoSubtitulo",3,"selectionChange"],["tipo",""],[3,"value"],["type","number","matInput","","autocomplete","off","formControlName","orden","placeholder","Orden","required",""],["formControlName","estatus_id"],["appearance","fill","class","flex-fill",4,"ngIf"],["mat-raised-button","","color","primary",1,"flex-fill",2,"padding","28px",3,"disabled","click"],[1,"flex-column",2,"height","100%"],[1,"main-list-table","left-click-open","flex-fill",2,"height","100%"],["mat-table","","matSort","","matSortActive","updated_at","matSortDirection","desc",3,"dataSource"],["matColumnDef","subtema"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","estatus"],["matColumnDef","loadingResults"],["mat-footer-cell","","class","no-results-found",4,"matFooterCellDef"],["matColumnDef","noResultsFound"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"cdkContextMenuTriggerFor","cdkContextMenuTriggerData",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",3,"ngClass",4,"matFooterRowDef"],["rowMenu",""],[1,"label-info","screen-size-icon"],["mat-button","","tabindex","-1",1,"boton-accion",3,"matTooltip","matTooltipPosition","click"],[3,"mode","color"],["type","text","matInput","","autocomplete","off","formControlName","enlace","required",""],["mat-header-cell",""],["mat-cell",""],["mat-mini-fab",""],["mat-mini-fab","",3,"disabled"],["mat-footer-cell","",1,"no-results-found"],["mode","query"],["mat-header-row",""],["mat-row","",3,"cdkContextMenuTriggerFor","cdkContextMenuTriggerData"],["mat-footer-row","",3,"ngClass"],["cdkMenu","",1,"context-menu","mat-elevation-z2"],["cdkMenuItem","",1,"context-menu-item",3,"click"],["cdkMenuItem","",1,"context-menu-item",2,"color","red",3,"click"]],template:function(a,i){if(1&a){const n=e.EpF();e.TgZ(0,"section",0),e.NdJ("keydown.escape",function(){return i.cancelarAccion()},!1,e.evT),e.TgZ(1,"section",1)(2,"div",2)(3,"div",3)(4,"mat-icon"),e._uU(5,"star"),e.qZA(),e.TgZ(6,"span",4),e._uU(7,"\xa0Tema"),e.qZA()(),e._UZ(8,"div",5),e.YNc(9,ie,3,0,"div",6)(10,ne,3,3,"button",7),e.TgZ(11,"button",8),e.NdJ("click",function(){return i.cerrar()}),e.TgZ(12,"mat-icon"),e._uU(13,"close"),e.qZA()()()(),e.YNc(14,re,1,2,"mat-progress-bar",9),e.TgZ(15,"section"),e._UZ(16,"alert-panel"),e.qZA(),e.TgZ(17,"section",10)(18,"div",11)(19,"mat-card",12)(20,"div",13)(21,"mat-form-field",14)(22,"mat-label"),e._uU(23,"DESCRIPCI\xd3N: "),e.qZA(),e.TgZ(24,"input",15,16),e.NdJ("blur",function(){e.CHM(n);const p=e.MAs(25);return e.KtG(i.verificaContenido(p.value))}),e.qZA(),e.YNc(26,se,2,0,"mat-error",17),e.qZA(),e.TgZ(27,"mat-form-field",18)(28,"mat-label"),e._uU(29,"TIPO ENLACE: "),e.qZA(),e.TgZ(30,"mat-select",19,20),e.NdJ("selectionChange",function(){e.CHM(n);const p=e.MAs(31);return e.KtG(i.verificarEstatus(p.value))}),e.TgZ(32,"mat-option",21),e._uU(33,"INTERNO"),e.qZA(),e.TgZ(34,"mat-option",21),e._uU(35,"EXTERNO"),e.qZA()(),e.YNc(36,le,2,0,"mat-error",17),e.qZA(),e.TgZ(37,"mat-form-field",18)(38,"mat-label"),e._uU(39,"ORDEN: "),e.qZA(),e._UZ(40,"input",22),e.YNc(41,ce,2,0,"mat-error",17),e.qZA(),e.TgZ(42,"mat-form-field",14)(43,"mat-label"),e._uU(44,"ESTATUS: "),e.qZA(),e.TgZ(45,"mat-select",23)(46,"mat-option",21),e._uU(47,"ACTIVO"),e.qZA(),e.TgZ(48,"mat-option",21),e._uU(49,"INACTIVO"),e.qZA()(),e.YNc(50,me,2,0,"mat-error",17),e.qZA()(),e.TgZ(51,"div",13),e.YNc(52,de,5,1,"mat-form-field",24),e.TgZ(53,"button",25),e.NdJ("click",function(){return i.guardar()}),e.TgZ(54,"mat-icon"),e._uU(55,"save"),e.qZA(),e._uU(56,"GUARDAR"),e.qZA()()()(),e.TgZ(57,"div",26)(58,"div",27)(59,"table",28),e.ynx(60,29),e.YNc(61,pe,2,0,"th",30)(62,ge,5,3,"td",31),e.BQk(),e.ynx(63,32),e.YNc(64,fe,2,0,"th",30)(65,be,3,2,"td",31),e.BQk(),e.ynx(66,33),e.YNc(67,Te,3,1,"td",34),e.BQk(),e.ynx(68,35),e.YNc(69,xe,2,1,"td",34),e.BQk(),e.YNc(70,Ce,1,0,"tr",36)(71,ve,1,4,"tr",37)(72,Se,1,3,"tr",38)(73,Ae,1,3,"tr",38),e.qZA()()()()(),e.YNc(74,we,9,0,"ng-template",null,39,e.W1O)}if(2&a){const n=e.MAs(31);e.xp6(9),e.Q6J("ngIf","xs"==i.currentScreenSize||"sm"==i.currentScreenSize),e.xp6(1),e.Q6J("ngIf","xs"!=i.currentScreenSize&&"sm"!=i.currentScreenSize),e.xp6(4),e.Q6J("ngIf",i.isLoading||i.isSaving),e.xp6(5),e.Q6J("formGroup",i.form),e.xp6(7),e.Q6J("ngIf",i.form.get("descripcion").hasError("required")),e.xp6(6),e.Q6J("value",1),e.xp6(2),e.Q6J("value",2),e.xp6(2),e.Q6J("ngIf",i.form.get("tipoSubtitulo").hasError("required")),e.xp6(5),e.Q6J("ngIf",i.form.get("orden").hasError("required")),e.xp6(5),e.Q6J("value",1),e.xp6(2),e.Q6J("value",2),e.xp6(2),e.Q6J("ngIf",i.form.get("estatus_id").hasError("required")),e.xp6(2),e.Q6J("ngIf",2==n.value),e.xp6(1),e.Q6J("disabled",!i.form.valid),e.xp6(6),e.Q6J("dataSource",i.data),e.xp6(11),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("matFooterRowDef",e.DdM(20,De)),e.xp6(1),e.Q6J("matFooterRowDef",e.DdM(21,ye))}},dependencies:[g.mk,g.O5,l.Fj,l.wV,l.JJ,l.JL,l.Q7,h.lW,h.nh,v.Hw,S.Nt,d.KE,d.hX,d.TO,A.a8,P.gD,O.ey,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.mD,c.Ke,c.ge,c.ev,c.yh,c.XQ,c.Gk,c.Q2,I.gM,T.qn,T.Sv,T.eu,w.pW,y.YE,l.sg,l.u,b.G]})}return o})();var F=m(2557);function Ue(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cleanSearch())}),e.TgZ(1,"mat-icon"),e._uU(2,"close"),e.qZA()()}2&o&&e.uIk("aria-label","Clean Query")("aria-pressed","cleanQuery")}function ke(o,r){1&o&&e._UZ(0,"mat-progress-bar",24)}function Ie(o,r){1&o&&(e.TgZ(0,"th",25),e._uU(1,"TEMA / SUBTEMA"),e.qZA())}function Ne(o,r){if(1&o&&(e.TgZ(0,"mat-chip",30),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Oqu(t.descripcion)}}function Ee(o,r){if(1&o&&(e.TgZ(0,"td",26)(1,"div",27)(2,"div",28),e._uU(3),e.qZA()(),e.TgZ(4,"mat-chip-set",29),e.SjG(5,Ne,2,1,"mat-chip",31,e.x6l),e.qZA()()),2&o){const t=r.$implicit;e.xp6(3),e.lnq("[C ",t.columna_id,"] - [O ",t.orden,"] - ",t.descripcion,""),e.xp6(2),e.wJu(t.subtema)}}function Je(o,r){1&o&&(e.TgZ(0,"th",25),e._uU(1,"ESTATUS"),e.qZA())}function Me(o,r){1&o&&(e.TgZ(0,"div")(1,"button",33)(2,"mat-icon"),e._uU(3,"check"),e.qZA()()())}function Qe(o,r){1&o&&(e.TgZ(0,"div")(1,"button",34)(2,"mat-icon"),e._uU(3,"check"),e.qZA()()()),2&o&&(e.xp6(1),e.Q6J("disabled",!0))}function Re(o,r){if(1&o&&(e.TgZ(0,"td",26),e.YNc(1,Me,4,0,"div",32)(2,Qe,4,1,"div",32),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",1==t.estatus_id),e.xp6(1),e.Q6J("ngIf",2==t.estatus_id)}}function Pe(o,r){if(1&o&&(e.TgZ(0,"td",35),e._uU(1," --| Cargando Registros |-- "),e._UZ(2,"mat-progress-bar",24),e.qZA()),2&o){const t=e.oxw();e.uIk("colspan",t.displayedColumns.length)}}function Oe(o,r){if(1&o&&(e.TgZ(0,"td",35),e._uU(1," No se encontraron registros "),e.qZA()),2&o){const t=e.oxw();e.uIk("colspan",t.displayedColumns.length)}}function ze(o,r){1&o&&e._UZ(0,"tr",36)}const Fe=o=>({row:o});function Be(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr",37),e.NdJ("click",function(){const n=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.openDialogTema(n))}),e.qZA()}if(2&o){const t=r.$implicit;e.oxw();const a=e.MAs(36);e.Q6J("cdkContextMenuTriggerFor",a)("cdkContextMenuTriggerData",e.VKq(2,Fe,t))}}const B=o=>({hide:o});function Ye(o,r){if(1&o&&e._UZ(0,"tr",38),2&o){const t=e.oxw();e.Q6J("ngClass",e.VKq(1,B,!t.isLoadingResults))}}function Ge(o,r){if(1&o&&e._UZ(0,"tr",38),2&o){const t=e.oxw();e.Q6J("ngClass",e.VKq(1,B,!(null!=t.data&&0==t.data.length&&!t.isLoadingResults)))}}function Le(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",39)(1,"button",40),e.NdJ("click",function(){const n=e.CHM(t).row,s=e.oxw();return e.KtG(s.openDialogTema(n))}),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA(),e._uU(4,"\xa0EDITAR"),e.qZA(),e.TgZ(5,"button",40),e.NdJ("click",function(){const n=e.CHM(t).row,s=e.oxw();return e.KtG(s.eliminarTema(n))}),e.TgZ(6,"mat-icon"),e._uU(7,"delete"),e.qZA(),e._uU(8,"\xa0ELIMINAR"),e.qZA(),e.TgZ(9,"button",40),e.NdJ("click",function(){const n=e.CHM(t).row,s=e.oxw();return e.KtG(s.openDialogSubTema(n))}),e._UZ(10,"i",41),e._uU(11,"\xa0SUB TEMAS"),e.qZA()()}}const He=()=>["loadingResults"],je=()=>["noResultsFound"],Ke=()=>[25,50,100];let Y=(()=>{class o{constructor(t,a){this.temaService=t,this.dialog=a,this.pageSize=50,this.displayedColumns=["tema","estatus"],this.resultsLength=0}ngOnInit(){this.data=[],this.searchQuery="",setTimeout(()=>{this.applySearch()},10)}applySearch(){this.isLoadingResults=!0;let t={sort:this.sort.active,direction:this.sort.direction,page:this.paginator.pageIndex+1,per_page:this.paginator.pageSize,query:this.searchQuery};return this.data=[],this.temaService.obtenerTemas(t).subscribe({next:a=>{this.isLoadingResults=!1,this.resultsLength=a.data.total,this.data=a.data.data},error:a=>{this.alertPanel.showError(a.error.message),this.isLoadingResults=!1}})}cleanSearch(){this.searchQuery=""}openDialogTema(t){let a={maxWidth:"100%",width:"80%",height:"250px",disableClose:!0,data:{}};t&&(a.data.id=t.id,a.data.columna_id=t.columna_id,a.data.orden=t.orden,a.data.estatus_id=t.estatus_id,a.data.descripcion=t.descripcion),this.dialog.open(oe,a).afterClosed().subscribe(n=>{this.applySearch()})}openDialogSubTema(t){let a={maxWidth:"100%",width:"80%",height:"80%",disableClose:!0,data:{}};console.log("--\x3e",t),t&&(a.data.id=t.id,a.data.descripcion=t.descripcion,a.data.estatus_id=t.estatus_id,a.data.orden=t.orden,a.data.subtema=t.subtema),this.dialog.open(qe,a).afterClosed().subscribe(n=>{this.applySearch()})}eliminarRegistro(t){this.temaService.eliminarTema(t).subscribe({next:a=>{this.applySearch()},error:a=>{if("form_validation"==a.error.error_type){for(const i in a.error.data)Object.prototype.hasOwnProperty.call(a.error.data,i);this.alertPanel.showError(a.error.message)}else this.alertPanel.showError(a.error.message)}})}eliminarTema(t){this.dialog.open(k.N,{width:"500px",data:{title:"Eliminar Registro",message:"Esta seguro de eliminar este registro?",hasOKBtn:!0,btnColor:"warn",btnText:"Eliminar",btnIcon:"delete"}}).afterClosed().subscribe(n=>{n&&this.eliminarRegistro(t.id)})}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(R.$),e.Y36(_.uw))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-tema-subtema"]],viewQuery:function(a,i){if(1&a&&(e.Gf(U.NW,5),e.Gf(y.YE,5),e.Gf(b.G,5)),2&a){let n;e.iGM(n=e.CRH())&&(i.paginator=n.first),e.iGM(n=e.CRH())&&(i.sort=n.first),e.iGM(n=e.CRH())&&(i.alertPanel=n.first)}},decls:37,vars:16,consts:[[1,"flex-row","flex-gap","module-search-bar"],["appearance","fill",1,"flex-fill"],["matInput","","placeholder","Buscar tema","autocomplete","off",3,"ngModel","ngModelChange","keyup.escape","keyup.enter"],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","primary",3,"matTooltip","click"],["mode","query",4,"ngIf"],[1,"table-card","flex-fill"],[1,"flex-column",2,"height","100%"],[1,"main-list-table","left-click-open","flex-fill"],["mat-table","","matSort","","matSortActive","updated_at","matSortDirection","desc",3,"dataSource"],["matColumnDef","tema"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","estatus"],["matColumnDef","loadingResults"],["mat-footer-cell","","class","no-results-found",4,"matFooterCellDef"],["matColumnDef","noResultsFound"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"cdkContextMenuTriggerFor","cdkContextMenuTriggerData","click",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",3,"ngClass",4,"matFooterRowDef"],["showFirstLastButtons","","aria-label","Selecciona una p\xe1gina",3,"length","pageSize","pageSizeOptions"],["rowMenu",""],["matSuffix","","mat-icon-button","",3,"click"],["mode","query"],["mat-header-cell",""],["mat-cell",""],[2,"padding","5px"],[2,"font-weight","bold","font-size","12pt"],["cdkDropListOrientation","horizontal",1,"example-chip"],["cdkDrag","",1,"example-box"],["class","example-box","cdkDrag",""],[4,"ngIf"],["mat-mini-fab",""],["mat-mini-fab","",3,"disabled"],["mat-footer-cell","",1,"no-results-found"],["mat-header-row",""],["mat-row","",3,"cdkContextMenuTriggerFor","cdkContextMenuTriggerData","click"],["mat-footer-row","",3,"ngClass"],["cdkMenu","",1,"context-menu","mat-elevation-z2"],["cdkMenuItem","",1,"context-menu-item",3,"click"],[1,"uil","uil-subject",2,"font-size","17pt"]],template:function(a,i){1&a&&(e.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),e._uU(3,"Buscar"),e.qZA(),e.TgZ(4,"input",2),e.NdJ("ngModelChange",function(s){return i.searchQuery=s})("keyup.escape",function(){return i.cleanSearch()})("keyup.enter",function(){return i.applySearch()}),e.qZA(),e.YNc(5,Ue,3,2,"button",3),e.TgZ(6,"button",4),e.NdJ("click",function(){return i.applySearch()}),e.TgZ(7,"mat-icon"),e._uU(8,"search"),e.qZA()()(),e.TgZ(9,"button",5),e.NdJ("click",function(){return i.openDialogTema()}),e.TgZ(10,"mat-icon"),e._uU(11,"add"),e.qZA()()(),e.TgZ(12,"div"),e._UZ(13,"alert-panel"),e.YNc(14,ke,1,0,"mat-progress-bar",6),e.qZA(),e.TgZ(15,"mat-card",7)(16,"div",8)(17,"div",9)(18,"table",10),e.ynx(19,11),e.YNc(20,Ie,2,0,"th",12)(21,Ee,7,3,"td",13),e.BQk(),e.ynx(22,14),e.YNc(23,Je,2,0,"th",12)(24,Re,3,2,"td",13),e.BQk(),e.ynx(25,15),e.YNc(26,Pe,3,1,"td",16),e.BQk(),e.ynx(27,17),e.YNc(28,Oe,2,1,"td",16),e.BQk(),e.YNc(29,ze,1,0,"tr",18)(30,Be,1,4,"tr",19)(31,Ye,1,3,"tr",20)(32,Ge,1,3,"tr",20),e.qZA()(),e.TgZ(33,"div"),e._UZ(34,"mat-paginator",21),e.qZA()()(),e.YNc(35,Le,12,0,"ng-template",null,22,e.W1O)),2&a&&(e.xp6(4),e.Q6J("ngModel",i.searchQuery),e.xp6(1),e.Q6J("ngIf",i.searchQuery),e.xp6(4),e.Q6J("matTooltip","Nuevo Tema"),e.xp6(5),e.Q6J("ngIf",i.isLoadingPDF),e.xp6(4),e.Q6J("dataSource",i.data),e.xp6(11),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("matFooterRowDef",e.DdM(13,He)),e.xp6(1),e.Q6J("matFooterRowDef",e.DdM(14,je)),e.xp6(2),e.Q6J("length",i.resultsLength)("pageSize",i.pageSize)("pageSizeOptions",e.DdM(15,Ke)))},dependencies:[g.mk,g.O5,l.Fj,l.JJ,l.On,h.lW,h.RK,h.nh,v.Hw,S.Nt,d.KE,d.hX,d.R9,A.a8,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.mD,c.Ke,c.ge,c.ev,c.yh,c.XQ,c.Gk,c.Q2,U.NW,F.HS,F.J4,I.gM,T.qn,T.Sv,T.eu,w.pW,y.YE,b.G],styles:[".example-box.cdk-drag-animating[_ngcontent-%COMP%], .example-chip[_ngcontent-%COMP%]   .cdk-drop-list-dragging[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}"]})}return o})(),J=(()=>{class o{constructor(t,a){this.http=t,this.url_pagina=`${x.N.base_url}/pagina`,this.url_botones=`${x.N.base_url}/botones`,this.url_botones_hijos=`${x.N.base_url}/botones-hijos`,this.url_importar=`${x.N.base_url}/importar-cabecera`,this.url_del_imagen=`${x.N.base_url}/del-cabecera`,this.url_pagina_iframe=`${x.N.base_url}/iframe`,this.httpFile=new C.eN(a)}obtenerPaginas(t){return this.http.get(this.url_pagina,{params:t}).pipe((0,f.U)(a=>a))}getPagina(t,a){return this.http.get(this.url_pagina+"/"+t,{params:a}).pipe((0,f.U)(i=>i))}getButtons(t){return this.http.get(this.url_botones,{params:t}).pipe((0,f.U)(a=>a))}getButtonsHijos(t){return this.http.get(this.url_botones_hijos,{params:t}).pipe((0,f.U)(a=>a))}guardarPagina(t){return this.http.post(this.url_pagina,{params:t}).pipe((0,f.U)(a=>a))}guardarFrame(t){return this.http.post(this.url_pagina_iframe,{params:t}).pipe((0,f.U)(a=>a))}eliminarImage(t){return this.http.delete(this.url_del_imagen+"/"+t,{}).pipe((0,f.U)(a=>a))}ImportarFile(t,a){const i=new FormData;i.append("archivo",t,t.name),i.append("id",a),localStorage.getItem("token");let s=(new C.WM).set("Authorization","Bearer "+localStorage.getItem("token"));return s.append("Content-Type","application/x-www-form-urlencoded;charset=UTF-8"),s.append("Access-Control-Allow-Origin","*"),this.httpFile.post(this.url_importar,i,{headers:s})}static#e=this.\u0275fac=function(a){return new(a||o)(e.LFG(C.eN),e.LFG(C.jN))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Xe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cleanSearch())}),e.TgZ(1,"mat-icon"),e._uU(2,"close"),e.qZA()()}2&o&&e.uIk("aria-label","Clean Query")("aria-pressed","cleanQuery")}function $e(o,r){1&o&&e._UZ(0,"mat-progress-bar",24)}function Ve(o,r){1&o&&(e.TgZ(0,"th",25),e._uU(1,"DESCRIPCION"),e.qZA())}function We(o,r){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.subtema.enlace)}}function et(o,r){if(1&o&&(e.TgZ(0,"td",26)(1,"div",27)(2,"div"),e._uU(3),e.qZA(),e.YNc(4,We,2,1,"div",28),e.qZA()()),2&o){const t=r.$implicit;e.xp6(3),e.Oqu(t.descripcion),e.xp6(1),e.Q6J("ngIf",t.subtema)}}function tt(o,r){1&o&&(e.TgZ(0,"th",25),e._uU(1,"IMAGEN"),e.qZA())}function ot(o,r){1&o&&(e.TgZ(0,"div"),e._uU(1," SI "),e.qZA())}function at(o,r){1&o&&(e.TgZ(0,"div"),e._uU(1," NO "),e.qZA())}function it(o,r){if(1&o&&(e.TgZ(0,"td",26),e.YNc(1,ot,2,0,"div",28)(2,at,2,0,"div",28),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",1==t.imagen),e.xp6(1),e.Q6J("ngIf",1!=t.imagen)}}function nt(o,r){1&o&&(e.TgZ(0,"th",25),e._uU(1,"IFRAME"),e.qZA())}function rt(o,r){if(1&o&&(e.TgZ(0,"div")(1,"div"),e._uU(2,"SI"),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(4),e.Oqu(t.iframe)}}function st(o,r){1&o&&(e.TgZ(0,"div"),e._uU(1," NO "),e.qZA())}function lt(o,r){if(1&o&&(e.TgZ(0,"td",26),e.YNc(1,rt,5,1,"div",28)(2,st,2,0,"div",28),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",1==t.iframe_booleand),e.xp6(1),e.Q6J("ngIf",1!=t.iframe_booleand)}}function ct(o,r){if(1&o&&(e.TgZ(0,"td",29),e._uU(1," --| Cargando Registros |-- "),e._UZ(2,"mat-progress-bar",24),e.qZA()),2&o){const t=e.oxw();e.uIk("colspan",t.displayedColumns.length)}}function mt(o,r){if(1&o&&(e.TgZ(0,"td",29),e._uU(1," No se encontraron registros "),e.qZA()),2&o){const t=e.oxw();e.uIk("colspan",t.displayedColumns.length)}}function ut(o,r){1&o&&e._UZ(0,"tr",30)}const dt=o=>({row:o});function pt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr",31),e.NdJ("click",function(){const n=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.openDialog(n))}),e.qZA()}if(2&o){const t=r.$implicit;e.oxw();const a=e.MAs(36);e.Q6J("cdkContextMenuTriggerFor",a)("cdkContextMenuTriggerData",e.VKq(2,dt,t))}}const G=o=>({hide:o});function gt(o,r){if(1&o&&e._UZ(0,"tr",32),2&o){const t=e.oxw();e.Q6J("ngClass",e.VKq(1,G,!t.isLoadingResults))}}function ft(o,r){if(1&o&&e._UZ(0,"tr",32),2&o){const t=e.oxw();e.Q6J("ngClass",e.VKq(1,G,!(null!=t.data&&0==t.data.length&&!t.isLoadingResults)))}}function _t(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",33)(1,"button",34),e.NdJ("click",function(){const n=e.CHM(t).row,s=e.oxw();return e.KtG(s.edicion(n))}),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA(),e._uU(4,"\xa0EDITAR"),e.qZA()()}}const ht=()=>["loadingResults"],bt=()=>["noResultsFound"],Tt=()=>[25,50,100];let xt=(()=>{class o{constructor(t,a,i){this.paginaService=t,this.dialog=a,this.router=i,this.pageSize=50,this.displayedColumns=["pagina","imagen","iframe"],this.resultsLength=0}ngOnInit(){this.data=[],this.searchQuery="",setTimeout(()=>{this.applySearch()},10)}applySearch(){this.isLoadingResults=!0;let t={sort:this.sort.active,direction:this.sort.direction,page:this.paginator.pageIndex+1,per_page:this.paginator.pageSize,query:this.searchQuery};return this.data=[],this.paginaService.obtenerPaginas(t).subscribe({next:a=>{this.isLoadingResults=!1,this.resultsLength=a.data.total,this.data=a.data.data},error:a=>{this.alertPanel.showError(a.error.message),this.isLoadingResults=!1}})}edicion(t){console.log(this.router.url),this.router.navigate([this.router.url,t.id])}cleanSearch(){this.searchQuery=""}openDialog(t){}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(J),e.Y36(_.uw),e.Y36(D.F0))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-pagina"]],viewQuery:function(a,i){if(1&a&&(e.Gf(U.NW,5),e.Gf(y.YE,5),e.Gf(b.G,5)),2&a){let n;e.iGM(n=e.CRH())&&(i.paginator=n.first),e.iGM(n=e.CRH())&&(i.sort=n.first),e.iGM(n=e.CRH())&&(i.alertPanel=n.first)}},decls:37,vars:15,consts:[[1,"flex-row","flex-gap","module-search-bar"],["appearance","fill",1,"flex-fill"],["matInput","","placeholder","Buscar tema","autocomplete","off",3,"ngModel","ngModelChange","keyup.escape","keyup.enter"],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","","matSuffix","",3,"click"],["mode","query",4,"ngIf"],[1,"table-card","flex-fill"],[1,"flex-column",2,"height","100%"],[1,"main-list-table","left-click-open","flex-fill"],["mat-table","","matSort","","matSortActive","updated_at","matSortDirection","desc",3,"dataSource"],["matColumnDef","pagina"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","imagen"],["matColumnDef","iframe"],["matColumnDef","loadingResults"],["mat-footer-cell","","class","no-results-found",4,"matFooterCellDef"],["matColumnDef","noResultsFound"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"cdkContextMenuTriggerFor","cdkContextMenuTriggerData","click",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",3,"ngClass",4,"matFooterRowDef"],["showFirstLastButtons","","aria-label","Selecciona una p\xe1gina",3,"length","pageSize","pageSizeOptions"],["rowMenu",""],["matSuffix","","mat-icon-button","",3,"click"],["mode","query"],["mat-header-cell",""],["mat-cell",""],[2,"padding","5px"],[4,"ngIf"],["mat-footer-cell","",1,"no-results-found"],["mat-header-row",""],["mat-row","",3,"cdkContextMenuTriggerFor","cdkContextMenuTriggerData","click"],["mat-footer-row","",3,"ngClass"],["cdkMenu","",1,"context-menu","mat-elevation-z2"],["cdkMenuItem","",1,"context-menu-item",3,"click"]],template:function(a,i){1&a&&(e.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),e._uU(3,"Buscar"),e.qZA(),e.TgZ(4,"input",2),e.NdJ("ngModelChange",function(s){return i.searchQuery=s})("keyup.escape",function(){return i.cleanSearch()})("keyup.enter",function(){return i.applySearch()}),e.qZA(),e.YNc(5,Xe,3,2,"button",3),e.TgZ(6,"button",4),e.NdJ("click",function(){return i.applySearch()}),e.TgZ(7,"mat-icon"),e._uU(8,"search"),e.qZA()()()(),e.TgZ(9,"div"),e._UZ(10,"alert-panel"),e.YNc(11,$e,1,0,"mat-progress-bar",5),e.qZA(),e.TgZ(12,"mat-card",6)(13,"div",7)(14,"div",8)(15,"table",9),e.ynx(16,10),e.YNc(17,Ve,2,0,"th",11)(18,et,5,2,"td",12),e.BQk(),e.ynx(19,13),e.YNc(20,tt,2,0,"th",11)(21,it,3,2,"td",12),e.BQk(),e.ynx(22,14),e.YNc(23,nt,2,0,"th",11)(24,lt,3,2,"td",12),e.BQk(),e.ynx(25,15),e.YNc(26,ct,3,1,"td",16),e.BQk(),e.ynx(27,17),e.YNc(28,mt,2,1,"td",16),e.BQk(),e.YNc(29,ut,1,0,"tr",18)(30,pt,1,4,"tr",19)(31,gt,1,3,"tr",20)(32,ft,1,3,"tr",20),e.qZA()(),e.TgZ(33,"div"),e._UZ(34,"mat-paginator",21),e.qZA()()(),e.YNc(35,_t,5,0,"ng-template",null,22,e.W1O)),2&a&&(e.xp6(4),e.Q6J("ngModel",i.searchQuery),e.xp6(1),e.Q6J("ngIf",i.searchQuery),e.xp6(6),e.Q6J("ngIf",i.isLoadingPDF),e.xp6(4),e.Q6J("dataSource",i.data),e.xp6(14),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("matFooterRowDef",e.DdM(12,ht)),e.xp6(1),e.Q6J("matFooterRowDef",e.DdM(13,bt)),e.xp6(2),e.Q6J("length",i.resultsLength)("pageSize",i.pageSize)("pageSizeOptions",e.DdM(14,Tt)))},dependencies:[g.mk,g.O5,l.Fj,l.JJ,l.On,h.RK,v.Hw,S.Nt,d.KE,d.hX,d.R9,A.a8,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.mD,c.Ke,c.ge,c.ev,c.yh,c.XQ,c.Gk,c.Q2,U.NW,T.qn,T.Sv,T.eu,w.pW,y.YE,b.G]})}return o})();var Ct=m(5619);let M=(()=>{class o{constructor(t,a){this.http=t,this.change$=new Ct.X(null),this.url_pagina_boton=`${x.N.base_url}/pagina-boton`,this.httpFile=new C.eN(a)}obtenerPaginasBotones(t){return this.http.get(this.url_pagina_boton,{params:t}).pipe((0,f.U)(a=>a))}guardarPaginaBoton(t){return this.http.post(this.url_pagina_boton,{params:t}).pipe((0,f.U)(a=>a))}eliminarPaginaBoton(t){return this.http.delete(this.url_pagina_boton+"/"+t,{}).pipe((0,f.U)(a=>a))}static#e=this.\u0275fac=function(a){return new(a||o)(e.LFG(C.eN),e.LFG(C.jN))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var L=m(1216);function Zt(o,r){1&o&&(e.TgZ(0,"div",21)(1,"mat-icon"),e._uU(2,"phone_iphone"),e.qZA()())}function vt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.resizeDialog())}),e.TgZ(1,"mat-icon"),e._uU(2),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("matTooltip",t.dialogMaxSize?"Restaurar":"Maximizar")("matTooltipPosition","left"),e.xp6(2),e.Oqu(t.dialogMaxSize?"fit_screen":"fullscreen")}}function St(o,r){if(1&o&&e._UZ(0,"mat-progress-bar",23),2&o){const t=e.oxw();e.Q6J("mode",t.isSaving?"indeterminate":"query")("color",t.isSaving?"accent":"primary")}}function At(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"El Texto es obligatorio"),e.qZA())}function wt(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"La Descripcion es obligatorio"),e.qZA())}let Dt=(()=>{class o{constructor(t,a,i,n,s){this.dialogRef=t,this.formBuilder=a,this.breakpointObserver=i,this.inData=n,this.paginaBotonService=s,this.destroyed=new N.x,this.displayNameMap=new Map([[u.u3.XSmall,"xs"],[u.u3.Small,"sm"],[u.u3.Medium,"md"],[u.u3.Large,"lg"],[u.u3.XLarge,"xl"]]),i.observe([u.u3.XSmall,u.u3.Small,u.u3.Medium,u.u3.Large,u.u3.XLarge]).pipe((0,E.R)(this.destroyed)).subscribe(p=>{for(const Z of Object.keys(p.breakpoints))p.breakpoints[Z]&&(this.currentScreenSize=this.displayNameMap.get(Z)??"Unknown")})}ngOnInit(){this.form=this.formBuilder.group({id:[""],page:[""],tipo:[""],icon_imagen:[""],texto_boton:["",l.kI.required],descripcion:["",l.kI.required],enlace:["",l.kI.required],pagina_boton_padre:[""]}),this.inData.id&&this.form.patchValue(this.inData),this.inData.pagina_boton_padre&&this.form.patchValue({pagina_boton_padre:this.inData.pagina_boton_padre}),console.log(this.inData)}ngAfterViewInit(){("sm"==this.currentScreenSize||"xs"==this.currentScreenSize)&&this.resizeDialog()}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}guardar(){this.form.patchValue({page:this.inData.page,tipo:this.inData.tipo_boton}),this.paginaBotonService.guardarPaginaBoton(this.form.value).subscribe({next:t=>{this.cerrar()},error:t=>{if("form_validation"==t.error.error_type){for(const a in t.error.data)Object.prototype.hasOwnProperty.call(t.error.data,a);this.alertPanel.showError(t.error.message)}else this.alertPanel.showError(t.error.message);this.isSaving=!1}})}cancelarAccion(){this.cerrar()}cerrar(){this.dialogRef.close(this.savedData)}resizeDialog(){this.dialogMaxSize?(this.dialogRef.updateSize("80%","60%"),this.dialogMaxSize=!1):(this.dialogRef.updateSize("100%","100%"),this.dialogMaxSize=!0)}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(_.so),e.Y36(l.qu),e.Y36(u.Yg),e.Y36(_.WI),e.Y36(M))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-botones-edit"]],viewQuery:function(a,i){if(1&a&&e.Gf(b.G,5),2&a){let n;e.iGM(n=e.CRH())&&(i.alertPanel=n.first)}},standalone:!0,features:[e.jDz],decls:42,vars:8,consts:[[1,"flex-column",2,"height","100%","overflow","hidden","flex","1 1 0%",3,"keydown.escape"],[1,"dialog-toolbar"],[1,"flex-row"],[1,"label-info"],["mat-button","",3,"disabled","click"],[1,"hide-xs"],[1,"flex-fill"],["class","label-info screen-size-icon",4,"ngIf"],["mat-button","","class","boton-accion","tabindex","-1",3,"matTooltip","matTooltipPosition","click",4,"ngIf"],["mat-button","","tabindex","-1",1,"boton-accion","boton-cerrar",3,"click"],[3,"mode","color",4,"ngIf"],[1,"flex-fill","flex-column",2,"padding","8px","overflow","auto",3,"formGroup"],[1,"flex-fill","flex-column","flex-gap"],[1,"flex-column","flex-gap","xs-max-height-user-form",2,"padding","8px"],[1,"flex-row","flex-xs-column","flex-fill","flex-gap"],["appearance","fill",1,"flex-fill"],["type","text","matInput","","autocomplete","off","formControlName","icon_imagen","placeholder","ICON","required","","cdkFocusInitial",""],["type","text","matInput","","autocomplete","off","formControlName","texto_boton","placeholder","TEXTO","required",""],[4,"ngIf"],["type","text","matInput","","autocomplete","off","formControlName","descripcion","placeholder","TEXTO","required",""],["type","text","matInput","","autocomplete","off","formControlName","enlace","placeholder","ENLACE","required",""],[1,"label-info","screen-size-icon"],["mat-button","","tabindex","-1",1,"boton-accion",3,"matTooltip","matTooltipPosition","click"],[3,"mode","color"]],template:function(a,i){1&a&&(e.TgZ(0,"section",0),e.NdJ("keydown.escape",function(){return i.cancelarAccion()},!1,e.evT),e.TgZ(1,"section",1)(2,"div",2)(3,"div",3)(4,"mat-icon"),e._uU(5,"radio_button_checked"),e.qZA(),e._uU(6," BOTONES "),e.qZA(),e.TgZ(7,"button",4),e.NdJ("click",function(){return i.guardar()}),e.TgZ(8,"mat-icon"),e._uU(9),e.qZA(),e.TgZ(10,"span",5),e._uU(11,"\xa0Guardar"),e.qZA()(),e._UZ(12,"div",6),e.YNc(13,Zt,3,0,"div",7)(14,vt,3,3,"button",8),e.TgZ(15,"button",9),e.NdJ("click",function(){return i.cerrar()}),e.TgZ(16,"mat-icon"),e._uU(17,"close"),e.qZA()()()(),e.YNc(18,St,1,2,"mat-progress-bar",10),e.TgZ(19,"section",11)(20,"div",12)(21,"mat-card",13)(22,"div",14)(23,"mat-form-field",15)(24,"mat-label"),e._uU(25,"ICON: "),e.qZA(),e._UZ(26,"input",16),e.qZA(),e.TgZ(27,"mat-form-field",15)(28,"mat-label"),e._uU(29,"TEXTO: "),e.qZA(),e._UZ(30,"input",17),e.YNc(31,At,2,0,"mat-error",18),e.qZA(),e.TgZ(32,"mat-form-field",15)(33,"mat-label"),e._uU(34,"DESCRIPCI\xd2N: "),e.qZA(),e._UZ(35,"input",19),e.YNc(36,wt,2,0,"mat-error",18),e.qZA()(),e.TgZ(37,"div",14)(38,"mat-form-field",15)(39,"mat-label"),e._uU(40,"ENLACE: "),e.qZA(),e._UZ(41,"input",20),e.qZA()()()()()()),2&a&&(e.xp6(7),e.Q6J("disabled",i.isLoading||i.isSaving||!i.form.valid),e.xp6(2),e.Oqu(i.changesDetected?"save_as":"save"),e.xp6(4),e.Q6J("ngIf","xs"==i.currentScreenSize||"sm"==i.currentScreenSize),e.xp6(1),e.Q6J("ngIf","xs"!=i.currentScreenSize&&"sm"!=i.currentScreenSize),e.xp6(4),e.Q6J("ngIf",i.isLoading||i.isSaving),e.xp6(1),e.Q6J("formGroup",i.form),e.xp6(12),e.Q6J("ngIf",i.form.get("texto_boton").hasError("required")),e.xp6(5),e.Q6J("ngIf",i.form.get("descripcion").hasError("required")))},dependencies:[g.ez,g.O5,L.q,h.lW,v.Hw,S.Nt,d.KE,d.hX,d.TO,A.a8,I.gM,w.pW,l.UX,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u]})}return o})();var H=m(9038);function yt(o,r){if(1&o&&(e.TgZ(0,"mat-list-option",10),e._UZ(1,"i"),e._uU(2),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.Gre("'uil uil-",t.icon_imagen,""),e.xp6(1),e.hij(" ",t.texto_boton," ")}}function qt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",7)(1,"div")(2,"mat-selection-list",8,9),e.NdJ("selectionChange",function(){e.CHM(t);const i=e.MAs(3),n=e.oxw();return e.KtG(n.verificarId(i.selectedOptions.selected[0].value))}),e.SjG(4,yt,3,5,"mat-list-option",11,e.x6l),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("multiple",!1),e.xp6(2),e.wJu(t.arreglo)}}function Ut(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"mat-progress-bar",12),e.qZA())}let j=(()=>{class o{constructor(t,a,i){this.dialog=t,this.paginaBotonService=a,this.paginaService=i,this.padre_id=0,this.messageEvent=new e.vpe,this.arreglo=[],this.loading=!1}ngOnInit(){this.obtenerDatos(),this.subscription=this.paginaBotonService.change$.subscribe(t=>this.obtenerPadre(t))}ngOnDestroy(){this.subscription.unsubscribe()}obtenerPadre(t){3==this.tipo_boton&&t?(this.padre_id=t,this.paginaService.getButtonsHijos({id:t}).subscribe({next:a=>{this.arreglo=a.data},error:a=>{}})):3==this.tipo_boton&&(this.arreglo=[],this.padre_id=0)}verificarId(t){this.obj_seleccionado=t,this.sendId()}sendId(){this.messageEvent.emit(this.obj_seleccionado?this.obj_seleccionado.id:0)}obtenerDatos(){this.loading=!0,this.paginaService.getButtons({id:this.page}).subscribe({next:t=>{1==this.tipo_boton?this.arreglo=t.data:2==this.tipo_boton&&(this.arreglo=t.data_primario),this.loading=!1},error:t=>{this.loading=!1}})}addBoton(t){let a={maxWidth:"100%",width:"80%",height:"250px",disableClose:!0,data:{}};a.data.page=this.page,a.data.tipo_boton=this.tipo_boton,2==t&&(a.data.tipo=this.obj_seleccionado.tipo,a.data.id=this.obj_seleccionado.id,a.data.icon_imagen=this.obj_seleccionado.icon_imagen,a.data.texto_boton=this.obj_seleccionado.texto_boton,a.data.descripcion=this.obj_seleccionado.descripcion,a.data.enlace=this.obj_seleccionado.enlace,a.data.pagina_boton_padre=this.padre_id),this.padre_id&&(a.data.pagina_boton_padre=this.padre_id),this.dialog.open(Dt,a).afterClosed().subscribe(n=>{this.obtenerDatos(),2==this.tipo_boton&&(this.padre_id=0,this.obj_seleccionado={},this.messageEvent.emit(0)),this.obtenerPadre(this.padre_id)})}delBoton(){this.dialog.open(k.N,{width:"500px",data:{title:"Eliminar Registro",message:"Esta seguro de eliminar este registro?",hasOKBtn:!0,btnColor:"warn",btnText:"Eliminar",btnIcon:"delete"}}).afterClosed().subscribe(a=>{a&&this.paginaBotonService.eliminarPaginaBoton(this.obj_seleccionado.id).subscribe({next:i=>{this.obtenerDatos(),this.obtenerPadre(this.padre_id)},error:i=>{}})})}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(_.uw),e.Y36(M),e.Y36(J))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-botones"]],inputs:{botones:"botones",tipo_boton:"tipo_boton",page:"page",padre_id:"padre_id",texto_cabecera:"texto_cabecera"},outputs:{messageEvent:"messageEvent"},standalone:!0,features:[e.jDz],decls:16,vars:6,consts:[[1,"caja"],[1,"texto_cabecera"],[1,"botones-configuracion"],["mat-fab","","color","primary",3,"disabled","click"],["mat-fab","","color","accent",3,"disabled","click"],["class","columna",4,"ngIf"],[4,"ngIf"],[1,"columna"],[3,"multiple","selectionChange"],["btn",""],[1,"lista",3,"value"],["class","lista",3,"value"],["mode","indeterminate"]],template:function(a,i){1&a&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1),e._uU(3),e.qZA(),e.TgZ(4,"div",2)(5,"button",3),e.NdJ("click",function(){return i.addBoton(1)}),e.TgZ(6,"mat-icon"),e._uU(7,"add"),e.qZA()(),e.TgZ(8,"button",3),e.NdJ("click",function(){return i.addBoton(2)}),e.TgZ(9,"mat-icon"),e._uU(10,"edit"),e.qZA()(),e.TgZ(11,"button",4),e.NdJ("click",function(){return i.delBoton()}),e.TgZ(12,"mat-icon"),e._uU(13,"delete"),e.qZA()()(),e.YNc(14,qt,6,1,"div",5)(15,Ut,2,0,"div",6),e.qZA()()),2&a&&(e.xp6(3),e.hij(" ",i.texto_cabecera," "),e.xp6(2),e.Q6J("disabled",3==i.tipo_boton&&0==i.padre_id),e.xp6(3),e.Q6J("disabled",!i.obj_seleccionado),e.xp6(3),e.Q6J("disabled",!i.obj_seleccionado),e.xp6(3),e.Q6J("ngIf",!i.loading),e.xp6(1),e.Q6J("ngIf",i.loading))},dependencies:[g.ez,g.O5,L.q,h.cs,v.Hw,H.Ub,H.vS,w.pW],styles:[".caja[_ngcontent-%COMP%]{border:1px dotted #CCCCCC;min-height:300px;font-size:10pt}.botones-configuracion[_ngcontent-%COMP%]{display:flex;justify-content:end;margin:10px}.botones-configuracion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 2px}.texto_cabecera[_ngcontent-%COMP%]{padding:10pt;background-color:#c8c8c880;color:#000;font-weight:700}.lista[_ngcontent-%COMP%]{text-align:left}"]})}return o})();function kt(o,r){1&o&&(e.TgZ(0,"div"),e._uU(1,"IMAGEN"),e.qZA())}function It(o,r){if(1&o&&e._UZ(0,"img",26),2&o){const t=e.oxw();e.s9C("src",t.url_imagen,e.LSH)}}function Nt(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es obligatorio"),e.qZA())}function Et(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es obligatorio"),e.qZA())}const Jt=[{path:"",component:Y},{path:"temas",component:Y},{path:"paginas",component:xt},{path:"paginas/:id",component:(()=>{class o{constructor(t,a,i,n,s){this.formBuilder=t,this.paginaService=a,this.route=i,this.paginaBotonService=n,this.dialog=s,this.fileChangedEvent="",this.archivo=null,this.url_imagen=""}ngOnInit(){this.form=this.formBuilder.group({id:["",l.kI.required],iframe:["",l.kI.required],descripcion:["",l.kI.required]}),this.route.paramMap.subscribe(t=>{t.get("id")&&(this.id_pagina=t.get("id"),this.form.patchValue({id:this.id_pagina}),this.cargarData())})}cargarData(){this.paginaService.getPagina(this.id_pagina,{}).subscribe({next:t=>{console.log(t);let{data:a}=t,{imagen:i}=t;this.form.patchValue({iframe:a.iframe,descripcion:a.descripcion}),1==a.imagen&&(this.url_imagen="data:image/jpeg;base64,"+i)},error:t=>{}})}receiveId(t){this.sendIdPadre(t)}sendIdPadre(t){this.paginaBotonService.change$.next(t)}onFileSelected(t){if(this.fileChangedEvent=t,this.fileChangedEvent.target||this.fileChangedEvent.target.files.length||this.fileChangedEvent.target.files[0]){let a=this.fileChangedEvent.target.files[0];if(this.url_imagen=this.fileChangedEvent.target.srcResult,"image/png"==a.type||"image/gif"==a.type||"image/jpeg"==a.type){this.archivo=t.target.files[0];const n=new FileReader;n.onload=s=>this.url_imagen=n.result,n.readAsDataURL(a)}}}GuardarArchivo(){this.paginaService.ImportarFile(this.archivo,this.id_pagina).subscribe({next:t=>{},error:t=>{}})}EliminarArchivo(){this.dialog.open(k.N,{width:"500px",data:{title:"Eliminar Registro",message:"Esta seguro de eliminar este registro?",hasOKBtn:!0,btnColor:"warn",btnText:"Eliminar",btnIcon:"delete"}}).afterClosed().subscribe(a=>{a&&this.paginaService.eliminarImage(this.id_pagina).subscribe({next:i=>{this.url_imagen=""},error:i=>{}})})}guardaFrame(){this.paginaService.guardarFrame(this.form.value).subscribe({next:t=>{},error:t=>{}})}static#e=this.\u0275fac=function(a){return new(a||o)(e.Y36(l.qu),e.Y36(J),e.Y36(D.gz),e.Y36(M),e.Y36(_.uw))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-pagina-edit"]],decls:49,vars:20,consts:[[1,"principal"],[1,"bloque-central-informacion"],[1,"informacion_default","separacion"],[1,"texto_cabecera"],[1,"img_demo"],[4,"ngIf"],["height","200px",3,"src",4,"ngIf"],[2,"margin","10px"],["type","button","mat-raised-button","",2,"margin-right","10px",3,"click"],["hidden","","type","file","id","file","accept","image/png, image/gif, image/jpeg",3,"change"],["fileInput",""],["mat-stroked-button","","color","warn",2,"margin-right","10px",3,"disabled","click"],["mat-stroked-button","","color","primary",3,"disabled","click"],[1,"informacion_default"],[1,"botones"],[3,"botones","tipo_boton","page","texto_cabecera"],[3,"botones","tipo_boton","page","texto_cabecera","messageEvent"],[1,"informacion_default",3,"formGroup"],[1,"flex-fill","flex-column",2,"padding","8px","overflow","auto","width","100%"],[1,"flex-fill","flex-column","flex-gap"],[1,"flex-column","flex-gap","xs-max-height-user-form"],[1,"flex-row","flex-xs-column","flex-fill","flex-gap"],["appearance","fill",1,"flex-fill"],["type","text","matInput","","autocomplete","off","formControlName","descripcion","placeholder","DESCRIPCION","required","","cdkFocusInitial",""],["type","text","matInput","","autocomplete","off","formControlName","iframe","placeholder","IFRAME","required",""],["mat-stroked-button","","color","primary",2,"padding","30px",3,"disabled","click"],["height","200px",3,"src"]],template:function(a,i){if(1&a){const n=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4," IMAGEN DE CABECERA "),e.qZA(),e.TgZ(5,"div",4),e.YNc(6,kt,2,0,"div",5)(7,It,1,1,"img",6),e.qZA(),e.TgZ(8,"div",7)(9,"button",8),e.NdJ("click",function(){e.CHM(n);const p=e.MAs(12);return e.KtG(p.click())}),e._uU(10,"ELEGIR IMAGEN"),e.qZA(),e.TgZ(11,"input",9,10),e.NdJ("change",function(p){return i.onFileSelected(p)}),e.qZA(),e.TgZ(13,"button",11),e.NdJ("click",function(){return i.EliminarArchivo()}),e.TgZ(14,"mat-icon"),e._uU(15,"delete"),e.qZA(),e.TgZ(16,"div"),e._uU(17,"ELIMINAR"),e.qZA()(),e.TgZ(18,"button",12),e.NdJ("click",function(){return i.GuardarArchivo()}),e.TgZ(19,"mat-icon"),e._uU(20,"save"),e.qZA(),e.TgZ(21,"div"),e._uU(22,"GUARDAR"),e.qZA()()()(),e.TgZ(23,"div",13)(24,"div",14),e._UZ(25,"app-botones",15),e.TgZ(26,"app-botones",16),e.NdJ("messageEvent",function(p){return i.receiveId(p)}),e.qZA(),e._UZ(27,"app-botones",15),e.qZA()(),e.TgZ(28,"div",17)(29,"section",18)(30,"div",19)(31,"mat-card",20)(32,"div",21)(33,"mat-form-field",22)(34,"mat-label"),e._uU(35,"DESCRIPCION: "),e.qZA(),e._UZ(36,"input",23),e.YNc(37,Nt,2,0,"mat-error",5),e.qZA()(),e.TgZ(38,"div",21)(39,"mat-form-field",22)(40,"mat-label"),e._uU(41,"IFRAME: "),e.qZA(),e._UZ(42,"input",24),e.YNc(43,Et,2,0,"mat-error",5),e.qZA(),e.TgZ(44,"button",25),e.NdJ("click",function(){return i.guardaFrame()}),e.TgZ(45,"mat-icon"),e._uU(46,"save"),e.qZA(),e.TgZ(47,"div"),e._uU(48,"GUARDAR"),e.qZA()()()()()()()()()}2&a&&(e.xp6(6),e.Q6J("ngIf",""==i.url_imagen),e.xp6(1),e.Q6J("ngIf",""!=i.url_imagen),e.xp6(6),e.Q6J("disabled",""==i.url_imagen),e.xp6(5),e.Q6J("disabled",!i.archivo||""!=i.url_imagen),e.xp6(7),e.Q6J("botones",i.botonesInicial)("tipo_boton",1)("page",i.id_pagina)("texto_cabecera","BOTONES INICIALES"),e.xp6(1),e.Q6J("botones",i.botonesPrimarios)("tipo_boton",2)("page",i.id_pagina)("texto_cabecera","BOTONES PRIMARIOS"),e.xp6(1),e.Q6J("botones",i.botonesSecundarios)("tipo_boton",3)("page",i.id_pagina)("texto_cabecera","BOTONES SECUNDARIOS"),e.xp6(1),e.Q6J("formGroup",i.form),e.xp6(9),e.Q6J("ngIf",i.form.get("descripcion").hasError("required")),e.xp6(6),e.Q6J("ngIf",i.form.get("iframe").hasError("required")),e.xp6(1),e.Q6J("disabled",!i.form.valid))},dependencies:[g.O5,l.Fj,l.JJ,l.JL,l.Q7,h.lW,v.Hw,S.Nt,d.KE,d.hX,d.TO,A.a8,l.sg,l.u,j],styles:[".principal[_ngcontent-%COMP%]{width:100vw;display:flex;justify-content:center;flex-direction:column;align-items:center;align-content:center}.informacion_default[_ngcontent-%COMP%]{width:100%;text-align:center}.img_demo[_ngcontent-%COMP%]{width:100%;border:3px dotted #CCCCCC;height:200px;text-align:center;color:#ccc;display:flex;justify-content:center;flex-direction:column;align-content:center}.botones[_ngcontent-%COMP%]{column-count:3}.texto_cabecera[_ngcontent-%COMP%]{padding:10pt;background-color:#c8c8c880;color:#000;font-weight:700}.separacion[_ngcontent-%COMP%]{margin-bottom:30px}"]})}return o})()},{path:"**",redirectTo:""}];let Mt=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=e.oAB({type:o});static#o=this.\u0275inj=e.cJS({imports:[D.Bz.forChild(Jt),D.Bz]})}return o})();var Qt=m(6208);let Rt=(()=>{class o{static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275mod=e.oAB({type:o});static#o=this.\u0275inj=e.cJS({imports:[g.ez,Qt.m,D.Bz,j,Mt]})}return o})()}}]);