"use strict";(self.webpackChunkbase_platform=self.webpackChunkbase_platform||[]).push([[20],{7020:(Pe,Q,m)=>{m.r(Q),m.d(Q,{IndiceModule:()=>Re});var g=m(6814),D=m(1896),U=m(1476),y=m(3566),b=m(5499),k=m(9107),l=m(6223),_=m(7700),u=m(1088),N=m(8645),E=m(9773),t=m(9212),R=m(7425),h=m(2296),v=m(617),S=m(2032),d=m(9157),A=m(5195),P=m(8525),O=m(3680),I=m(2596),w=m(6007);function K(o,r){1&o&&(t.TgZ(0,"div",23)(1,"mat-icon"),t._uU(2,"phone_iphone"),t.qZA()())}function X(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.resizeDialog())}),t.TgZ(1,"mat-icon"),t._uU(2),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("matTooltip",e.dialogMaxSize?"Restaurar":"Maximizar")("matTooltipPosition","left"),t.xp6(2),t.Oqu(e.dialogMaxSize?"fit_screen":"fullscreen")}}function $(o,r){if(1&o&&t._UZ(0,"mat-progress-bar",25),2&o){const e=t.oxw();t.Q6J("mode",e.isSaving||e.isSendingEmail?"indeterminate":"query")("color",e.isSaving||e.isSendingEmail?"accent":"primary")}}function V(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es obligatorio"),t.qZA())}function W(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"El Nombre de Usuario es obligatorio"),t.qZA())}function tt(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"El Nombre de Usuario es obligatorio"),t.qZA())}function et(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"El Correo Electr\xf3nico es obligatorio"),t.qZA())}let ot=(()=>{class o{constructor(e,a,i,n,s,p){this.dialogRef=e,this.inData=a,this.formBuilder=i,this.temaService=n,this.breakpointObserver=s,this.dialog=p,this.destroyed=new N.x,this.displayNameMap=new Map([[u.u3.XSmall,"xs"],[u.u3.Small,"sm"],[u.u3.Medium,"md"],[u.u3.Large,"lg"],[u.u3.XLarge,"xl"]]),s.observe([u.u3.XSmall,u.u3.Small,u.u3.Medium,u.u3.Large,u.u3.XLarge]).pipe((0,E.R)(this.destroyed)).subscribe(Z=>{for(const q of Object.keys(Z.breakpoints))Z.breakpoints[q]&&(this.currentScreenSize=this.displayNameMap.get(q)??"Unknown")})}ngOnInit(){this.savedData=!1,this.isLoading=!1,this.form=this.formBuilder.group({id:[""],columna_id:[1,l.kI.required],descripcion:["",[l.kI.required]],orden:["",[l.kI.required]],estatus_id:[1,[l.kI.required]]}),console.log(this.inData),this.inData.columna_id&&this.form.patchValue({id:this.inData.id,columna_id:this.inData.columna_id,descripcion:this.inData.descripcion,orden:this.inData.orden,estatus_id:this.inData.estatus_id})}ngAfterViewInit(){("sm"==this.currentScreenSize||"xs"==this.currentScreenSize)&&(this.resizeDialog(),this.avatarRowCount="xs"==this.currentScreenSize?4:8)}guardar(){this.alertPanel.closePanel(),(this.form.valid||status)&&(this.isSaving=!0,this.temaService.guardarTema(this.form.value).subscribe({next:a=>{this.isSaving=!1,this.inData.id=a.data.id,this.alertPanel.showSuccess("Datos guardados con \xe9xito",3),this.savedData=!0},error:a=>{if("form_validation"==a.error.error_type){for(const i in a.error.data)if(Object.prototype.hasOwnProperty.call(a.error.data,i)){let s={};s[a.error.data[i]]=!0,this.form.get(i).setErrors(s)}this.alertPanel.showError(a.error.message)}else this.alertPanel.showError(a.error.message);this.isSaving=!1}}))}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}resizeDialog(){this.dialogMaxSize?(this.dialogRef.updateSize("80%","60%"),this.dialogMaxSize=!1):(this.dialogRef.updateSize("100%","100%"),this.dialogMaxSize=!0)}cancelarAccion(){this.cerrar()}cerrar(){this.dialogRef.close(this.savedData)}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(_.so),t.Y36(_.WI),t.Y36(l.qu),t.Y36(R.$),t.Y36(u.Yg),t.Y36(_.uw))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-tema-dialog"]],viewQuery:function(a,i){if(1&a&&t.Gf(b.G,5),2&a){let n;t.iGM(n=t.CRH())&&(i.alertPanel=n.first)}},decls:59,vars:16,consts:[[1,"flex-column",2,"height","100%","overflow","hidden","flex","1 1 0%",3,"keydown.escape"],[1,"dialog-toolbar"],[1,"flex-row"],[1,"label-info","status-label"],[1,"hide-xs"],["mat-button","",3,"disabled","click"],[1,"flex-fill"],["class","label-info screen-size-icon",4,"ngIf"],["mat-button","","class","boton-accion","tabindex","-1",3,"matTooltip","matTooltipPosition","click",4,"ngIf"],["mat-button","","tabindex","-1",1,"boton-accion","boton-cerrar",3,"click"],[3,"mode","color",4,"ngIf"],[1,"flex-fill","flex-column",2,"padding","8px","overflow","auto"],[1,"flex-fill","flex-column","flex-gap"],[1,"flex-column","flex-gap","xs-max-height-user-form",2,"padding","8px",3,"formGroup"],[1,"flex-row","flex-xs-column","flex-fill","flex-gap"],["appearance","fill"],["formControlName","columna_id"],[3,"value"],[4,"ngIf"],["type","text","matInput","","autocomplete","off","formControlName","orden","placeholder","Orden","required",""],["appearance","fill",1,"flex-fill"],["formControlName","estatus_id"],["type","text","matInput","","autocomplete","off","formControlName","descripcion","placeholder","Tema","required",""],[1,"label-info","screen-size-icon"],["mat-button","","tabindex","-1",1,"boton-accion",3,"matTooltip","matTooltipPosition","click"],[3,"mode","color"]],template:function(a,i){1&a&&(t.TgZ(0,"section",0),t.NdJ("keydown.escape",function(){return i.cancelarAccion()},!1,t.evT),t.TgZ(1,"section",1)(2,"div",2)(3,"div",3)(4,"mat-icon"),t._uU(5,"star"),t.qZA(),t.TgZ(6,"span",4),t._uU(7,"\xa0Tema"),t.qZA()(),t.TgZ(8,"button",5),t.NdJ("click",function(){return i.guardar()}),t.TgZ(9,"mat-icon"),t._uU(10),t.qZA(),t.TgZ(11,"span",4),t._uU(12,"\xa0Guardar"),t.qZA()(),t._UZ(13,"div",6),t.YNc(14,K,3,0,"div",7)(15,X,3,3,"button",8),t.TgZ(16,"button",9),t.NdJ("click",function(){return i.cerrar()}),t.TgZ(17,"mat-icon"),t._uU(18,"close"),t.qZA()()()(),t.YNc(19,$,1,2,"mat-progress-bar",10),t.TgZ(20,"section"),t._UZ(21,"alert-panel"),t.qZA(),t.TgZ(22,"section",11)(23,"div",12)(24,"mat-card",13)(25,"div",14)(26,"mat-form-field",15)(27,"mat-label"),t._uU(28,"COLUMNA: "),t.qZA(),t.TgZ(29,"mat-select",16)(30,"mat-option",17),t._uU(31,"COLUMNA 1"),t.qZA(),t.TgZ(32,"mat-option",17),t._uU(33,"COLUMNA 2"),t.qZA(),t.TgZ(34,"mat-option",17),t._uU(35,"COLUMNA 3"),t.qZA(),t.TgZ(36,"mat-option",17),t._uU(37,"COLUMNA 4"),t.qZA()(),t.YNc(38,V,2,0,"mat-error",18),t.qZA(),t.TgZ(39,"mat-form-field",15)(40,"mat-label"),t._uU(41,"ORDEN: "),t.qZA(),t._UZ(42,"input",19),t.YNc(43,W,2,0,"mat-error",18),t.qZA(),t.TgZ(44,"mat-form-field",20)(45,"mat-label"),t._uU(46,"ESTATUS: "),t.qZA(),t.TgZ(47,"mat-select",21)(48,"mat-option",17),t._uU(49,"ACTIVO"),t.qZA(),t.TgZ(50,"mat-option",17),t._uU(51,"INACTIVO"),t.qZA()(),t.YNc(52,tt,2,0,"mat-error",18),t.qZA()(),t.TgZ(53,"div",14)(54,"mat-form-field",20)(55,"mat-label"),t._uU(56,"TEMA: "),t.qZA(),t._UZ(57,"input",22),t.YNc(58,et,2,0,"mat-error",18),t.qZA()()()()()()),2&a&&(t.xp6(8),t.Q6J("disabled",i.isLoading||i.isSaving||!i.form.valid),t.xp6(2),t.Oqu(i.changesDetected?"save_as":"save"),t.xp6(4),t.Q6J("ngIf","xs"==i.currentScreenSize||"sm"==i.currentScreenSize),t.xp6(1),t.Q6J("ngIf","xs"!=i.currentScreenSize&&"sm"!=i.currentScreenSize),t.xp6(4),t.Q6J("ngIf",i.isLoading||i.isSaving||i.isSendingEmail),t.xp6(5),t.Q6J("formGroup",i.form),t.xp6(6),t.Q6J("value",1),t.xp6(2),t.Q6J("value",2),t.xp6(2),t.Q6J("value",3),t.xp6(2),t.Q6J("value",4),t.xp6(2),t.Q6J("ngIf",i.form.get("columna_id").hasError("required")),t.xp6(5),t.Q6J("ngIf",i.form.get("orden").hasError("required")),t.xp6(5),t.Q6J("value",1),t.xp6(2),t.Q6J("value",2),t.xp6(2),t.Q6J("ngIf",i.form.get("estatus_id").hasError("required")),t.xp6(6),t.Q6J("ngIf",i.form.get("descripcion").hasError("required")))},dependencies:[g.O5,l.Fj,l.JJ,l.JL,l.Q7,h.lW,v.Hw,S.Nt,d.KE,d.hX,d.TO,A.a8,P.gD,O.ey,I.gM,w.pW,l.sg,l.u,b.G]})}return o})();var x=m(553),f=m(7398),C=m(1474);let at=(()=>{class o{constructor(e){this.http=e,this.url_subtema=`${x.N.base_url}/subtema`}obtenerSubTemas(e){return this.http.get(this.url_subtema,{params:e}).pipe((0,f.U)(a=>a))}guardarSubTema(e){return this.http.post(this.url_subtema,{params:e}).pipe((0,f.U)(a=>a))}eliminarSubTema(e){return this.http.delete(this.url_subtema+"/"+e).pipe((0,f.U)(a=>a))}static#t=this.\u0275fac=function(a){return new(a||o)(t.LFG(C.eN))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var c=m(5313),T=m(1346);function it(o,r){1&o&&(t.TgZ(0,"div",40)(1,"mat-icon"),t._uU(2,"phone_iphone"),t.qZA()())}function nt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",41),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.resizeDialog())}),t.TgZ(1,"mat-icon"),t._uU(2),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("matTooltip",e.dialogMaxSize?"Restaurar":"Maximizar")("matTooltipPosition","left"),t.xp6(2),t.Oqu(e.dialogMaxSize?"fit_screen":"fullscreen")}}function rt(o,r){if(1&o&&t._UZ(0,"mat-progress-bar",42),2&o){const e=t.oxw();t.Q6J("mode",e.isSaving?"indeterminate":"query")("color",e.isSaving?"accent":"primary")}}function st(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"La descripcion de Usuario es obligatorio"),t.qZA())}function lt(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"La descripcion de Usuario es obligatorio"),t.qZA())}function ct(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"El Orden de Usuario es obligatorio"),t.qZA())}function mt(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"El Nombre de Usuario es obligatorio"),t.qZA())}function ut(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"La descripcion de Usuario es obligatorio"),t.qZA())}function dt(o,r){if(1&o&&(t.TgZ(0,"mat-form-field",14)(1,"mat-label"),t._uU(2,"ENLACE: "),t.qZA(),t._UZ(3,"input",43),t.YNc(4,ut,2,0,"mat-error",17),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.form.get("enlace").hasError("required"))}}function pt(o,r){1&o&&(t.TgZ(0,"th",44),t._uU(1,"TEMA / SUBTEMA"),t.qZA())}function gt(o,r){if(1&o&&(t.TgZ(0,"td",45)(1,"div"),t._uU(2),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA()()),2&o){const e=r.$implicit;t.xp6(2),t.AsE("",e.orden," - ",e.descripcion,""),t.xp6(2),t.Oqu(e.enlace)}}function ft(o,r){1&o&&(t.TgZ(0,"th",44),t._uU(1,"ESTATUS"),t.qZA())}function _t(o,r){1&o&&(t.TgZ(0,"div")(1,"button",46)(2,"mat-icon"),t._uU(3,"check"),t.qZA()()())}function ht(o,r){1&o&&(t.TgZ(0,"div")(1,"button",47)(2,"mat-icon"),t._uU(3,"check"),t.qZA()()()),2&o&&(t.xp6(1),t.Q6J("disabled",!0))}function bt(o,r){if(1&o&&(t.TgZ(0,"td",45),t.YNc(1,_t,4,0,"div",17)(2,ht,4,1,"div",17),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.estatus_id),t.xp6(1),t.Q6J("ngIf",2==e.estatus_id)}}function Tt(o,r){if(1&o&&(t.TgZ(0,"td",48),t._uU(1," --| Cargando Registros |-- "),t._UZ(2,"mat-progress-bar",49),t.qZA()),2&o){const e=t.oxw();t.uIk("colspan",e.displayedColumns.length)}}function xt(o,r){if(1&o&&(t.TgZ(0,"td",48),t._uU(1," No se encontraron registros "),t.qZA()),2&o){const e=t.oxw();t.uIk("colspan",e.displayedColumns.length)}}function Ct(o,r){1&o&&t._UZ(0,"tr",50)}const Zt=o=>({row:o});function vt(o,r){if(1&o&&t._UZ(0,"tr",51),2&o){const e=r.$implicit;t.oxw();const a=t.MAs(75);t.Q6J("cdkContextMenuTriggerFor",a)("cdkContextMenuTriggerData",t.VKq(2,Zt,e))}}const z=o=>({hide:o});function St(o,r){if(1&o&&t._UZ(0,"tr",52),2&o){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,z,!e.isLoadingResults))}}function At(o,r){if(1&o&&t._UZ(0,"tr",52),2&o){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,z,!(null!=e.data&&0==e.data.length&&!e.isLoadingResults)))}}function wt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",53)(1,"button",54),t.NdJ("click",function(){const n=t.CHM(e).row,s=t.oxw();return t.KtG(s.edit(n))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA(),t._uU(4,"\xa0EDITAR"),t.qZA(),t.TgZ(5,"button",55),t.NdJ("click",function(){const n=t.CHM(e).row,s=t.oxw();return t.KtG(s.eliminar(n))}),t.TgZ(6,"mat-icon"),t._uU(7,"delete"),t.qZA(),t._uU(8,"\xa0ELIMINAR"),t.qZA()()}}const Dt=()=>["loadingResults"],yt=()=>["noResultsFound"];let qt=(()=>{class o{constructor(e,a,i,n,s,p){this.dialogRef=e,this.inData=a,this.formBuilder=i,this.subtemaService=n,this.breakpointObserver=s,this.dialog=p,this.destroyed=new N.x,this.displayNameMap=new Map([[u.u3.XSmall,"xs"],[u.u3.Small,"sm"],[u.u3.Medium,"md"],[u.u3.Large,"lg"],[u.u3.XLarge,"xl"]]),this.data=[],this.displayedColumns=["subtema","estatus"],s.observe([u.u3.XSmall,u.u3.Small,u.u3.Medium,u.u3.Large,u.u3.XLarge]).pipe((0,E.R)(this.destroyed)).subscribe(Z=>{for(const q of Object.keys(Z.breakpoints))Z.breakpoints[q]&&(this.currentScreenSize=this.displayNameMap.get(q)??"Unknown")})}ngOnInit(){this.savedData=!1,this.isLoading=!1,this.form=this.formBuilder.group({id:[""],catalogo_tema_id:["",l.kI.required],descripcion:["",l.kI.required],tipoSubtitulo:["",[l.kI.required]],enlace:["",[l.kI.required]],orden:[1,[l.kI.required]],estatus_id:[1,[l.kI.required]]}),this.data=this.inData.subtema,this.form.patchValue({catalogo_tema_id:this.inData.id}),console.log("--\x3e",this.form)}ngAfterViewInit(){("sm"==this.currentScreenSize||"xs"==this.currentScreenSize)&&this.resizeDialog()}guardar(){this.alertPanel.closePanel(),this.form.valid&&(this.isSaving=!0,this.subtemaService.guardarSubTema(this.form.value).subscribe({next:a=>{this.isSaving=!1,this.alertPanel.showSuccess("Datos guardados con \xe9xito",3),this.savedData=!0,this.form.patchValue({id:0,enlace:"",descripcion:"",orden:1,estatus_id:1}),this.obtenerDatos()},error:a=>{if("form_validation"==a.error.error_type){for(const i in a.error.data)if(Object.prototype.hasOwnProperty.call(a.error.data,i)){let s={};s[a.error.data[i]]=!0,this.form.get(i).setErrors(s)}this.alertPanel.showError(a.error.message)}else this.alertPanel.showError(a.error.message);this.isSaving=!1}}))}obtenerDatos(){this.subtemaService.obtenerSubTemas({catalogo_tema_id:this.inData.id}).subscribe({next:e=>{this.isSaving=!1,this.savedData=!0,this.data=e.data},error:e=>{if("form_validation"==e.error.error_type){for(const a in e.error.data)if(Object.prototype.hasOwnProperty.call(e.error.data,a)){let n={};n[e.error.data[a]]=!0,this.form.get(a).setErrors(n)}this.alertPanel.showError(e.error.message)}else this.alertPanel.showError(e.error.message);this.isSaving=!1}})}eliminarRegistro(e){this.subtemaService.eliminarSubTema(e).subscribe({next:a=>{this.isSaving=!1,this.savedData=!0,this.obtenerDatos()},error:a=>{if("form_validation"==a.error.error_type){for(const i in a.error.data)if(Object.prototype.hasOwnProperty.call(a.error.data,i)){let s={};s[a.error.data[i]]=!0,this.form.get(i).setErrors(s)}this.alertPanel.showError(a.error.message)}else this.alertPanel.showError(a.error.message);this.isSaving=!1}})}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}verificarEstatus(e){2==e&&this.form.patchValue({enlace:""})}verificaContenido(e){let a=e.toLowerCase();a=a.replace(/\s/g,"-"),a=a.replace(/\\/g,""),this.form.patchValue({enlace:a}),console.log("v->",this.form.value)}edit(e){this.form.patchValue(e)}eliminar(e){let a=e.id;this.dialog.open(k.N,{width:"500px",data:{title:"Eliminar Registros",message:"Esta seguro de eliminar este registro?",hasOKBtn:!0,btnColor:"warn",btnText:"Eliminar",btnIcon:"delete"}}).afterClosed().subscribe(n=>{n&&this.eliminarRegistro(a)})}resizeDialog(){this.dialogMaxSize?(this.dialogRef.updateSize("80%","80%"),this.dialogMaxSize=!1):(this.dialogRef.updateSize("100%","100%"),this.dialogMaxSize=!0)}cancelarAccion(){this.cerrar()}cerrar(){this.dialogRef.close(this.savedData)}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(_.so),t.Y36(_.WI),t.Y36(l.qu),t.Y36(at),t.Y36(u.Yg),t.Y36(_.uw))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-subtema-dialog"]],viewQuery:function(a,i){if(1&a&&t.Gf(b.G,5),2&a){let n;t.iGM(n=t.CRH())&&(i.alertPanel=n.first)}},decls:76,vars:22,consts:[[1,"flex-column",2,"height","100%","overflow","hidden","flex","1 1 0%",3,"keydown.escape"],[1,"dialog-toolbar"],[1,"flex-row"],[1,"label-info","status-label"],[1,"hide-xs"],[1,"flex-fill"],["class","label-info screen-size-icon",4,"ngIf"],["mat-button","","class","boton-accion","tabindex","-1",3,"matTooltip","matTooltipPosition","click",4,"ngIf"],["mat-button","","tabindex","-1",1,"boton-accion","boton-cerrar",3,"click"],[3,"mode","color",4,"ngIf"],[1,"flex-fill","flex-column",2,"padding","8px","overflow","auto"],[1,"flex-fill","flex-column","flex-gap"],[1,"flex-column","flex-gap","xs-max-height-user-form",2,"padding","8px",3,"formGroup"],[1,"flex-row","flex-xs-column","flex-fill","flex-gap"],["appearance","fill",1,"flex-fill"],["type","text","matInput","","autocomplete","off","formControlName","descripcion","required","",3,"blur"],["descripcion",""],[4,"ngIf"],["appearance","fill"],["formControlName","tipoSubtitulo",3,"selectionChange"],["tipo",""],[3,"value"],["type","number","matInput","","autocomplete","off","formControlName","orden","placeholder","Orden","required",""],["formControlName","estatus_id"],["appearance","fill","class","flex-fill",4,"ngIf"],["mat-raised-button","","color","primary",1,"flex-fill",2,"padding","28px",3,"disabled","click"],[1,"flex-column",2,"height","100%"],[1,"main-list-table","left-click-open","flex-fill",2,"height","100%"],["mat-table","","matSort","","matSortActive","updated_at","matSortDirection","desc",3,"dataSource"],["matColumnDef","subtema"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","estatus"],["matColumnDef","loadingResults"],["mat-footer-cell","","class","no-results-found",4,"matFooterCellDef"],["matColumnDef","noResultsFound"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"cdkContextMenuTriggerFor","cdkContextMenuTriggerData",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",3,"ngClass",4,"matFooterRowDef"],["rowMenu",""],[1,"label-info","screen-size-icon"],["mat-button","","tabindex","-1",1,"boton-accion",3,"matTooltip","matTooltipPosition","click"],[3,"mode","color"],["type","text","matInput","","autocomplete","off","formControlName","enlace","required",""],["mat-header-cell",""],["mat-cell",""],["mat-mini-fab",""],["mat-mini-fab","",3,"disabled"],["mat-footer-cell","",1,"no-results-found"],["mode","query"],["mat-header-row",""],["mat-row","",3,"cdkContextMenuTriggerFor","cdkContextMenuTriggerData"],["mat-footer-row","",3,"ngClass"],["cdkMenu","",1,"context-menu","mat-elevation-z2"],["cdkMenuItem","",1,"context-menu-item",3,"click"],["cdkMenuItem","",1,"context-menu-item",2,"color","red",3,"click"]],template:function(a,i){if(1&a){const n=t.EpF();t.TgZ(0,"section",0),t.NdJ("keydown.escape",function(){return i.cancelarAccion()},!1,t.evT),t.TgZ(1,"section",1)(2,"div",2)(3,"div",3)(4,"mat-icon"),t._uU(5,"star"),t.qZA(),t.TgZ(6,"span",4),t._uU(7,"\xa0Tema"),t.qZA()(),t._UZ(8,"div",5),t.YNc(9,it,3,0,"div",6)(10,nt,3,3,"button",7),t.TgZ(11,"button",8),t.NdJ("click",function(){return i.cerrar()}),t.TgZ(12,"mat-icon"),t._uU(13,"close"),t.qZA()()()(),t.YNc(14,rt,1,2,"mat-progress-bar",9),t.TgZ(15,"section"),t._UZ(16,"alert-panel"),t.qZA(),t.TgZ(17,"section",10)(18,"div",11)(19,"mat-card",12)(20,"div",13)(21,"mat-form-field",14)(22,"mat-label"),t._uU(23,"DESCRIPCI\xd3N: "),t.qZA(),t.TgZ(24,"input",15,16),t.NdJ("blur",function(){t.CHM(n);const p=t.MAs(25);return t.KtG(i.verificaContenido(p.value))}),t.qZA(),t.YNc(26,st,2,0,"mat-error",17),t.qZA(),t.TgZ(27,"mat-form-field",18)(28,"mat-label"),t._uU(29,"TIPO ENLACE: "),t.qZA(),t.TgZ(30,"mat-select",19,20),t.NdJ("selectionChange",function(){t.CHM(n);const p=t.MAs(31);return t.KtG(i.verificarEstatus(p.value))}),t.TgZ(32,"mat-option",21),t._uU(33,"INTERNO"),t.qZA(),t.TgZ(34,"mat-option",21),t._uU(35,"EXTERNO"),t.qZA()(),t.YNc(36,lt,2,0,"mat-error",17),t.qZA(),t.TgZ(37,"mat-form-field",18)(38,"mat-label"),t._uU(39,"ORDEN: "),t.qZA(),t._UZ(40,"input",22),t.YNc(41,ct,2,0,"mat-error",17),t.qZA(),t.TgZ(42,"mat-form-field",14)(43,"mat-label"),t._uU(44,"ESTATUS: "),t.qZA(),t.TgZ(45,"mat-select",23)(46,"mat-option",21),t._uU(47,"ACTIVO"),t.qZA(),t.TgZ(48,"mat-option",21),t._uU(49,"INACTIVO"),t.qZA()(),t.YNc(50,mt,2,0,"mat-error",17),t.qZA()(),t.TgZ(51,"div",13),t.YNc(52,dt,5,1,"mat-form-field",24),t.TgZ(53,"button",25),t.NdJ("click",function(){return i.guardar()}),t.TgZ(54,"mat-icon"),t._uU(55,"save"),t.qZA(),t._uU(56,"GUARDAR"),t.qZA()()()(),t.TgZ(57,"div",26)(58,"div",27)(59,"table",28),t.ynx(60,29),t.YNc(61,pt,2,0,"th",30)(62,gt,5,3,"td",31),t.BQk(),t.ynx(63,32),t.YNc(64,ft,2,0,"th",30)(65,bt,3,2,"td",31),t.BQk(),t.ynx(66,33),t.YNc(67,Tt,3,1,"td",34),t.BQk(),t.ynx(68,35),t.YNc(69,xt,2,1,"td",34),t.BQk(),t.YNc(70,Ct,1,0,"tr",36)(71,vt,1,4,"tr",37)(72,St,1,3,"tr",38)(73,At,1,3,"tr",38),t.qZA()()()()(),t.YNc(74,wt,9,0,"ng-template",null,39,t.W1O)}if(2&a){const n=t.MAs(31);t.xp6(9),t.Q6J("ngIf","xs"==i.currentScreenSize||"sm"==i.currentScreenSize),t.xp6(1),t.Q6J("ngIf","xs"!=i.currentScreenSize&&"sm"!=i.currentScreenSize),t.xp6(4),t.Q6J("ngIf",i.isLoading||i.isSaving),t.xp6(5),t.Q6J("formGroup",i.form),t.xp6(7),t.Q6J("ngIf",i.form.get("descripcion").hasError("required")),t.xp6(6),t.Q6J("value",1),t.xp6(2),t.Q6J("value",2),t.xp6(2),t.Q6J("ngIf",i.form.get("tipoSubtitulo").hasError("required")),t.xp6(5),t.Q6J("ngIf",i.form.get("orden").hasError("required")),t.xp6(5),t.Q6J("value",1),t.xp6(2),t.Q6J("value",2),t.xp6(2),t.Q6J("ngIf",i.form.get("estatus_id").hasError("required")),t.xp6(2),t.Q6J("ngIf",2==n.value),t.xp6(1),t.Q6J("disabled",!i.form.valid),t.xp6(6),t.Q6J("dataSource",i.data),t.xp6(11),t.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("matFooterRowDef",t.DdM(20,Dt)),t.xp6(1),t.Q6J("matFooterRowDef",t.DdM(21,yt))}},dependencies:[g.mk,g.O5,l.Fj,l.wV,l.JJ,l.JL,l.Q7,h.lW,h.nh,v.Hw,S.Nt,d.KE,d.hX,d.TO,A.a8,P.gD,O.ey,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.mD,c.Ke,c.ge,c.ev,c.yh,c.XQ,c.Gk,c.Q2,I.gM,T.qn,T.Sv,T.eu,w.pW,y.YE,l.sg,l.u,b.G]})}return o})();var F=m(2557);function Ut(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.cleanSearch())}),t.TgZ(1,"mat-icon"),t._uU(2,"close"),t.qZA()()}2&o&&t.uIk("aria-label","Clean Query")("aria-pressed","cleanQuery")}function kt(o,r){1&o&&t._UZ(0,"mat-progress-bar",24)}function It(o,r){1&o&&(t.TgZ(0,"th",25),t._uU(1,"TEMA / SUBTEMA"),t.qZA())}function Nt(o,r){if(1&o&&(t.TgZ(0,"mat-chip",30),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.Oqu(e.descripcion)}}function Et(o,r){if(1&o&&(t.TgZ(0,"td",26)(1,"div",27)(2,"div",28),t._uU(3),t.qZA()(),t.TgZ(4,"mat-chip-set",29),t.SjG(5,Nt,2,1,"mat-chip",31,t.x6l),t.qZA()()),2&o){const e=r.$implicit;t.xp6(3),t.lnq("[C ",e.columna_id,"] - [O ",e.orden,"] - ",e.descripcion,""),t.xp6(2),t.wJu(e.subtema)}}function Jt(o,r){1&o&&(t.TgZ(0,"th",25),t._uU(1,"ESTATUS"),t.qZA())}function Mt(o,r){1&o&&(t.TgZ(0,"div")(1,"button",33)(2,"mat-icon"),t._uU(3,"check"),t.qZA()()())}function Qt(o,r){1&o&&(t.TgZ(0,"div")(1,"button",34)(2,"mat-icon"),t._uU(3,"check"),t.qZA()()()),2&o&&(t.xp6(1),t.Q6J("disabled",!0))}function Rt(o,r){if(1&o&&(t.TgZ(0,"td",26),t.YNc(1,Mt,4,0,"div",32)(2,Qt,4,1,"div",32),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.estatus_id),t.xp6(1),t.Q6J("ngIf",2==e.estatus_id)}}function Pt(o,r){if(1&o&&(t.TgZ(0,"td",35),t._uU(1," --| Cargando Registros |-- "),t._UZ(2,"mat-progress-bar",24),t.qZA()),2&o){const e=t.oxw();t.uIk("colspan",e.displayedColumns.length)}}function Ot(o,r){if(1&o&&(t.TgZ(0,"td",35),t._uU(1," No se encontraron registros "),t.qZA()),2&o){const e=t.oxw();t.uIk("colspan",e.displayedColumns.length)}}function zt(o,r){1&o&&t._UZ(0,"tr",36)}const Ft=o=>({row:o});function Bt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr",37),t.NdJ("click",function(){const n=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.openDialogTema(n))}),t.qZA()}if(2&o){const e=r.$implicit;t.oxw();const a=t.MAs(36);t.Q6J("cdkContextMenuTriggerFor",a)("cdkContextMenuTriggerData",t.VKq(2,Ft,e))}}const B=o=>({hide:o});function Yt(o,r){if(1&o&&t._UZ(0,"tr",38),2&o){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,B,!e.isLoadingResults))}}function Gt(o,r){if(1&o&&t._UZ(0,"tr",38),2&o){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,B,!(null!=e.data&&0==e.data.length&&!e.isLoadingResults)))}}function Lt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",39)(1,"button",40),t.NdJ("click",function(){const n=t.CHM(e).row,s=t.oxw();return t.KtG(s.openDialogTema(n))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA(),t._uU(4,"\xa0EDITAR"),t.qZA(),t.TgZ(5,"button",40),t.NdJ("click",function(){const n=t.CHM(e).row,s=t.oxw();return t.KtG(s.eliminarTema(n))}),t.TgZ(6,"mat-icon"),t._uU(7,"delete"),t.qZA(),t._uU(8,"\xa0ELIMINAR"),t.qZA(),t.TgZ(9,"button",40),t.NdJ("click",function(){const n=t.CHM(e).row,s=t.oxw();return t.KtG(s.openDialogSubTema(n))}),t._UZ(10,"i",41),t._uU(11,"\xa0SUB TEMAS"),t.qZA()()}}const Ht=()=>["loadingResults"],jt=()=>["noResultsFound"],Kt=()=>[25,50,100];let Y=(()=>{class o{constructor(e,a){this.temaService=e,this.dialog=a,this.pageSize=50,this.displayedColumns=["tema","estatus"],this.resultsLength=0}ngOnInit(){this.data=[],this.searchQuery="",setTimeout(()=>{this.applySearch()},10)}applySearch(){this.isLoadingResults=!0;let e={sort:this.sort.active,direction:this.sort.direction,page:this.paginator.pageIndex+1,per_page:this.paginator.pageSize,query:this.searchQuery};return this.data=[],this.temaService.obtenerTemas(e).subscribe({next:a=>{this.isLoadingResults=!1,this.resultsLength=a.data.total,this.data=a.data.data},error:a=>{this.alertPanel.showError(a.error.message),this.isLoadingResults=!1}})}cleanSearch(){this.searchQuery=""}openDialogTema(e){let a={maxWidth:"100%",width:"80%",height:"250px",disableClose:!0,data:{}};e&&(a.data.id=e.id,a.data.columna_id=e.columna_id,a.data.orden=e.orden,a.data.estatus_id=e.estatus_id,a.data.descripcion=e.descripcion),this.dialog.open(ot,a).afterClosed().subscribe(n=>{this.applySearch()})}openDialogSubTema(e){let a={maxWidth:"100%",width:"80%",height:"80%",disableClose:!0,data:{}};console.log("--\x3e",e),e&&(a.data.id=e.id,a.data.descripcion=e.descripcion,a.data.estatus_id=e.estatus_id,a.data.orden=e.orden,a.data.subtema=e.subtema),this.dialog.open(qt,a).afterClosed().subscribe(n=>{this.applySearch()})}eliminarRegistro(e){this.temaService.eliminarTema(e).subscribe({next:a=>{this.applySearch()},error:a=>{if("form_validation"==a.error.error_type){for(const i in a.error.data)Object.prototype.hasOwnProperty.call(a.error.data,i);this.alertPanel.showError(a.error.message)}else this.alertPanel.showError(a.error.message)}})}eliminarTema(e){this.dialog.open(k.N,{width:"500px",data:{title:"Eliminar Registro",message:"Esta seguro de eliminar este registro?",hasOKBtn:!0,btnColor:"warn",btnText:"Eliminar",btnIcon:"delete"}}).afterClosed().subscribe(n=>{n&&this.eliminarRegistro(e.id)})}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(R.$),t.Y36(_.uw))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-tema-subtema"]],viewQuery:function(a,i){if(1&a&&(t.Gf(U.NW,5),t.Gf(y.YE,5),t.Gf(b.G,5)),2&a){let n;t.iGM(n=t.CRH())&&(i.paginator=n.first),t.iGM(n=t.CRH())&&(i.sort=n.first),t.iGM(n=t.CRH())&&(i.alertPanel=n.first)}},decls:37,vars:16,consts:[[1,"flex-row","flex-gap","module-search-bar"],["appearance","fill",1,"flex-fill"],["matInput","","placeholder","Buscar tema","autocomplete","off",3,"ngModel","ngModelChange","keyup.escape","keyup.enter"],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","primary",3,"matTooltip","click"],["mode","query",4,"ngIf"],[1,"table-card","flex-fill"],[1,"flex-column",2,"height","100%"],[1,"main-list-table","left-click-open","flex-fill"],["mat-table","","matSort","","matSortActive","updated_at","matSortDirection","desc",3,"dataSource"],["matColumnDef","tema"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","estatus"],["matColumnDef","loadingResults"],["mat-footer-cell","","class","no-results-found",4,"matFooterCellDef"],["matColumnDef","noResultsFound"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"cdkContextMenuTriggerFor","cdkContextMenuTriggerData","click",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",3,"ngClass",4,"matFooterRowDef"],["showFirstLastButtons","","aria-label","Selecciona una p\xe1gina",3,"length","pageSize","pageSizeOptions"],["rowMenu",""],["matSuffix","","mat-icon-button","",3,"click"],["mode","query"],["mat-header-cell",""],["mat-cell",""],[2,"padding","5px"],[2,"font-weight","bold","font-size","12pt"],["cdkDropListOrientation","horizontal",1,"example-chip"],["cdkDrag","",1,"example-box"],["class","example-box","cdkDrag",""],[4,"ngIf"],["mat-mini-fab",""],["mat-mini-fab","",3,"disabled"],["mat-footer-cell","",1,"no-results-found"],["mat-header-row",""],["mat-row","",3,"cdkContextMenuTriggerFor","cdkContextMenuTriggerData","click"],["mat-footer-row","",3,"ngClass"],["cdkMenu","",1,"context-menu","mat-elevation-z2"],["cdkMenuItem","",1,"context-menu-item",3,"click"],[1,"uil","uil-subject",2,"font-size","17pt"]],template:function(a,i){1&a&&(t.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),t._uU(3,"Buscar"),t.qZA(),t.TgZ(4,"input",2),t.NdJ("ngModelChange",function(s){return i.searchQuery=s})("keyup.escape",function(){return i.cleanSearch()})("keyup.enter",function(){return i.applySearch()}),t.qZA(),t.YNc(5,Ut,3,2,"button",3),t.TgZ(6,"button",4),t.NdJ("click",function(){return i.applySearch()}),t.TgZ(7,"mat-icon"),t._uU(8,"search"),t.qZA()()(),t.TgZ(9,"button",5),t.NdJ("click",function(){return i.openDialogTema()}),t.TgZ(10,"mat-icon"),t._uU(11,"add"),t.qZA()()(),t.TgZ(12,"div"),t._UZ(13,"alert-panel"),t.YNc(14,kt,1,0,"mat-progress-bar",6),t.qZA(),t.TgZ(15,"mat-card",7)(16,"div",8)(17,"div",9)(18,"table",10),t.ynx(19,11),t.YNc(20,It,2,0,"th",12)(21,Et,7,3,"td",13),t.BQk(),t.ynx(22,14),t.YNc(23,Jt,2,0,"th",12)(24,Rt,3,2,"td",13),t.BQk(),t.ynx(25,15),t.YNc(26,Pt,3,1,"td",16),t.BQk(),t.ynx(27,17),t.YNc(28,Ot,2,1,"td",16),t.BQk(),t.YNc(29,zt,1,0,"tr",18)(30,Bt,1,4,"tr",19)(31,Yt,1,3,"tr",20)(32,Gt,1,3,"tr",20),t.qZA()(),t.TgZ(33,"div"),t._UZ(34,"mat-paginator",21),t.qZA()()(),t.YNc(35,Lt,12,0,"ng-template",null,22,t.W1O)),2&a&&(t.xp6(4),t.Q6J("ngModel",i.searchQuery),t.xp6(1),t.Q6J("ngIf",i.searchQuery),t.xp6(4),t.Q6J("matTooltip","Nuevo Tema"),t.xp6(5),t.Q6J("ngIf",i.isLoadingPDF),t.xp6(4),t.Q6J("dataSource",i.data),t.xp6(11),t.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("matFooterRowDef",t.DdM(13,Ht)),t.xp6(1),t.Q6J("matFooterRowDef",t.DdM(14,jt)),t.xp6(2),t.Q6J("length",i.resultsLength)("pageSize",i.pageSize)("pageSizeOptions",t.DdM(15,Kt)))},dependencies:[g.mk,g.O5,l.Fj,l.JJ,l.On,h.lW,h.RK,h.nh,v.Hw,S.Nt,d.KE,d.hX,d.R9,A.a8,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.mD,c.Ke,c.ge,c.ev,c.yh,c.XQ,c.Gk,c.Q2,U.NW,F.HS,F.J4,I.gM,T.qn,T.Sv,T.eu,w.pW,y.YE,b.G],styles:[".example-box.cdk-drag-animating[_ngcontent-%COMP%], .example-chip[_ngcontent-%COMP%]   .cdk-drop-list-dragging[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}"]})}return o})(),J=(()=>{class o{constructor(e,a){this.http=e,this.url_pagina=`${x.N.base_url}/pagina`,this.url_botones=`${x.N.base_url}/botones`,this.url_botones_hijos=`${x.N.base_url}/botones-hijos`,this.url_importar=`${x.N.base_url}/importar-cabecera`,this.url_del_imagen=`${x.N.base_url}/del-cabecera`,this.url_pagina_iframe=`${x.N.base_url}/iframe`,this.httpFile=new C.eN(a)}obtenerPaginas(e){return this.http.get(this.url_pagina,{params:e}).pipe((0,f.U)(a=>a))}getPagina(e,a){return this.http.get(this.url_pagina+"/"+e,{params:a}).pipe((0,f.U)(i=>i))}getButtons(e){return this.http.get(this.url_botones,{params:e}).pipe((0,f.U)(a=>a))}getButtonsHijos(e){return this.http.get(this.url_botones_hijos,{params:e}).pipe((0,f.U)(a=>a))}guardarPagina(e){return this.http.post(this.url_pagina,{params:e}).pipe((0,f.U)(a=>a))}guardarFrame(e){return this.http.post(this.url_pagina_iframe,{params:e}).pipe((0,f.U)(a=>a))}eliminarImage(e){return this.http.delete(this.url_del_imagen+"/"+e,{}).pipe((0,f.U)(a=>a))}ImportarFile(e,a){const i=new FormData;i.append("archivo",e,e.name),i.append("id",a),localStorage.getItem("token");let s=(new C.WM).set("Authorization","Bearer "+localStorage.getItem("token"));return s.append("Content-Type","application/x-www-form-urlencoded;charset=UTF-8"),s.append("Access-Control-Allow-Origin","*"),this.httpFile.post(this.url_importar,i,{headers:s})}static#t=this.\u0275fac=function(a){return new(a||o)(t.LFG(C.eN),t.LFG(C.jN))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Xt(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.cleanSearch())}),t.TgZ(1,"mat-icon"),t._uU(2,"close"),t.qZA()()}2&o&&t.uIk("aria-label","Clean Query")("aria-pressed","cleanQuery")}function $t(o,r){1&o&&t._UZ(0,"mat-progress-bar",24)}function Vt(o,r){1&o&&(t.TgZ(0,"th",25),t._uU(1,"DESCRIPCION"),t.qZA())}function Wt(o,r){if(1&o&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.subtema.enlace)}}function te(o,r){if(1&o&&(t.TgZ(0,"td",26)(1,"div",27)(2,"div"),t._uU(3),t.qZA(),t.YNc(4,Wt,2,1,"div",28),t.qZA()()),2&o){const e=r.$implicit;t.xp6(3),t.Oqu(e.descripcion),t.xp6(1),t.Q6J("ngIf",e.subtema)}}function ee(o,r){1&o&&(t.TgZ(0,"th",25),t._uU(1,"IMAGEN"),t.qZA())}function oe(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," SI "),t.qZA())}function ae(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," NO "),t.qZA())}function ie(o,r){if(1&o&&(t.TgZ(0,"td",26),t.YNc(1,oe,2,0,"div",28)(2,ae,2,0,"div",28),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.imagen),t.xp6(1),t.Q6J("ngIf",1!=e.imagen)}}function ne(o,r){1&o&&(t.TgZ(0,"th",25),t._uU(1,"IFRAME"),t.qZA())}function re(o,r){if(1&o&&(t.TgZ(0,"div")(1,"div"),t._uU(2,"SI"),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA()()),2&o){const e=t.oxw().$implicit;t.xp6(4),t.Oqu(e.iframe)}}function se(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1," NO "),t.qZA())}function le(o,r){if(1&o&&(t.TgZ(0,"td",26),t.YNc(1,re,5,1,"div",28)(2,se,2,0,"div",28),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.iframe_booleand),t.xp6(1),t.Q6J("ngIf",1!=e.iframe_booleand)}}function ce(o,r){if(1&o&&(t.TgZ(0,"td",29),t._uU(1," --| Cargando Registros |-- "),t._UZ(2,"mat-progress-bar",24),t.qZA()),2&o){const e=t.oxw();t.uIk("colspan",e.displayedColumns.length)}}function me(o,r){if(1&o&&(t.TgZ(0,"td",29),t._uU(1," No se encontraron registros "),t.qZA()),2&o){const e=t.oxw();t.uIk("colspan",e.displayedColumns.length)}}function ue(o,r){1&o&&t._UZ(0,"tr",30)}const de=o=>({row:o});function pe(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr",31),t.NdJ("click",function(){const n=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.openDialog(n))}),t.qZA()}if(2&o){const e=r.$implicit;t.oxw();const a=t.MAs(36);t.Q6J("cdkContextMenuTriggerFor",a)("cdkContextMenuTriggerData",t.VKq(2,de,e))}}const G=o=>({hide:o});function ge(o,r){if(1&o&&t._UZ(0,"tr",32),2&o){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,G,!e.isLoadingResults))}}function fe(o,r){if(1&o&&t._UZ(0,"tr",32),2&o){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,G,!(null!=e.data&&0==e.data.length&&!e.isLoadingResults)))}}function _e(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",33)(1,"button",34),t.NdJ("click",function(){const n=t.CHM(e).row,s=t.oxw();return t.KtG(s.edicion(n))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA(),t._uU(4,"\xa0EDITAR"),t.qZA()()}}const he=()=>["loadingResults"],be=()=>["noResultsFound"],Te=()=>[25,50,100];let xe=(()=>{class o{constructor(e,a,i){this.paginaService=e,this.dialog=a,this.router=i,this.pageSize=50,this.displayedColumns=["pagina","imagen","iframe"],this.resultsLength=0}ngOnInit(){this.data=[],this.searchQuery="",setTimeout(()=>{this.applySearch()},10)}applySearch(){this.isLoadingResults=!0;let e={sort:this.sort.active,direction:this.sort.direction,page:this.paginator.pageIndex+1,per_page:this.paginator.pageSize,query:this.searchQuery};return this.data=[],this.paginaService.obtenerPaginas(e).subscribe({next:a=>{this.isLoadingResults=!1,this.resultsLength=a.data.total,this.data=a.data.data},error:a=>{this.alertPanel.showError(a.error.message),this.isLoadingResults=!1}})}edicion(e){console.log(this.router.url),this.router.navigate([this.router.url,e.id])}cleanSearch(){this.searchQuery=""}openDialog(e){}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(J),t.Y36(_.uw),t.Y36(D.F0))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-pagina"]],viewQuery:function(a,i){if(1&a&&(t.Gf(U.NW,5),t.Gf(y.YE,5),t.Gf(b.G,5)),2&a){let n;t.iGM(n=t.CRH())&&(i.paginator=n.first),t.iGM(n=t.CRH())&&(i.sort=n.first),t.iGM(n=t.CRH())&&(i.alertPanel=n.first)}},decls:37,vars:15,consts:[[1,"flex-row","flex-gap","module-search-bar"],["appearance","fill",1,"flex-fill"],["matInput","","placeholder","Buscar tema","autocomplete","off",3,"ngModel","ngModelChange","keyup.escape","keyup.enter"],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","","matSuffix","",3,"click"],["mode","query",4,"ngIf"],[1,"table-card","flex-fill"],[1,"flex-column",2,"height","100%"],[1,"main-list-table","left-click-open","flex-fill"],["mat-table","","matSort","","matSortActive","updated_at","matSortDirection","desc",3,"dataSource"],["matColumnDef","pagina"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","imagen"],["matColumnDef","iframe"],["matColumnDef","loadingResults"],["mat-footer-cell","","class","no-results-found",4,"matFooterCellDef"],["matColumnDef","noResultsFound"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"cdkContextMenuTriggerFor","cdkContextMenuTriggerData","click",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",3,"ngClass",4,"matFooterRowDef"],["showFirstLastButtons","","aria-label","Selecciona una p\xe1gina",3,"length","pageSize","pageSizeOptions"],["rowMenu",""],["matSuffix","","mat-icon-button","",3,"click"],["mode","query"],["mat-header-cell",""],["mat-cell",""],[2,"padding","5px"],[4,"ngIf"],["mat-footer-cell","",1,"no-results-found"],["mat-header-row",""],["mat-row","",3,"cdkContextMenuTriggerFor","cdkContextMenuTriggerData","click"],["mat-footer-row","",3,"ngClass"],["cdkMenu","",1,"context-menu","mat-elevation-z2"],["cdkMenuItem","",1,"context-menu-item",3,"click"]],template:function(a,i){1&a&&(t.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),t._uU(3,"Buscar"),t.qZA(),t.TgZ(4,"input",2),t.NdJ("ngModelChange",function(s){return i.searchQuery=s})("keyup.escape",function(){return i.cleanSearch()})("keyup.enter",function(){return i.applySearch()}),t.qZA(),t.YNc(5,Xt,3,2,"button",3),t.TgZ(6,"button",4),t.NdJ("click",function(){return i.applySearch()}),t.TgZ(7,"mat-icon"),t._uU(8,"search"),t.qZA()()()(),t.TgZ(9,"div"),t._UZ(10,"alert-panel"),t.YNc(11,$t,1,0,"mat-progress-bar",5),t.qZA(),t.TgZ(12,"mat-card",6)(13,"div",7)(14,"div",8)(15,"table",9),t.ynx(16,10),t.YNc(17,Vt,2,0,"th",11)(18,te,5,2,"td",12),t.BQk(),t.ynx(19,13),t.YNc(20,ee,2,0,"th",11)(21,ie,3,2,"td",12),t.BQk(),t.ynx(22,14),t.YNc(23,ne,2,0,"th",11)(24,le,3,2,"td",12),t.BQk(),t.ynx(25,15),t.YNc(26,ce,3,1,"td",16),t.BQk(),t.ynx(27,17),t.YNc(28,me,2,1,"td",16),t.BQk(),t.YNc(29,ue,1,0,"tr",18)(30,pe,1,4,"tr",19)(31,ge,1,3,"tr",20)(32,fe,1,3,"tr",20),t.qZA()(),t.TgZ(33,"div"),t._UZ(34,"mat-paginator",21),t.qZA()()(),t.YNc(35,_e,5,0,"ng-template",null,22,t.W1O)),2&a&&(t.xp6(4),t.Q6J("ngModel",i.searchQuery),t.xp6(1),t.Q6J("ngIf",i.searchQuery),t.xp6(6),t.Q6J("ngIf",i.isLoadingPDF),t.xp6(4),t.Q6J("dataSource",i.data),t.xp6(14),t.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("matFooterRowDef",t.DdM(12,he)),t.xp6(1),t.Q6J("matFooterRowDef",t.DdM(13,be)),t.xp6(2),t.Q6J("length",i.resultsLength)("pageSize",i.pageSize)("pageSizeOptions",t.DdM(14,Te)))},dependencies:[g.mk,g.O5,l.Fj,l.JJ,l.On,h.RK,v.Hw,S.Nt,d.KE,d.hX,d.R9,A.a8,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.mD,c.Ke,c.ge,c.ev,c.yh,c.XQ,c.Gk,c.Q2,U.NW,T.qn,T.Sv,T.eu,w.pW,y.YE,b.G]})}return o})();var Ce=m(5619);let M=(()=>{class o{constructor(e,a){this.http=e,this.change$=new Ce.X(null),this.url_pagina_boton=`${x.N.base_url}/pagina-boton`,this.httpFile=new C.eN(a)}obtenerPaginasBotones(e){return this.http.get(this.url_pagina_boton,{params:e}).pipe((0,f.U)(a=>a))}guardarPaginaBoton(e){return this.http.post(this.url_pagina_boton,{params:e}).pipe((0,f.U)(a=>a))}eliminarPaginaBoton(e){return this.http.delete(this.url_pagina_boton+"/"+e,{}).pipe((0,f.U)(a=>a))}static#t=this.\u0275fac=function(a){return new(a||o)(t.LFG(C.eN),t.LFG(C.jN))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var L=m(1216);function Ze(o,r){1&o&&(t.TgZ(0,"div",21)(1,"mat-icon"),t._uU(2,"phone_iphone"),t.qZA()())}function ve(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.resizeDialog())}),t.TgZ(1,"mat-icon"),t._uU(2),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("matTooltip",e.dialogMaxSize?"Restaurar":"Maximizar")("matTooltipPosition","left"),t.xp6(2),t.Oqu(e.dialogMaxSize?"fit_screen":"fullscreen")}}function Se(o,r){if(1&o&&t._UZ(0,"mat-progress-bar",23),2&o){const e=t.oxw();t.Q6J("mode",e.isSaving?"indeterminate":"query")("color",e.isSaving?"accent":"primary")}}function Ae(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"El Texto es obligatorio"),t.qZA())}function we(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"La Descripcion es obligatorio"),t.qZA())}let De=(()=>{class o{constructor(e,a,i,n,s){this.dialogRef=e,this.formBuilder=a,this.breakpointObserver=i,this.inData=n,this.paginaBotonService=s,this.destroyed=new N.x,this.displayNameMap=new Map([[u.u3.XSmall,"xs"],[u.u3.Small,"sm"],[u.u3.Medium,"md"],[u.u3.Large,"lg"],[u.u3.XLarge,"xl"]]),i.observe([u.u3.XSmall,u.u3.Small,u.u3.Medium,u.u3.Large,u.u3.XLarge]).pipe((0,E.R)(this.destroyed)).subscribe(p=>{for(const Z of Object.keys(p.breakpoints))p.breakpoints[Z]&&(this.currentScreenSize=this.displayNameMap.get(Z)??"Unknown")})}ngOnInit(){this.form=this.formBuilder.group({id:[""],page:[""],tipo:[""],icon_imagen:[""],texto_boton:["",l.kI.required],descripcion:[""],enlace:["",l.kI.required],pagina_boton_padre:[""]}),this.inData.id&&this.form.patchValue(this.inData),this.inData.pagina_boton_padre&&this.form.patchValue({pagina_boton_padre:this.inData.pagina_boton_padre}),console.log(this.inData)}ngAfterViewInit(){("sm"==this.currentScreenSize||"xs"==this.currentScreenSize)&&this.resizeDialog()}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}guardar(){this.form.patchValue({page:this.inData.page,tipo:this.inData.tipo_boton}),this.paginaBotonService.guardarPaginaBoton(this.form.value).subscribe({next:e=>{this.cerrar()},error:e=>{if("form_validation"==e.error.error_type){for(const a in e.error.data)Object.prototype.hasOwnProperty.call(e.error.data,a);this.alertPanel.showError(e.error.message)}else this.alertPanel.showError(e.error.message);this.isSaving=!1}})}cancelarAccion(){this.cerrar()}cerrar(){this.dialogRef.close(this.savedData)}resizeDialog(){this.dialogMaxSize?(this.dialogRef.updateSize("80%","60%"),this.dialogMaxSize=!1):(this.dialogRef.updateSize("100%","100%"),this.dialogMaxSize=!0)}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(_.so),t.Y36(l.qu),t.Y36(u.Yg),t.Y36(_.WI),t.Y36(M))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-botones-edit"]],viewQuery:function(a,i){if(1&a&&t.Gf(b.G,5),2&a){let n;t.iGM(n=t.CRH())&&(i.alertPanel=n.first)}},standalone:!0,features:[t.jDz],decls:42,vars:8,consts:[[1,"flex-column",2,"height","100%","overflow","hidden","flex","1 1 0%",3,"keydown.escape"],[1,"dialog-toolbar"],[1,"flex-row"],[1,"label-info"],["mat-button","",3,"disabled","click"],[1,"hide-xs"],[1,"flex-fill"],["class","label-info screen-size-icon",4,"ngIf"],["mat-button","","class","boton-accion","tabindex","-1",3,"matTooltip","matTooltipPosition","click",4,"ngIf"],["mat-button","","tabindex","-1",1,"boton-accion","boton-cerrar",3,"click"],[3,"mode","color",4,"ngIf"],[1,"flex-fill","flex-column",2,"padding","8px","overflow","auto",3,"formGroup"],[1,"flex-fill","flex-column","flex-gap"],[1,"flex-column","flex-gap","xs-max-height-user-form",2,"padding","8px"],[1,"flex-row","flex-xs-column","flex-fill","flex-gap"],["appearance","fill",1,"flex-fill"],["type","text","matInput","","autocomplete","off","formControlName","icon_imagen","placeholder","ICON","required","","cdkFocusInitial",""],["type","text","matInput","","autocomplete","off","formControlName","texto_boton","placeholder","TEXTO","required",""],[4,"ngIf"],["type","text","matInput","","autocomplete","off","formControlName","descripcion","placeholder","TEXTO","required",""],["type","text","matInput","","autocomplete","off","formControlName","enlace","placeholder","ENLACE","required",""],[1,"label-info","screen-size-icon"],["mat-button","","tabindex","-1",1,"boton-accion",3,"matTooltip","matTooltipPosition","click"],[3,"mode","color"]],template:function(a,i){1&a&&(t.TgZ(0,"section",0),t.NdJ("keydown.escape",function(){return i.cancelarAccion()},!1,t.evT),t.TgZ(1,"section",1)(2,"div",2)(3,"div",3)(4,"mat-icon"),t._uU(5,"radio_button_checked"),t.qZA(),t._uU(6," BOTONES "),t.qZA(),t.TgZ(7,"button",4),t.NdJ("click",function(){return i.guardar()}),t.TgZ(8,"mat-icon"),t._uU(9),t.qZA(),t.TgZ(10,"span",5),t._uU(11,"\xa0Guardar"),t.qZA()(),t._UZ(12,"div",6),t.YNc(13,Ze,3,0,"div",7)(14,ve,3,3,"button",8),t.TgZ(15,"button",9),t.NdJ("click",function(){return i.cerrar()}),t.TgZ(16,"mat-icon"),t._uU(17,"close"),t.qZA()()()(),t.YNc(18,Se,1,2,"mat-progress-bar",10),t.TgZ(19,"section",11)(20,"div",12)(21,"mat-card",13)(22,"div",14)(23,"mat-form-field",15)(24,"mat-label"),t._uU(25,"ICON: "),t.qZA(),t._UZ(26,"input",16),t.qZA(),t.TgZ(27,"mat-form-field",15)(28,"mat-label"),t._uU(29,"TEXTO: "),t.qZA(),t._UZ(30,"input",17),t.YNc(31,Ae,2,0,"mat-error",18),t.qZA(),t.TgZ(32,"mat-form-field",15)(33,"mat-label"),t._uU(34,"DESCRIPCI\xd2N: "),t.qZA(),t._UZ(35,"input",19),t.YNc(36,we,2,0,"mat-error",18),t.qZA()(),t.TgZ(37,"div",14)(38,"mat-form-field",15)(39,"mat-label"),t._uU(40,"ENLACE: "),t.qZA(),t._UZ(41,"input",20),t.qZA()()()()()()),2&a&&(t.xp6(7),t.Q6J("disabled",i.isLoading||i.isSaving||!i.form.valid),t.xp6(2),t.Oqu(i.changesDetected?"save_as":"save"),t.xp6(4),t.Q6J("ngIf","xs"==i.currentScreenSize||"sm"==i.currentScreenSize),t.xp6(1),t.Q6J("ngIf","xs"!=i.currentScreenSize&&"sm"!=i.currentScreenSize),t.xp6(4),t.Q6J("ngIf",i.isLoading||i.isSaving),t.xp6(1),t.Q6J("formGroup",i.form),t.xp6(12),t.Q6J("ngIf",i.form.get("texto_boton").hasError("required")),t.xp6(5),t.Q6J("ngIf",i.form.get("descripcion").hasError("required")))},dependencies:[g.ez,g.O5,L.q,h.lW,v.Hw,S.Nt,d.KE,d.hX,d.TO,A.a8,I.gM,w.pW,l.UX,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u]})}return o})();var H=m(9038);function ye(o,r){if(1&o&&(t.TgZ(0,"mat-list-option",10),t._UZ(1,"i"),t._uU(2),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.Gre("'uil uil-",e.icon_imagen,""),t.xp6(1),t.hij(" ",e.texto_boton," ")}}function qe(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",7)(1,"div")(2,"mat-selection-list",8,9),t.NdJ("selectionChange",function(){t.CHM(e);const i=t.MAs(3),n=t.oxw();return t.KtG(n.verificarId(i.selectedOptions.selected[0].value))}),t.SjG(4,ye,3,5,"mat-list-option",11,t.x6l),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(2),t.Q6J("multiple",!1),t.xp6(2),t.wJu(e.arreglo)}}function Ue(o,r){1&o&&(t.TgZ(0,"div"),t._UZ(1,"mat-progress-bar",12),t.qZA())}let j=(()=>{class o{constructor(e,a,i){this.dialog=e,this.paginaBotonService=a,this.paginaService=i,this.padre_id=0,this.messageEvent=new t.vpe,this.arreglo=[],this.loading=!1}ngOnInit(){this.obtenerDatos(),this.subscription=this.paginaBotonService.change$.subscribe(e=>this.obtenerPadre(e))}ngOnDestroy(){this.subscription.unsubscribe()}obtenerPadre(e){3==this.tipo_boton&&e?(this.padre_id=e,this.paginaService.getButtonsHijos({id:e}).subscribe({next:a=>{this.arreglo=a.data},error:a=>{}})):3==this.tipo_boton&&(this.arreglo=[],this.padre_id=0)}verificarId(e){this.obj_seleccionado=e,this.sendId()}sendId(){this.messageEvent.emit(this.obj_seleccionado?this.obj_seleccionado.id:0)}obtenerDatos(){this.loading=!0,this.paginaService.getButtons({id:this.page}).subscribe({next:e=>{1==this.tipo_boton?this.arreglo=e.data:2==this.tipo_boton&&(this.arreglo=e.data_primario),this.loading=!1},error:e=>{this.loading=!1}})}addBoton(e){let a={maxWidth:"100%",width:"80%",height:"250px",disableClose:!0,data:{}};a.data.page=this.page,a.data.tipo_boton=this.tipo_boton,2==e&&(a.data.tipo=this.obj_seleccionado.tipo,a.data.id=this.obj_seleccionado.id,a.data.icon_imagen=this.obj_seleccionado.icon_imagen,a.data.texto_boton=this.obj_seleccionado.texto_boton,a.data.descripcion=this.obj_seleccionado.descripcion,a.data.enlace=this.obj_seleccionado.enlace,a.data.pagina_boton_padre=this.padre_id),this.padre_id&&(a.data.pagina_boton_padre=this.padre_id),this.dialog.open(De,a).afterClosed().subscribe(n=>{this.obtenerDatos(),2==this.tipo_boton&&(this.padre_id=0,this.obj_seleccionado={},this.messageEvent.emit(0)),this.obtenerPadre(this.padre_id)})}delBoton(){this.dialog.open(k.N,{width:"500px",data:{title:"Eliminar Registro",message:"Esta seguro de eliminar este registro?",hasOKBtn:!0,btnColor:"warn",btnText:"Eliminar",btnIcon:"delete"}}).afterClosed().subscribe(a=>{a&&this.paginaBotonService.eliminarPaginaBoton(this.obj_seleccionado.id).subscribe({next:i=>{this.obtenerDatos(),this.obtenerPadre(this.padre_id)},error:i=>{}})})}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(_.uw),t.Y36(M),t.Y36(J))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-botones"]],inputs:{botones:"botones",tipo_boton:"tipo_boton",page:"page",padre_id:"padre_id",texto_cabecera:"texto_cabecera"},outputs:{messageEvent:"messageEvent"},standalone:!0,features:[t.jDz],decls:16,vars:6,consts:[[1,"caja"],[1,"texto_cabecera"],[1,"botones-configuracion"],["mat-fab","","color","primary",3,"disabled","click"],["mat-fab","","color","accent",3,"disabled","click"],["class","columna",4,"ngIf"],[4,"ngIf"],[1,"columna"],[3,"multiple","selectionChange"],["btn",""],[1,"lista",3,"value"],["class","lista",3,"value"],["mode","indeterminate"]],template:function(a,i){1&a&&(t.TgZ(0,"div")(1,"div",0)(2,"div",1),t._uU(3),t.qZA(),t.TgZ(4,"div",2)(5,"button",3),t.NdJ("click",function(){return i.addBoton(1)}),t.TgZ(6,"mat-icon"),t._uU(7,"add"),t.qZA()(),t.TgZ(8,"button",3),t.NdJ("click",function(){return i.addBoton(2)}),t.TgZ(9,"mat-icon"),t._uU(10,"edit"),t.qZA()(),t.TgZ(11,"button",4),t.NdJ("click",function(){return i.delBoton()}),t.TgZ(12,"mat-icon"),t._uU(13,"delete"),t.qZA()()(),t.YNc(14,qe,6,1,"div",5)(15,Ue,2,0,"div",6),t.qZA()()),2&a&&(t.xp6(3),t.hij(" ",i.texto_cabecera," "),t.xp6(2),t.Q6J("disabled",3==i.tipo_boton&&0==i.padre_id),t.xp6(3),t.Q6J("disabled",!i.obj_seleccionado),t.xp6(3),t.Q6J("disabled",!i.obj_seleccionado),t.xp6(3),t.Q6J("ngIf",!i.loading),t.xp6(1),t.Q6J("ngIf",i.loading))},dependencies:[g.ez,g.O5,L.q,h.cs,v.Hw,H.Ub,H.vS,w.pW],styles:[".caja[_ngcontent-%COMP%]{border:1px dotted #CCCCCC;min-height:300px;font-size:10pt}.botones-configuracion[_ngcontent-%COMP%]{display:flex;justify-content:end;margin:10px}.botones-configuracion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 2px}.texto_cabecera[_ngcontent-%COMP%]{padding:10pt;background-color:#c8c8c880;color:#000;font-weight:700}.lista[_ngcontent-%COMP%]{text-align:left}"]})}return o})();function ke(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1,"IMAGEN"),t.qZA())}function Ie(o,r){if(1&o&&t._UZ(0,"img",26),2&o){const e=t.oxw();t.s9C("src",e.url_imagen,t.LSH)}}function Ne(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es obligatorio"),t.qZA())}function Ee(o,r){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es obligatorio"),t.qZA())}const Je=[{path:"",component:Y},{path:"temas",component:Y},{path:"paginas",component:xe},{path:"paginas/:id",component:(()=>{class o{constructor(e,a,i,n,s){this.formBuilder=e,this.paginaService=a,this.route=i,this.paginaBotonService=n,this.dialog=s,this.fileChangedEvent="",this.archivo=null,this.url_imagen=""}ngOnInit(){this.form=this.formBuilder.group({id:["",l.kI.required],iframe:[""],descripcion:[""]}),this.route.paramMap.subscribe(e=>{e.get("id")&&(this.id_pagina=e.get("id"),this.form.patchValue({id:this.id_pagina}),this.cargarData())})}cargarData(){this.paginaService.getPagina(this.id_pagina,{}).subscribe({next:e=>{console.log(e);let{data:a}=e,{imagen:i}=e;this.form.patchValue({iframe:a.iframe,descripcion:a.descripcion}),1==a.imagen&&(this.url_imagen="data:image/jpeg;base64,"+i)},error:e=>{}})}receiveId(e){this.sendIdPadre(e)}sendIdPadre(e){this.paginaBotonService.change$.next(e)}onFileSelected(e){if(this.fileChangedEvent=e,this.fileChangedEvent.target||this.fileChangedEvent.target.files.length||this.fileChangedEvent.target.files[0]){let a=this.fileChangedEvent.target.files[0];if(this.url_imagen=this.fileChangedEvent.target.srcResult,"image/png"==a.type||"image/gif"==a.type||"image/jpeg"==a.type){this.archivo=e.target.files[0];const n=new FileReader;n.onload=s=>this.url_imagen=n.result,n.readAsDataURL(a)}}}GuardarArchivo(){this.paginaService.ImportarFile(this.archivo,this.id_pagina).subscribe({next:e=>{},error:e=>{}})}EliminarArchivo(){this.dialog.open(k.N,{width:"500px",data:{title:"Eliminar Registro",message:"Esta seguro de eliminar este registro?",hasOKBtn:!0,btnColor:"warn",btnText:"Eliminar",btnIcon:"delete"}}).afterClosed().subscribe(a=>{a&&this.paginaService.eliminarImage(this.id_pagina).subscribe({next:i=>{this.url_imagen=""},error:i=>{}})})}guardaFrame(){this.paginaService.guardarFrame(this.form.value).subscribe({next:e=>{},error:e=>{}})}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(l.qu),t.Y36(J),t.Y36(D.gz),t.Y36(M),t.Y36(_.uw))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-pagina-edit"]],decls:49,vars:20,consts:[[1,"principal"],[1,"bloque-central-informacion"],[1,"informacion_default","separacion"],[1,"texto_cabecera"],[1,"img_demo"],[4,"ngIf"],["height","200px",3,"src",4,"ngIf"],[2,"margin","10px"],["type","button","mat-raised-button","",2,"margin-right","10px",3,"click"],["hidden","","type","file","id","file","accept","image/png, image/gif, image/jpeg",3,"change"],["fileInput",""],["mat-stroked-button","","color","warn",2,"margin-right","10px",3,"disabled","click"],["mat-stroked-button","","color","primary",3,"disabled","click"],[1,"informacion_default"],[1,"botones"],[3,"botones","tipo_boton","page","texto_cabecera"],[3,"botones","tipo_boton","page","texto_cabecera","messageEvent"],[1,"informacion_default",3,"formGroup"],[1,"flex-fill","flex-column",2,"padding","8px","overflow","auto","width","100%"],[1,"flex-fill","flex-column","flex-gap"],[1,"flex-column","flex-gap","xs-max-height-user-form"],[1,"flex-row","flex-xs-column","flex-fill","flex-gap"],["appearance","fill",1,"flex-fill"],["type","text","matInput","","autocomplete","off","formControlName","descripcion","placeholder","DESCRIPCION","cdkFocusInitial",""],["type","text","matInput","","autocomplete","off","formControlName","iframe","placeholder","IFRAME"],["mat-stroked-button","","color","primary",2,"padding","30px",3,"disabled","click"],["height","200px",3,"src"]],template:function(a,i){if(1&a){const n=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4," IMAGEN DE CABECERA "),t.qZA(),t.TgZ(5,"div",4),t.YNc(6,ke,2,0,"div",5)(7,Ie,1,1,"img",6),t.qZA(),t.TgZ(8,"div",7)(9,"button",8),t.NdJ("click",function(){t.CHM(n);const p=t.MAs(12);return t.KtG(p.click())}),t._uU(10,"ELEGIR IMAGEN"),t.qZA(),t.TgZ(11,"input",9,10),t.NdJ("change",function(p){return i.onFileSelected(p)}),t.qZA(),t.TgZ(13,"button",11),t.NdJ("click",function(){return i.EliminarArchivo()}),t.TgZ(14,"mat-icon"),t._uU(15,"delete"),t.qZA(),t.TgZ(16,"div"),t._uU(17,"ELIMINAR"),t.qZA()(),t.TgZ(18,"button",12),t.NdJ("click",function(){return i.GuardarArchivo()}),t.TgZ(19,"mat-icon"),t._uU(20,"save"),t.qZA(),t.TgZ(21,"div"),t._uU(22,"GUARDAR"),t.qZA()()()(),t.TgZ(23,"div",13)(24,"div",14),t._UZ(25,"app-botones",15),t.TgZ(26,"app-botones",16),t.NdJ("messageEvent",function(p){return i.receiveId(p)}),t.qZA(),t._UZ(27,"app-botones",15),t.qZA()(),t.TgZ(28,"div",17)(29,"section",18)(30,"div",19)(31,"mat-card",20)(32,"div",21)(33,"mat-form-field",22)(34,"mat-label"),t._uU(35,"DESCRIPCION: "),t.qZA(),t._UZ(36,"input",23),t.YNc(37,Ne,2,0,"mat-error",5),t.qZA()(),t.TgZ(38,"div",21)(39,"mat-form-field",22)(40,"mat-label"),t._uU(41,"IFRAME: "),t.qZA(),t._UZ(42,"input",24),t.YNc(43,Ee,2,0,"mat-error",5),t.qZA(),t.TgZ(44,"button",25),t.NdJ("click",function(){return i.guardaFrame()}),t.TgZ(45,"mat-icon"),t._uU(46,"save"),t.qZA(),t.TgZ(47,"div"),t._uU(48,"GUARDAR"),t.qZA()()()()()()()()()}2&a&&(t.xp6(6),t.Q6J("ngIf",""==i.url_imagen),t.xp6(1),t.Q6J("ngIf",""!=i.url_imagen),t.xp6(6),t.Q6J("disabled",""==i.url_imagen),t.xp6(5),t.Q6J("disabled",!i.archivo||""!=i.url_imagen),t.xp6(7),t.Q6J("botones",i.botonesInicial)("tipo_boton",1)("page",i.id_pagina)("texto_cabecera","BOTONES INICIALES"),t.xp6(1),t.Q6J("botones",i.botonesPrimarios)("tipo_boton",2)("page",i.id_pagina)("texto_cabecera","BOTONES PRIMARIOS"),t.xp6(1),t.Q6J("botones",i.botonesSecundarios)("tipo_boton",3)("page",i.id_pagina)("texto_cabecera","BOTONES SECUNDARIOS"),t.xp6(1),t.Q6J("formGroup",i.form),t.xp6(9),t.Q6J("ngIf",i.form.get("descripcion").hasError("required")),t.xp6(6),t.Q6J("ngIf",i.form.get("iframe").hasError("required")),t.xp6(1),t.Q6J("disabled",!i.form.valid))},dependencies:[g.O5,l.Fj,l.JJ,l.JL,h.lW,v.Hw,S.Nt,d.KE,d.hX,d.TO,A.a8,l.sg,l.u,j],styles:[".principal[_ngcontent-%COMP%]{width:100vw;display:flex;justify-content:center;flex-direction:column;align-items:center;align-content:center}.informacion_default[_ngcontent-%COMP%]{width:100%;text-align:center}.img_demo[_ngcontent-%COMP%]{width:100%;border:3px dotted #CCCCCC;height:200px;text-align:center;color:#ccc;display:flex;justify-content:center;flex-direction:column;align-content:center}.botones[_ngcontent-%COMP%]{column-count:3}.texto_cabecera[_ngcontent-%COMP%]{padding:10pt;background-color:#c8c8c880;color:#000;font-weight:700}.separacion[_ngcontent-%COMP%]{margin-bottom:30px}"]})}return o})()},{path:"**",redirectTo:""}];let Me=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[D.Bz.forChild(Je),D.Bz]})}return o})();var Qe=m(6208);let Re=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[g.ez,Qe.m,D.Bz,j,Me]})}return o})()}}]);