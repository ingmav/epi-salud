"use strict";(self.webpackChunkbase_platform=self.webpackChunkbase_platform||[]).push([[300],{300:(at,y,l)=>{l.r(y),l.d(y,{DevToolsModule:()=>nt});var c=l(6814),f=l(1896),Z=l(9560),t=l(9212);const x=[{path:"",component:Z.E,loadChildren:()=>Promise.resolve().then(l.bind(l,9115)).then(a=>a.SysLogErrorsModule)}];let T=(()=>{class a{static#t=this.\u0275fac=function(e){return new(e||a)};static#e=this.\u0275mod=t.oAB({type:a});static#o=this.\u0275inj=t.cJS({imports:[f.Bz.forChild(x),f.Bz]})}return a})();var g=l(6825),M=l(217),_=l(553),p=l(7398),R=l(1474);let A=(()=>{class a{constructor(o){this.http=o,this.url_execute_reporter=`${_.N.base_url}/dev-tools/ejecutar-query`,this.url_export_reporter=`${_.N.base_url}/dev-tools/exportar-query`}ejecutarReporte(o){return this.http.get(this.url_execute_reporter,{params:o}).pipe((0,p.U)(e=>e))}exportarReporte(o){return this.http.get(this.url_export_reporter,{params:o,responseType:"blob"})}static#t=this.\u0275fac=function(e){return new(e||a)(t.LFG(R.eN))};static#e=this.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var C=l(8518),v=l(6223),U=l(2296),L=l(617),q=l(2032),Q=l(9157),O=l(5195),d=l(5313);function J(a,n){if(1&a){const o=t.EpF();t.TgZ(0,"div")(1,"mat-form-field",31)(2,"mat-label"),t._uU(3,"Query"),t.qZA(),t.TgZ(4,"textarea",32),t.NdJ("ngModelChange",function(i){t.CHM(o);const r=t.oxw();return t.KtG(r.execQuery=i)}),t.qZA()()()}if(2&a){const o=t.oxw();t.xp6(4),t.Q6J("ngModel",o.execQuery)}}function b(a,n){if(1&a){const o=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){t.CHM(o);const i=t.oxw();return t.KtG(i.execQuery="")}),t._uU(1," Limpiar Query "),t.qZA()}if(2&a){const o=t.oxw();t.Q6J("disabled",!o.execQuery),t.uIk("aria-label","Clean Query")("aria-pressed","cleanQuery")}}function u(a,n){if(1&a){const o=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(o);const i=t.oxw();return t.KtG(i.hideQuery=!0)}),t.TgZ(1,"mat-icon"),t._uU(2,"remove_red_eye"),t.qZA(),t._uU(3," Ocultar Query "),t.qZA()}if(2&a){const o=t.oxw();t.Q6J("disabled",!o.execQuery),t.uIk("aria-label","Hide Query")("aria-pressed","hideQuery")}}function P(a,n){if(1&a){const o=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){t.CHM(o);const i=t.oxw();return t.KtG(i.hideQuery=!1)}),t.TgZ(1,"mat-icon"),t._uU(2,"edit"),t.qZA(),t._uU(3," Editar Query "),t.qZA()}if(2&a){const o=t.oxw();t.Q6J("disabled",!o.execQuery),t.uIk("aria-label","Edit Query")("aria-pressed","editQuery")}}function k(a,n){1&a&&(t.TgZ(0,"mat-icon"),t._uU(1,"archive"),t.qZA())}function m(a,n){if(1&a&&(t.TgZ(0,"th",38),t._uU(1),t.qZA()),2&a){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o," ")}}function S(a,n){if(1&a&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&a){const o=n.$implicit,e=t.oxw().$implicit;t.xp6(1),t.hij(" ",o[e]," ")}}function F(a,n){1&a&&(t.ynx(0,35),t.YNc(1,m,2,1,"th",36)(2,S,2,1,"td",37),t.BQk()),2&a&&t.Q6J("matColumnDef",n.$implicit)}function N(a,n){if(1&a&&(t.TgZ(0,"td",40)(1,"span"),t._uU(2,"No se encontraron registros "),t.qZA()()),2&a){const o=t.oxw();t.uIk("colspan",o.displayedColumns.length)}}function I(a,n){if(1&a&&(t.TgZ(0,"td",40)(1,"span"),t._uU(2,"--| Cargando Resultados |--"),t.qZA()()),2&a){const o=t.oxw();t.uIk("colspan",o.displayedColumns.length)}}function j(a,n){if(1&a&&(t.TgZ(0,"td",40)(1,"span"),t._uU(2),t.qZA()()),2&a){const o=t.oxw();t.uIk("colspan",o.displayedColumns.length),t.xp6(2),t.Oqu(o.errorMessage)}}function E(a,n){1&a&&t._UZ(0,"tr",41)}function z(a,n){1&a&&t._UZ(0,"tr",42)}const D=a=>({hide:a});function Y(a,n){if(1&a&&t._UZ(0,"tr",43),2&a){const o=t.oxw();t.Q6J("ngClass",t.VKq(1,D,!(null!=o.dataSource&&0==o.dataSource.length)||o.isLoading||o.errorMessage))}}function B(a,n){if(1&a&&t._UZ(0,"tr",43),2&a){const o=t.oxw();t.Q6J("ngClass",t.VKq(1,D,!o.isLoading))}}function H(a,n){if(1&a&&t._UZ(0,"tr",44),2&a){const o=t.oxw();t.Q6J("ngClass",t.VKq(1,D,!o.errorMessage))}}const K=()=>["noResultsFound"],G=()=>["loadingResults"],$=()=>["executionError"],w=[{path:"dev-tools/mysql-reportes",component:(()=>{class a{constructor(o,e){this.reporterService=o,this.sharedService=e,this.isLoadingExcel=!1,this.totalResults=0,this.totalColumns=0,this.execTime=0,this.hideQuery=!1,this.savedQueryLoaded=!1,this.limitQuery=100,this.dataSource=[],this.displayedColumns=[],this.pageSize=20,this.currentPage=0,this.resultsLength=0,this.paginarResultados=!1}ngOnInit(){this.isLoading=!1}loadResultsData(o){}clearResults(o=!1){this.errorMessage=void 0,this.dataSource=[],this.displayedColumns=[],this.totalColumns=0,this.totalResults=0,this.execTime=0,o||(this.hideQuery=!1)}executeQuery(){this.isLoading=!0,this.clearResults(this.hideQuery),this.reporterService.ejecutarReporte({query:this.execQuery,limit:this.limitQuery}).subscribe({next:o=>{console.log(o),this.displayedColumns=o.columns,this.totalColumns=o.columns.length,this.totalResults=o.data.length,this.execTime=o.exec_time,o.data.length<=500?(this.dataSource=o.data,this.hideQuery=!0):this.errorMessage="Son demasiados resultados para mostrarlos en el navegador",this.isLoading=!1},error:o=>{this.errorMessage=o.error.error,this.sharedService.showSnackBar("Status: "+o.status+": "+this.errorMessage,"Cerrar",5e3),this.isLoading=!1},complete:()=>{this.sharedService.showSnackBar("\xa1Consulta Completada!","Cerrar",3e3)}})}downloadReport(){this.isLoadingExcel=!0,this.reporterService.exportarReporte({query:this.execQuery}).subscribe({next:o=>{M.saveAs(o,"reporte"),this.isLoadingExcel=!1},error:o=>{this.errorMessage="Ocurrio un error al intentar descargar el archivo",this.isLoadingExcel=!1},complete:()=>{console.log(this.execQuery)}})}static#t=this.\u0275fac=function(e){return new(e||a)(t.Y36(A),t.Y36(C.F))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["mysql-reporter"]],decls:53,vars:28,consts:[[1,"flex-column","flex-gap",2,"width","100%","padding","8px"],[4,"ngIf"],[1,"flex-row","flex-gap",2,"align-items","center"],["appearance","outline",1,"small-search-input"],["matInput","","type","number","placeholder","Limit",3,"ngModel","ngModelChange"],[1,"flex-fill"],[1,"flex-row","flex-gap","action-panel"],[1,"flex-row","flex-gap"],["mat-raised-button","",3,"disabled","click",4,"ngIf"],["mat-button","",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","info",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","accent",3,"disabled","click"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"flex-row","flex-gap","info-results"],[1,"item","flex-fill"],[1,"item"],["mat-raised-button","",3,"disabled","click"],[1,"table-card","flex-fill"],[1,"flex-column",2,"height","100%"],[1,"main-list-table","flex-fill"],["mat-table","",3,"dataSource"],["reultsTable",""],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","noResultsFound"],["mat-footer-cell","","class","no-results-found",4,"matFooterCellDef"],["matColumnDef","loadingResults"],["matColumnDef","executionError"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","","class","not-results-found",3,"ngClass",4,"matFooterRowDef"],["mat-footer-row","","class","execution-error",3,"ngClass",4,"matFooterRowDef"],["appearance","outline",1,"dense-form-field",2,"width","100%"],["matInput","","placeholder","Query a ejecutar","rows","5",3,"ngModel","ngModelChange"],["mat-button","",3,"disabled","click"],["mat-raised-button","","color","info",3,"disabled","click"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-footer-cell","",1,"no-results-found"],["mat-header-row",""],["mat-row",""],["mat-footer-row","",1,"not-results-found",3,"ngClass"],["mat-footer-row","",1,"execution-error",3,"ngClass"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-card",0),t.YNc(1,J,5,1,"div",1),t.TgZ(2,"div",2)(3,"span"),t._uU(4,"Limit:"),t.qZA(),t.TgZ(5,"div")(6,"mat-form-field",3)(7,"input",4),t.NdJ("ngModelChange",function(s){return i.limitQuery=s}),t.qZA()()(),t.TgZ(8,"span"),t._uU(9,"*solo para resultados en el navegador"),t.qZA(),t._UZ(10,"div",5),t.qZA(),t.TgZ(11,"div",6)(12,"section",7),t.YNc(13,b,2,3,"button",8)(14,u,4,3,"button",9)(15,P,4,3,"button",10),t.qZA(),t._UZ(16,"div",5),t.TgZ(17,"button",11),t.NdJ("click",function(){return i.executeQuery()}),t.TgZ(18,"mat-icon"),t._uU(19),t.qZA(),t._uU(20),t.qZA(),t.TgZ(21,"button",12),t.NdJ("click",function(){return i.downloadReport()}),t.YNc(22,k,2,0,"mat-icon",1),t._uU(23),t.qZA()()(),t.TgZ(24,"section",13)(25,"section",14),t._uU(26),t.qZA(),t.TgZ(27,"section",14),t._uU(28),t.qZA(),t.TgZ(29,"section",14),t._uU(30),t.qZA(),t.TgZ(31,"section",15)(32,"button",16),t.NdJ("click",function(){return i.clearResults()}),t.TgZ(33,"mat-icon"),t._uU(34,"backspace"),t.qZA(),t._uU(35," Limpiar Resultados"),t.qZA()()(),t.TgZ(36,"mat-card",17)(37,"div",18)(38,"div",19)(39,"table",20,21),t.YNc(41,F,3,1,"ng-container",22),t.ynx(42,23),t.YNc(43,N,3,1,"td",24),t.BQk(),t.ynx(44,25),t.YNc(45,I,3,1,"td",24),t.BQk(),t.ynx(46,26),t.YNc(47,j,3,2,"td",24),t.BQk(),t.YNc(48,E,1,0,"tr",27)(49,z,1,0,"tr",28)(50,Y,1,3,"tr",29)(51,B,1,3,"tr",29)(52,H,1,3,"tr",30),t.qZA()()()()),2&e&&(t.xp6(1),t.Q6J("ngIf",!i.hideQuery),t.xp6(6),t.Q6J("ngModel",i.limitQuery),t.xp6(6),t.Q6J("ngIf",!i.hideQuery),t.xp6(1),t.Q6J("ngIf",!i.hideQuery&&i.dataSource.length>0),t.xp6(1),t.Q6J("ngIf",i.hideQuery),t.xp6(2),t.Q6J("disabled",!i.execQuery),t.xp6(2),t.Oqu(i.hideQuery?"refresh":"play_arrow"),t.xp6(1),t.hij(" ",i.hideQuery?"Recargar":"Ejecutar"," "),t.xp6(1),t.ekj("button-spinner",i.isLoadingExcel),t.Q6J("disabled",!i.execQuery||i.isLoadingExcel),t.xp6(1),t.Q6J("ngIf",!i.isLoadingExcel),t.xp6(1),t.hij(" ",i.isLoadingExcel?"Generando...":"Descargar"," "),t.xp6(3),t.hij("Total Resultados: ",i.totalResults,""),t.xp6(2),t.hij("No de Columnas: ",i.totalColumns,""),t.xp6(2),t.hij("Tiempo de Ejecuci\xf3n: ",i.execTime,""),t.xp6(2),t.Q6J("disabled",0==i.dataSource.length&&0==i.totalColumns),t.xp6(7),t.Q6J("dataSource",i.dataSource),t.xp6(2),t.Q6J("ngForOf",i.displayedColumns),t.xp6(7),t.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("matFooterRowDef",t.DdM(25,K)),t.xp6(1),t.Q6J("matFooterRowDef",t.DdM(26,G)),t.xp6(1),t.Q6J("matFooterRowDef",t.DdM(27,$)))},dependencies:[c.mk,c.sg,c.O5,v.Fj,v.wV,v.JJ,v.On,U.lW,L.Hw,q.Nt,Q.KE,Q.hX,O.a8,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.mD,d.Ke,d.ge,d.ev,d.yh,d.XQ,d.Gk,d.Q2],styles:[".results-table-container[_ngcontent-%COMP%]{overflow:auto}.results-table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.results-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#000;color:#fff;padding:5px;text-align:center}.info-results[_ngcontent-%COMP%]{align-items:center}.info-results[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding:10px}.execution-error[_ngcontent-%COMP%]{text-align:center;font-style:italic}.execution-error[_ngcontent-%COMP%]   .mat-footer-cell[_ngcontent-%COMP%]{color:red!important}.not-results-found[_ngcontent-%COMP%]{text-align:center;font-style:italic}table.results-table[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin:0 auto}.loading-results[_ngcontent-%COMP%]{width:100%;top:0;left:0;right:0;background:rgba(0,0,0,.15);text-align:center;font-style:italic}.loading-results[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin:0 auto}.action-panel[_ngcontent-%COMP%]{padding-top:8px;border-top:1px solid rgba(0,0,0,.15)}"],data:{animation:[(0,g.X$)("buttonInOut",[(0,g.eR)("void => *",[(0,g.oB)({opacity:0}),(0,g.jt)(300,(0,g.oB)({opacity:1}))]),(0,g.eR)("* => void",[(0,g.jt)(300,(0,g.oB)({opacity:0}))])])]}})}return a})(),canActivate:[l(7402).a]}];let V=(()=>{class a{static#t=this.\u0275fac=function(e){return new(e||a)};static#e=this.\u0275mod=t.oAB({type:a});static#o=this.\u0275inj=t.cJS({imports:[f.Bz.forChild(w),f.Bz]})}return a})();var tt=l(6208);let et=(()=>{class a{static#t=this.\u0275fac=function(e){return new(e||a)};static#e=this.\u0275mod=t.oAB({type:a});static#o=this.\u0275inj=t.cJS({imports:[c.ez,tt.m,V]})}return a})();var ot=l(9115);let nt=(()=>{class a{static#t=this.\u0275fac=function(e){return new(e||a)};static#e=this.\u0275mod=t.oAB({type:a});static#o=this.\u0275inj=t.cJS({imports:[c.ez,T,et,ot.SysLogErrorsModule]})}return a})()},9560:(at,y,l)=>{l.d(y,{E:()=>a});var c=l(6814),f=l(5499),Z=l(7700),t=l(9212),x=l(553),T=l(7398),g=l(1474);let M=(()=>{class n{constructor(e){this.http=e,this.url=`${x.N.base_url}/dev-tools/sys-log-errors`}obtenerListaRegistros(e){return this.http.get(this.url,{params:e}).pipe((0,T.U)(i=>i))}getLog(e){return this.http.get(this.url+"/"+e,{}).pipe((0,T.U)(i=>i))}static#t=this.\u0275fac=function(i){return new(i||n)(t.LFG(g.eN))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _=l(2296),p=l(617),R=l(5195),A=l(2596),C=l(6007);function v(n,o){if(1&n&&(t.TgZ(0,"div",8)(1,"div",9),t._uU(2),t.qZA(),t.TgZ(3,"div",10),t._uU(4),t.ALo(5,"date"),t.qZA(),t._UZ(6,"div",11),t.TgZ(7,"div",12),t._uU(8),t.qZA(),t._UZ(9,"div",11),t.TgZ(10,"div",10),t._uU(11),t.qZA(),t._UZ(12,"div",11),t.TgZ(13,"div",10),t._uU(14),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.hij(" ",e.logData.id," "),t.xp6(2),t.hij(" ",t.xi3(5,6,e.logData.created_at,"MMMM d, y - h:mm a")," "),t.xp6(3),t.Q6J("matTooltip",e.logData.usuario.name+" : "+e.logData.logged_user_id),t.xp6(1),t.hij(" ",e.logData.usuario.username," "),t.xp6(3),t.hij(" ",e.logData.ip," "),t.xp6(3),t.hij(" C\xf3digo: ",e.logData.code," ")}}function U(n,o){1&n&&t._UZ(0,"mat-progress-bar",13),2&n&&t.Q6J("color","primary")}function L(n,o){if(1&n&&(t.TgZ(0,"div",31)(1,"pre")(2,"p"),t._uU(3),t.ALo(4,"json"),t.qZA()()()),2&n){const e=o.$implicit;t.xp6(3),t.Oqu(t.lcZ(4,1,e))}}function q(n,o){if(1&n&&(t.TgZ(0,"mat-card",32)(1,"div",27),t._uU(2,"Parametros:"),t.qZA(),t.TgZ(3,"div",33)(4,"pre")(5,"p"),t._uU(6),t.ALo(7,"json"),t.qZA()()()()),2&n){const e=t.oxw(2);t.xp6(6),t.Oqu(t.lcZ(7,1,e.logData.parameters))}}function Q(n,o){if(1&n&&(t.TgZ(0,"section",14)(1,"mat-card",15)(2,"div",16)(3,"div",17)(4,"span",18),t._uU(5,"Metodo:"),t.qZA(),t.TgZ(6,"span",19),t._uU(7),t.qZA()(),t.TgZ(8,"div",20)(9,"span",18),t._uU(10,"Url:"),t.qZA(),t.TgZ(11,"span",21),t._uU(12),t.qZA(),t.TgZ(13,"span",22),t._uU(14),t.qZA()()(),t.TgZ(15,"div",16)(16,"div",20)(17,"span",18),t._uU(18,"Archivo:"),t.qZA(),t.TgZ(19,"span",21),t._uU(20),t.qZA(),t.TgZ(21,"span",22),t._uU(22),t.qZA()()(),t.TgZ(23,"div",23)(24,"div",20)(25,"span",18),t._uU(26,"Cliente:"),t.qZA(),t.TgZ(27,"span",19),t._uU(28),t.qZA()()(),t.TgZ(29,"div",16)(30,"div",20)(31,"span",18),t._uU(32,"Mensaje:"),t.qZA(),t.TgZ(33,"span",24),t._uU(34),t.qZA()()()(),t.TgZ(35,"section",25)(36,"mat-card",26)(37,"div",27),t._uU(38,"Trace Log:"),t.qZA(),t.TgZ(39,"div",28),t.YNc(40,L,5,3,"div",29),t.qZA()(),t.YNc(41,q,8,3,"mat-card",30),t.qZA()()),2&n){const e=t.oxw();t.xp6(7),t.Oqu(e.logData.method),t.xp6(5),t.Oqu(e.logData.url),t.xp6(2),t.Oqu(e.logData.url.replaceAll("/","-")),t.xp6(6),t.AsE("",e.logData.file,"\xa0(",e.logData.line,")"),t.xp6(2),t.AsE("",e.logData.file.substring(e.logData.file.lastIndexOf("\\")+1),"\xa0(",e.logData.line,")"),t.xp6(6),t.Oqu(e.logData.browser_info),t.xp6(6),t.Oqu(e.logData.message),t.xp6(6),t.Q6J("ngForOf",e.logData.trace),t.xp6(1),t.Q6J("ngIf",e.logData.parameters)}}let O=(()=>{class n{constructor(e,i,r){this.sysLogErrorsService=e,this.dialogRef=i,this.data=r}ngOnInit(){this.isLoading=!0,this.sysLogErrorsService.getLog(this.data.id).subscribe({next:e=>{console.log(e),e.error||(this.logData=e.data),this.isLoading=!1},error:e=>{this.isLoading=!1}})}resizeDialog(){this.dialogMaxSize?(this.dialogRef.updateSize("90%","80%"),this.dialogMaxSize=!1):(this.dialogRef.updateSize("100%","100%"),this.dialogMaxSize=!0)}cerrar(){this.dialogRef.close()}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(M),t.Y36(Z.so),t.Y36(Z.WI))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-dialogo-detalles-log"]],decls:12,vars:4,consts:[[1,"flex-column",2,"height","100%","overflow","hidden","flex","1 1 0%"],[1,"dialog-toolbar"],[1,"flex-row"],["class","flex-fill flex-row label-info",4,"ngIf"],["mat-button","",1,"boton-accion",3,"click"],["mat-button","",1,"boton-accion","boton-cerrar",3,"click"],["mode","indeterminate",3,"color",4,"ngIf"],["class","flex-fill flex-column flex-gap","style","padding:8px;",4,"ngIf"],[1,"flex-fill","flex-row","label-info"],[1,"label-folio"],[1,"label-data","hide-xs"],[1,"flex-fill"],[1,"label-data","hide-xs",3,"matTooltip"],["mode","indeterminate",3,"color"],[1,"flex-fill","flex-column","flex-gap",2,"padding","8px"],[1,"flex-row","flex-wrap","flex-gap","info-panel"],[1,"flex-row",2,"width","100%"],[1,"fake-input","hide-xs"],[1,"label"],[1,"value"],[1,"flex-fill","fake-input"],[1,"value","hide-xs"],[1,"value","hide-gt-xs"],[1,"flex-row","hide-xs",2,"width","100%"],[1,"value-text"],[1,"flex-fill","flex-column","flex-gap","debug-panel"],[1,"flex-fill","flex-column","trace-panel"],[1,"title"],[1,"flex-fill","flex-column","content"],["class","item",4,"ngFor","ngForOf"],["class","flex-fill flex-column parameters-panel",4,"ngIf"],[1,"item"],[1,"flex-fill","flex-column","parameters-panel"],[1,"flex-fill","content"]],template:function(i,r){1&i&&(t.TgZ(0,"section",0)(1,"section",1)(2,"div",2),t.YNc(3,v,15,9,"div",3),t.TgZ(4,"button",4),t.NdJ("click",function(){return r.resizeDialog()}),t.TgZ(5,"mat-icon"),t._uU(6),t.qZA()(),t.TgZ(7,"button",5),t.NdJ("click",function(){return r.cerrar()}),t.TgZ(8,"mat-icon"),t._uU(9,"close"),t.qZA()()(),t.YNc(10,U,1,1,"mat-progress-bar",6),t.qZA(),t.YNc(11,Q,42,11,"section",7),t.qZA()),2&i&&(t.xp6(3),t.Q6J("ngIf",r.logData),t.xp6(3),t.Oqu(r.dialogMaxSize?"fit_screen":"fullscreen"),t.xp6(4),t.Q6J("ngIf",r.isLoading),t.xp6(1),t.Q6J("ngIf",r.logData))},dependencies:[c.sg,c.O5,_.lW,p.Hw,R.a8,A.gM,C.pW,c.Ts,c.uU],styles:[".fondo-btn[_ngcontent-%COMP%]{background-color:#0000000a}.label-folio[_ngcontent-%COMP%]{padding:5px 10px;border-radius:4px;background-color:#ffffff80}.label-data[_ngcontent-%COMP%]{padding:5px 10px;margin:0 10px;border:1px solid gray}.debug-panel[_ngcontent-%COMP%]{overflow:hidden}.parameters-panel[_ngcontent-%COMP%]{color:#5f9ea0;background-color:#0d2526;padding:0;height:0;border:1px solid hsl(182,50%,80%)}.parameters-panel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:8px;border-bottom:1px solid hsl(182,50%,80%)}.parameters-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:8px;font-size:small;overflow:auto}.trace-panel[_ngcontent-%COMP%]{padding:0;overflow:hidden;border:1px solid darkslategray;height:0}.trace-panel[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;background-color:#d3d3d3;color:#2f4f4f;padding:8px}.trace-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:small;overflow:auto}.trace-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding:5px;border-bottom:1px solid lightgrey}.trace-panel[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{background-color:#f2f2f2;font-weight:600}.label-info[_ngcontent-%COMP%]{cursor:default;font-weight:500;display:flex;justify-content:center;align-items:center;padding-right:5px;padding-left:5px}.label-info[_ngcontent-%COMP%]   .estatus-icon[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:6px;margin-right:8px}.info-panel[_ngcontent-%COMP%]{background-color:#696969;padding:8px}.fake-input[_ngcontent-%COMP%]{border-radius:4px;padding:.5em;font-size:inherit;font-weight:400;line-height:1.125;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:normal;color:#ffffffde;cursor:default}.fake-input[_ngcontent-%COMP%]:hover{background-color:#ffffff26}.fake-input[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;font-size:small;color:#ffffff8a;white-space:nowrap}.fake-input[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{display:block;border-bottom:1px solid rgba(255,255,255,.42);white-space:nowrap;padding:0 5px}.fake-input[_ngcontent-%COMP%]   .value-text[_ngcontent-%COMP%]{display:block;border-bottom:1px solid rgba(255,255,255,.42);padding:0 5px}"]})}return n})();var d=l(6223),J=l(2032),b=l(9157),u=l(5313),P=l(1476),k=l(3566),m=l(8034);function S(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"span",43)(1,"button",44),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.limpiarCampoFechas())}),t.TgZ(2,"mat-icon"),t._uU(3,"clear"),t.qZA()()()}}function F(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",45),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.filtro.query="")}),t.TgZ(1,"mat-icon"),t._uU(2,"close"),t.qZA()()}2&n&&t.uIk("aria-label","Clean Query")("aria-pressed","cleanQuery")}function N(n,o){1&n&&(t.TgZ(0,"th",46),t._uU(1," Folio "),t.qZA())}function I(n,o){if(1&n&&(t.TgZ(0,"td",47),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.id,"3.0"))}}function j(n,o){1&n&&(t.TgZ(0,"th",48),t._uU(1," Archivo (linea) "),t.qZA())}function E(n,o){if(1&n&&(t.TgZ(0,"td",49)(1,"span",50)(2,"span",51),t._uU(3),t.qZA(),t._uU(4),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"span",52),t._uU(7),t.TgZ(8,"span",53),t._uU(9),t.qZA()()()),2&n){const e=o.$implicit;t.xp6(3),t.Oqu(e.method),t.xp6(1),t.hij("\xa0",e.url,""),t.xp6(3),t.hij("",e.file,"\xa0"),t.xp6(2),t.hij("(",e.line,")")}}function z(n,o){1&n&&(t.TgZ(0,"th",54),t._uU(1," Mensaje "),t.qZA())}function D(n,o){if(1&n&&(t.TgZ(0,"td",55),t._uU(1),t.TgZ(2,"span",56),t._uU(3),t.TgZ(4,"span",53),t._uU(5),t.qZA()()()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e.message," "),t.xp6(2),t.hij("",e.file.substring(e.file.lastIndexOf("\\")+1),"\xa0"),t.xp6(2),t.hij("(",e.line,")")}}function Y(n,o){1&n&&(t.TgZ(0,"th",48),t._uU(1," Usuario "),t.qZA())}function B(n,o){if(1&n&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e.usuario.username," ")}}function H(n,o){1&n&&(t.TgZ(0,"th",46),t._uU(1," Fecha "),t.qZA())}function K(n,o){if(1&n&&(t.TgZ(0,"td",58)(1,"span"),t._uU(2),t.ALo(3,"date"),t.qZA(),t._UZ(4,"br"),t.TgZ(5,"span"),t._uU(6),t.ALo(7,"date"),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.Oqu(t.xi3(3,2,e.created_at,"d/M/y")),t.xp6(4),t.Oqu(t.xi3(7,5,e.created_at,"h:mm a"))}}function G(n,o){if(1&n&&(t.TgZ(0,"td",59),t._uU(1," --| Cargando Registros |-- "),t._UZ(2,"mat-progress-bar",60),t.qZA()),2&n){const e=t.oxw();t.uIk("colspan",e.displayedColumns.length)}}function $(n,o){if(1&n&&(t.TgZ(0,"td",59),t._uU(1," No se encontraron registros "),t.qZA()),2&n){const e=t.oxw();t.uIk("colspan",e.displayedColumns.length)}}function W(n,o){1&n&&t._UZ(0,"tr",61)}function X(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"tr",62),t.NdJ("click",function(){const s=t.CHM(e).$implicit,h=t.oxw();return t.KtG(h.mostrarDetalles(s.id))}),t.qZA()}}const w=n=>({hide:n});function V(n,o){if(1&n&&t._UZ(0,"tr",63),2&n){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,w,!(null!=e.listadoResultados&&0==e.listadoResultados.length&&!e.isLoading)))}}function tt(n,o){if(1&n&&t._UZ(0,"tr",63),2&n){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,w,!e.isLoading))}}const et=()=>["noResultsFound"],ot=()=>["loadingResults"],nt=()=>[20,50,100];let a=(()=>{class n{constructor(e,i,r){this.sysLogErrorsService=e,this.dialog=i,this.datePipe=r,this.resultsLength=0,this.currentPage=0,this.pageSize=20,this.listadoResultados=[],this.displayedColumns=["id","archivo","mensaje","usuario","fecha"]}ngOnInit(){this.isLoading=!0,this.filtro={rango_fechas:{inicio:"",fin:""},query:""},this.loadResultados()}loadResultados(e){this.isLoading=!0;let i={};return this.filtro.query&&(i.query=this.filtro.query),this.filtro.rango_fechas.inicio&&(i.fecha_inicio=this.datePipe.transform(this.filtro.rango_fechas.inicio,"yyyy-MM-dd"),i.fecha_fin=this.datePipe.transform(this.filtro.rango_fechas.fin,"yyyy-MM-dd")),e?(i.page=e.pageIndex+1,i.per_page=e.pageSize):(i.page=1,i.per_page=this.pageSize),this.resultsLength=0,this.listadoResultados=[],this.sysLogErrorsService.obtenerListaRegistros(i).subscribe({next:r=>{r.error||r.total>0&&(this.listadoResultados=r.data,this.resultsLength=r.total),this.isLoading=!1},error:r=>{var s="Ocurri\xf3 un error.";409==r.status&&(s=r.error.message),this.alertPanel.showError(s),this.isLoading=!1}}),e}mostrarDetalles(e){this.dialog.open(O,{width:"90%",height:"80%",maxWidth:"100%",data:{id:e},panelClass:"no-padding-dialog"})}checarFechasFiltro(){this.filtro.rango_fechas.inicio&&!this.filtro.rango_fechas.fin&&(this.filtro.rango_fechas.fin=this.filtro.rango_fechas.inicio)}limpiarCampoFechas(){this.filtro.rango_fechas={inicio:"",fin:""}}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(M),t.Y36(Z.uw),t.Y36(c.uU))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-lista"]],viewQuery:function(i,r){if(1&i&&t.Gf(f.G,5),2&i){let s;t.iGM(s=t.CRH())&&(r.alertPanel=s.first)}},features:[t._Bn([c.uU])],decls:59,vars:20,consts:[[1,"flex-row","flex-xs-column","flex-gap","module-search-bar","xs-unlock-height"],[1,"flex-xs-fill"],["appearance","fill",2,"width","100%"],["matPrefix","",4,"ngIf"],[3,"rangePicker"],["matStartDate","","placeholder","Inicio","readonly","",3,"ngModel","ngModelChange"],["matEndDate","","placeholder","Fin","readonly","",3,"ngModel","ngModelChange"],["matSuffix","",3,"for"],["disabled","false"],["rangePicker",""],["mat-button","","matDateRangePickerCancel",""],["mat-raised-button","","color","primary","matDateRangePickerApply","",3,"click"],[1,"flex-fill","flex-row"],["matInput","","type","text","placeholder","Buscar Folio","autocomplete","off",3,"ngModel","ngModelChange","keyup.enter"],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[1,"table-card","flex-fill"],[1,"flex-column",2,"height","100%"],[1,"main-list-table","left-click-open","flex-fill"],["mat-table","","matSort","",3,"dataSource"],["dataTable",""],["matColumnDef","id"],["mat-header-cell","","width","1",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center;",4,"matCellDef"],["matColumnDef","archivo"],["mat-header-cell","","class","hide-xs","width","1",4,"matHeaderCellDef"],["mat-cell","","class","hide-xs","style","text-align: left;",4,"matCellDef"],["matColumnDef","mensaje"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","usuario"],["mat-header-cell","","width","1","class","hide-xs",4,"matHeaderCellDef"],["mat-cell","","class","hide-xs","style","text-align: center; white-space: nowrap;",4,"matCellDef"],["matColumnDef","fecha"],["mat-cell","","style","white-space: nowrap; text-align: center;",4,"matCellDef"],["matColumnDef","loadingResults"],["mat-footer-cell","","class","no-results-found",4,"matFooterCellDef"],["matColumnDef","noResultsFound"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",3,"ngClass",4,"matFooterRowDef"],["showFirstLastButtons","",3,"pageSize","pageIndex","length","pageSizeOptions","page"],["paginator",""],["matPrefix",""],["mat-icon-button","",3,"click"],["matSuffix","","mat-icon-button","",3,"click"],["mat-header-cell","","width","1"],["mat-cell","",2,"text-align","center"],["mat-header-cell","","width","1",1,"hide-xs"],["mat-cell","",1,"hide-xs",2,"text-align","left"],[1,"url"],[1,"method"],[1,"file"],[1,"line"],["mat-header-cell",""],["mat-cell",""],[1,"file","hide-gt-xs"],["mat-cell","",1,"hide-xs",2,"text-align","center","white-space","nowrap"],["mat-cell","",2,"white-space","nowrap","text-align","center"],["mat-footer-cell","",1,"no-results-found"],["mode","query"],["mat-header-row",""],["mat-row","",3,"click"],["mat-footer-row","",3,"ngClass"]],template:function(i,r){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),t._uU(4,"Rango de Fechas:"),t.qZA(),t.YNc(5,S,4,0,"span",3),t.TgZ(6,"mat-date-range-input",4)(7,"input",5),t.NdJ("ngModelChange",function(h){return r.filtro.rango_fechas.inicio=h}),t.qZA(),t.TgZ(8,"input",6),t.NdJ("ngModelChange",function(h){return r.filtro.rango_fechas.fin=h}),t.qZA()(),t._UZ(9,"mat-datepicker-toggle",7),t.TgZ(10,"mat-date-range-picker",8,9)(12,"mat-date-range-picker-actions")(13,"button",10),t._uU(14,"Cancelar"),t.qZA(),t.TgZ(15,"button",11),t.NdJ("click",function(){return r.checarFechasFiltro()}),t._uU(16,"Aplicar"),t.qZA()()()()(),t.TgZ(17,"div",12)(18,"mat-form-field",2)(19,"mat-label"),t._uU(20,"Folio:"),t.qZA(),t.TgZ(21,"input",13),t.NdJ("ngModelChange",function(h){return r.filtro.query=h})("keyup.enter",function(){return r.loadResultados()}),t.qZA(),t.YNc(22,F,3,2,"button",14),t.qZA()(),t.TgZ(23,"button",15),t.NdJ("click",function(){return r.loadResultados()}),t.TgZ(24,"mat-icon"),t._uU(25,"search"),t.qZA(),t._uU(26,"\xa0Buscar"),t.qZA()(),t._UZ(27,"alert-panel"),t.TgZ(28,"mat-card",16)(29,"div",17)(30,"div",18)(31,"table",19,20),t.ynx(33,21),t.YNc(34,N,2,0,"th",22)(35,I,3,4,"td",23),t.BQk(),t.ynx(36,24),t.YNc(37,j,2,0,"th",25)(38,E,10,4,"td",26),t.BQk(),t.ynx(39,27),t.YNc(40,z,2,0,"th",28)(41,D,6,3,"td",29),t.BQk(),t.ynx(42,30),t.YNc(43,Y,2,0,"th",31)(44,B,2,1,"td",32),t.BQk(),t.ynx(45,33),t.YNc(46,H,2,0,"th",22)(47,K,8,8,"td",34),t.BQk(),t.ynx(48,35),t.YNc(49,G,3,1,"td",36),t.BQk(),t.ynx(50,37),t.YNc(51,$,2,1,"td",36),t.BQk(),t.YNc(52,W,1,0,"tr",38)(53,X,1,0,"tr",39)(54,V,1,3,"tr",40)(55,tt,1,3,"tr",40),t.qZA()(),t.TgZ(56,"div")(57,"mat-paginator",41,42),t.NdJ("page",function(h){return r.pageEvent=r.loadResultados(h)}),t.qZA()()()()),2&i){const s=t.MAs(11);t.xp6(5),t.Q6J("ngIf",r.filtro.rango_fechas.inicio),t.xp6(1),t.Q6J("rangePicker",s),t.xp6(1),t.Q6J("ngModel",r.filtro.rango_fechas.inicio),t.xp6(1),t.Q6J("ngModel",r.filtro.rango_fechas.fin),t.xp6(1),t.Q6J("for",s),t.xp6(12),t.Q6J("ngModel",r.filtro.query),t.xp6(1),t.Q6J("ngIf",r.filtro.query),t.xp6(9),t.Q6J("dataSource",r.listadoResultados),t.xp6(21),t.Q6J("matHeaderRowDef",r.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(1),t.Q6J("matFooterRowDef",t.DdM(17,et)),t.xp6(1),t.Q6J("matFooterRowDef",t.DdM(18,ot)),t.xp6(2),t.Q6J("pageSize",r.pageSize)("pageIndex",r.currentPage)("length",r.resultsLength)("pageSizeOptions",t.DdM(19,nt))}},dependencies:[c.mk,c.O5,d.Fj,d.JJ,d.On,_.lW,_.RK,p.Hw,J.Nt,b.KE,b.hX,b.qo,b.R9,R.a8,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.mD,u.Ke,u.ge,u.ev,u.yh,u.XQ,u.Gk,u.Q2,P.NW,C.pW,k.YE,m.nW,m.wx,m.zY,m.By,m._g,m.M5,m.dp,m.DK,f.G,c.JJ,c.uU],styles:["@media (max-width: 599.98px){.file[_ngcontent-%COMP%]{font-weight:300!important}}.method[_ngcontent-%COMP%]{background-color:#20b2aa;border-radius:3px;text-align:center;padding:2px 5px;font-size:small;font-weight:500;color:#f5f5f5}.url[_ngcontent-%COMP%]{font-weight:500}.file[_ngcontent-%COMP%]{font-size:small;font-weight:400}.line[_ngcontent-%COMP%]{color:#a9a9a9}"]})}return n})()},9115:(at,y,l)=>{l.r(y),l.d(y,{SysLogErrorsModule:()=>_});var c=l(6814),f=l(1896),Z=l(7402),t=l(9560),x=l(9212);const T=[{path:"dev-tools/sys-log-errors",component:t.E,canActivate:[Z.a]}];let g=(()=>{class p{static#t=this.\u0275fac=function(C){return new(C||p)};static#e=this.\u0275mod=x.oAB({type:p});static#o=this.\u0275inj=x.cJS({imports:[f.Bz.forChild(T),f.Bz]})}return p})();var M=l(6208);let _=(()=>{class p{static#t=this.\u0275fac=function(C){return new(C||p)};static#e=this.\u0275mod=x.oAB({type:p});static#o=this.\u0275inj=x.cJS({imports:[c.ez,M.m,g]})}return p})()}}]);